.joke-container.introduction > div,
.joke-container .features-container {
  display: flex;
  flex-flow: row wrap;
  justify-content: center;
  align-items: center;
  gap: calc(var(--gap) * 2);
  margin: 0 auto;
  max-width: calc(100vw - calc(var(--page-padding) * 4) - var(--scrollbar_width));
}
.joke-container .accordion-container.submit-container {
  display: flex;
  flex-flow: column nowrap;
  gap: calc(var(--gap) * 2);
  max-width: calc(100vw - calc(var(--page-padding) * 4) - var(--scrollbar_width));
  justify-content: center;
  align-items: center;
}
.joke-container .accordion-container.submit-container > div {
  flex: 1 0 100%;
  width: 100%;
}
.joke-container .accordion-btn.close {
  margin: 2em auto;
}
.joke-container .select-container.language.main {
  margin-bottom: 2em;
}
.joke-container legend {
  text-align: center;
  font-size: 1.3em;
}
form.form-submit-new {
  display: flex;
  flex-flow: column wrap;
  gap: calc(var(--gap) * 3) var(--gap);
  max-width: calc(100vw - calc(var(--page-padding) * 4) - var(--scrollbar_width));
  justify-content: center;
  align-items: center;
}
.gap,
.flex.column.center {
  gap: calc(var(--gap) * 2);
}

.checkbox-wrap {
  display: flex;
  flex-flow: row wrap;
  gap: calc(var(--gap));
  align-items: center;
  justify-content: center;
}

.joke-container h2,
.joke-container h3 {
  margin-bottom: 1em;
}

form.joke-form-save,
form.joke-form-save article,
form.joke-form-save p,
form.joke-form-save button {
  transition-property: transform, opacity, background-position, color, border-color,
    box-shadow;
  transition-duration: 0.4s;
  transition-timing-function: ease-in-out;
  transform: scaleY(0);
  transform-origin: top;
}
form.joke-form-save.fadeIn,
form.joke-form-save article.fadeIn,
form.joke-form-save p.fadeIn,
form.joke-form-save button.fadeIn {
  transform: scaleY(1);
}
form.joke-form-save article p {
  width: 100%;
  text-align: left;
}
form.joke-form-save button.delivery {
  transform: scaleY(0);
  opacity: 0;
  transition-duration: 0.2s;
}
form.joke-form-save button.delivery.has-delivery {
  transform: scaleY(1);
  opacity: 1;
}
form.joke-form-save button.delivery.no-delivery {
  opacity: 0;
  transform: scaleY(0);
  transform-origin: bottom;
}
button.delivery p {
  width: 100%;
}

ul.userjokeslist {
  display: flex;
  flex-flow: column nowrap;
  gap: calc(var(--gap) * 8);
  padding: 0;
  margin-top: 2em;
}
.userjokeslist li {
  position: relative;
}
section.joke-container > div::after {
  content: '';
  position: absolute;
  top: -0.1rem;
  right: -0.1rem;
  bottom: -0.1rem;
  left: -0.1rem;
  background-image: linear-gradient(
    45deg,
    var(--color-primary-4),
    transparent,
    transparent,
    var(--color-primary-4)
  );
  z-index: -2;
  filter: blur(2rem);
}

.userjokeslist li::after {
  content: '';
  position: absolute;
  top: -0.1rem;
  right: -0.1rem;
  bottom: -0.1rem;
  left: -0.1rem;
  background-image: linear-gradient(
    45deg,
    var(--color-primary-6),
    transparent,
    transparent,
    var(--color-primary-6)
  );
  z-index: -2;
  filter: blur(2rem);
}
.userjokeslist li .primary-wrap {
  display: flex;
  flex-flow: column nowrap;
}
.userjokeslist li .secondary-wrap {
  display: flex;
  flex-flow: row wrap;
  gap: var(--gap);
  align-items: center;
  font-size: 0.8em;
}
.userjokeslist li .button-wrap {
  flex: 1 0 auto;
  text-align: right;
}

.joke-container {
  --border-radius: 1.5em;
}
form.joke {
  display: flex;
  flex-flow: row wrap;
  gap: calc(var(--gap) * 3) calc(var(--gap) / 2);
  max-width: calc(100vw - calc(var(--page-padding) * 4) - var(--scrollbar_width));
  justify-content: center;
  align-items: flex-end;
}
form.joke > *:not(.toggle) {
  flex: 1 0 100%;
}
.joke-container .option-btn {
  border-color: var(--color-primary-8);
  box-shadow: 0 0.1em 0.1em 0 var(--color-primary-8);
}
.light .joke-container .option-btn {
  border-color: var(--color-primary-5);
}
.joke-container .select-container .multiple .value span {
  padding-left: 0.6em; /* For when the multiple select is empty, with 'Select an option' */
}

.joke-container .select-container.category:not(.submit) {
  max-width: 100%;
  display: flex;
  flex-flow: column nowrap;
  justify-content: center;
  align-items: center;
  gap: calc(var(--gap) / 2);
}

.select-container .container,
.joke-container .input-wrap::before,
.joke-container .input-wrap.not-required:has(input:valid)::before,
.joke-container .input-wrap.not-required input {
  border-radius: var(--border-radius);
  padding-left: 1em;
}
.select-container .container {
  margin: 0;
}
.joke-container .container {
  margin: 0;
}
.joke-container .input-wrap label span {
  padding-left: 0.6em;
}
.joke-container button,
.joke-container ul.options {
  border-radius: var(--border-radius);
  overflow: hidden;
}
.joke-container ul.options {
  max-height: 20em;
}
.joke-container li.option label {
  display: inline-block;
  padding: 0.2em 0.8em 0.2em 0.8em;
}
.joke-container li.option:first-child label {
  padding-top: 0.5em;
}
.joke-container li.option:last-child label {
  padding-bottom: 0.5em;
}
.joke-container .option-btn {
  padding: 0 0.5em 0 0.8em;
}
.joke-container .multiple.container {
  padding-left: 0.4em;
}
.controls-wrap,
.toggle-wrap {
  display: flex;
  flex-flow: column wrap;
  justify-content: center;
  align-items: center;
  gap: calc(var(--gap) * 2);
}

.toggle-wrap .select-container.sortby {
  flex: 0 0 max-content;
  max-width: max-content;
  width: max-content;
  margin: 0;
  display: flex;
  flex-flow: column wrap;
  justify-content: center;
  align-items: center;
  gap: calc(var(--gap) / 2);
}
.toggle-wrap .select-container.sortby > * {
  flex: 0 0 max-content;
  max-width: max-content;
  width: max-content;
  margin: 0;
}
.toggle-wrap .select-container.sortby .container {
  max-width: max-content;
  width: max-content;
  font-size: 0.8em;
}
.toggle-wrap .select-container.sortby .value {
  flex-basis: max-content;
}
.toggle {
  font-size: 0.8em;
}
.toggle-wrap .toggle {
  --height: 2.1em;
}
.toggle-wrap .safemode {
  --width: calc(var(--height) * 3.2);
}
.toggle-wrap .safemode.es {
  --width: calc(var(--height) * 3.3);
}
.toggle-wrap .safemode.fr,
.toggle-wrap .safemode.en {
  --width: calc(var(--height) * 3);
}
.toggle-wrap .safemode.cs {
  --width: calc(var(--height) * 4);
}

.toggle-wrap .joketype.en {
  --width: calc(var(--height) * 3.3);
}
.toggle-wrap .joketype.cs,
.toggle-wrap .joketype.de {
  --width: calc(var(--height) * 3.5);
}
.toggle-wrap .joketype.es {
  --width: calc(var(--height) * 3.7);
}
.toggle-wrap .joketype.fr,
.toggle-wrap .joketype.pt {
  --width: calc(var(--height) * 4.1);
}

article {
  display: flex;
  flex-flow: column nowrap;
  justify-content: center;
  align-items: center;
  gap: var(--gap);
  font-size: 120%;
}

article.joke {
  gap: calc(var(--gap) * 2);
}
article p {
  margin: 0;
}
.small {
  font-size: 0.8em;
}
button.delivery {
  display: flex;
  flex-flow: row wrap;
  justify-content: center;
  align-items: center;
  min-width: 100%;
  border-radius: var(--border-radius);
  padding: 0.3em 0;
  min-height: 2em;
  background: linear-gradient(
    5deg,
    hsla(var(--hue-primary), 100%, 35%, 0) 0%,
    hsla(var(--hue-primary), 100%, 35%, 0) 50%,
    var(--color-primary-7) 70%,
    var(--color-primary-2) 100%
  );
  background-size: auto 200px;
  background-position: left 0% bottom 100%;
  pointer-events: all;
}
button.delivery:hover,
button.delivery:focus {
  background-position: left 0% bottom 80%;
  color: inherit;
}
button.delivery.reveal,
button.delivery.reveal:focus {
  border: none;
  outline: none;
  background-position: left 0% bottom 0%;
}
button.delivery.reveal {
  border-radius: 0;
}
button.delivery.reveal:focus-visible {
  outline: 0.2em solid var(--color-primary-19);
}
button.delivery span {
  position: absolute;
  display: inline-block;
  width: 100%;
  text-align: center;
  top: calc(50% - 0.6em);
  left: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}
button.delivery.reveal span {
  opacity: 0;
}
button.delivery p {
  opacity: 0;
  text-align: left;
  transition: opacity 0.2s ease-in-out;
  transition-delay: 0.3s;
  margin: 0;
}
button.delivery.reveal p {
  opacity: 1;
  color: var(--color-primary-19);
}

main .notification {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 999;
  display: flex;
  flex-flow: row nowrap;
  justify-content: center;
  align-items: center;
  text-align: center;
  pointer-events: none;
}
main .notification p {
  margin: 0;
  max-width: 40em;
  background-color: var(--color-primary-2);
  color: var(--color-primary-19);
  border-radius: var(--border-radius);
  padding: 1em;
  display: flex;
  flex-flow: row wrap;
  justify-content: center;
  align-items: center;
  gap: var(--gap);
}
main .notification.error p {
  color: red;
  background-color: black;
  border: 0.3em solid red;
}
main .notification p {
  pointer-events: all;
}

.downwards-arrow {
  position: relative;
  width: 100%;
  height: 2em;
  margin: 0 auto;
  overflow: hidden;
  -webkit-animation: fadeInDown 1s forwards;
  animation: fadeInDown 5s forwards;
  animation-play-state: paused;
  opacity: 0;
  text-align: center;
  font-size: 1.5em;
  pointer-events: none;
}

.downwards-arrow.play {
  animation-play-state: running;
}
.joke-container .select-container.submit {
  flex: 0 0 100%;
  max-width: 100%;
  width: 100%;
  margin: 0;
  display: flex;
  flex-flow: column nowrap;
  justify-content: center;
  align-items: center;
  gap: calc(var(--gap) / 2);
}
.joke-container .select-container > .instructions {
  text-align: center;
  font-size: 0.8em;
}
.joke-container .select-container .container {
  font-size: 0.8em;
}
.checkbox-wrap > * {
  flex: 0 0 100%;
}
.submit.joketype-container {
  gap: var(--gap);
}

@-webkit-keyframes fadeInDown {
  0% {
    opacity: 0;
    -webkit-transform: translateY(-0.5em);
    transform: translateY(-0.5em);
  }
  20% {
    opacity: 1;
    -webkit-transform: translateY(0.6em);
    transform: translateY(0.6em);
  }
  80% {
    opacity: 1;
    -webkit-transform: translateY(0.9em);
    transform: translateY(0.9em);
  }
  100% {
    opacity: 0;
    -webkit-transform: translateY(1.5em);
    transform: translateY(1.5em);
  }
}

@media (min-width: 320px) {
  .checkbox-wrap > * {
    flex: 0 0 calc(50% - var(--gap) / 2);
  }
  .toggle-wrap,
  .toggle-wrap .select-container.sortby {
    flex-flow: row wrap;
  }
  .joke-container .select-container.language:not(.submit),
  .joke-container .select-container.language:not(.submit) .container {
    flex: 0 1 max-content;
    max-width: max-content;
    width: max-content;
    margin: 0;
    gap: calc(var(--gap) / 2);
  }
  /* .joke-container .select-container.language.submit {
    flex: 0 0 auto;
    max-width: 100%;
    width: auto;
    margin: 0;
  } */

  .joke-container .select-container .value {
    flex-basis: max-content;
  }
}
@media (min-width: 600px) {
  .joke-container .checkbox-wrap {
    max-width: 25em;
    justify-content: space-between;
    font-size: 0.8em;
    gap: var(--gap) calc(var(--gap) / 2);
  }
  .checkbox-wrap > * {
    flex: 0 0 calc(33% - var(--gap));
  }
  .joke-container .select-container.category,
  .joke-container .select-container.language {
    flex-flow: row nowrap;
  }
  .joke-container .select-container.language {
    align-items: flex-end;
  }
  .joke-container .select-container.submit {
    flex-flow: row nowrap;
  }
  .joke-container .select-container.submit .container {
    flex-basis: calc(80% - var(--gap));
    width: calc(80% - var(--gap));
    max-width: 20em;
  }
  .joke-container .select-container.submit .instructions {
    flex-basis: calc(20% - var(--gap));
    width: calc(20% - var(--gap));
    max-width: 5em;
    text-align: right;
  }
  .joke-container .select-container > .instructions {
    flex: 0 0 max-content;
    max-width: max-content;
    width: max-content;
    margin: 0;
  }
  .joke-container .select-container > .instructions {
    margin-bottom: 0.5em;
  }
  .joke-container .multiple.container,
  .joke-container button {
    max-width: 26em;
  }
  .joke-container .input-wrap {
    max-width: 20em;
    width: 100%;
  }
}
@media (min-width: 700px) {
  .controls-wrap,
  .toggle-wrap {
    gap: calc(var(--gap) * 1.5);
  }
  .cs .controls-wrap,
  .cs .toggle-wrap {
    gap: calc(var(--gap) * 1.2);
  }
  .controls-wrap {
    flex-flow: row nowrap;
    align-items: center;
  }
}
@media (min-width: 800px) {
  .userjokeslist li .main-wrap {
    flex-flow: row nowrap;
    gap: var(--gap);
  }
  form.joke {
    gap: calc(var(--gap) * 3) var(--gap);
    align-items: center;
  }
  .joke-container .full {
    flex: 1 0 100%;
  }
  .joke-container .language:not(.submit),
  .joke-container .toggle-wrap {
    flex: 0 0 calc(50% - var(--gap) * 2);
  }
  .joke-container .toggle-wrap {
    flex-basis: max-content;
    justify-content: flex-start;
  }
  .joke-container .saved .toggle-wrap {
    justify-content: center;
  }
  .joke-container .select-container + .accordion-container.closed {
    margin: 0;
  }
}
