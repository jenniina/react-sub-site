const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/chunk-Ds55xyst.js","assets/entries/entry-client-routing.Bbnd9vHe.js","assets/chunks/chunk-VF2LHfxc.js","assets/chunks/chunk-CAff-kf5.js","assets/chunks/chunk-BmSI4Fww.js","assets/entries/src_pages.8IG4k9ME.js","assets/chunks/chunk-CVevwmbB.js","assets/chunks/chunk-CNpwfz3n.js","assets/chunks/chunk-D3Yr0q6g.js","assets/chunks/chunk-CKSHq_s9.js","assets/static/src_components_Nav_nav.DcneIkOu.css","assets/chunks/chunk-GmA6ITIw.js","assets/chunks/chunk-DFDIFHTJ.js","assets/chunks/chunk-BvVqAYuT.js","assets/chunks/chunk-Xgiuglox.js","assets/chunks/chunk-CmA2CWkd.js","assets/chunks/chunk-Cgv-mfVR.js","assets/chunks/chunk-fiALBYsU.js","assets/chunks/chunk-DbeWnEfh.js","assets/chunks/chunk-BurK_taE.js","assets/chunks/chunk-BVvUx4OK.js","assets/chunks/chunk-B3S1iNVp.js","assets/chunks/chunk-ei4kQ0Q2.js","assets/chunks/chunk-B_VbuTrp.js","assets/static/src_components_Select_select.CimA6Gt4.css","assets/chunks/chunk-DAUSXQgp.js","assets/static/src_components_Modal_modal.CbnZMdwa.css","assets/chunks/chunk-RtNBUybj.js","assets/static/src_pages_css_portfolio.CobdKDwb.css","assets/chunks/chunk-CrSVf9D1.js","assets/static/src_pages_css_about.WLJNejns.css","assets/chunks/chunk-Cgo1rCBn.js","assets/static/src_pages_css_disclaimer.tn0RQdqM.css","assets/chunks/chunk-DQcwr13S.js","assets/static/src_components_Store_store.739lCcfL.css","assets/chunks/chunk-ITMKy72C.js","assets/static/src_components_DragAndDrop_dragAndDrop.nzYxpsON.css","assets/chunks/chunk-e2Lvd1W2.js","assets/static/src_components_Confirm_css_confirm.PkGjZh4r.css","assets/chunks/chunk-mrHSz1EB.js","assets/static/src_components_Images_images.D__9EApC.css","assets/chunks/chunk-CFcfonrM.js","assets/static/src_components_Todo_css_todo.DdPdOL7s.css","assets/chunks/chunk-CblELM-r.js","assets/static/src_pages_css_useredit.C8iHZ--I.css","assets/chunks/chunk-CEm4-sWZ.js","assets/static/src_pages_css_welcome.D34tVg6Q.css","assets/chunks/chunk-CeuMhN-M.js","assets/static/src_components_Hero_hero.BHFXoff8.css","assets/static/src_css_App-73433860.CQH0klWf.css","assets/static/src_css_form-f0fd4370.ruWewV9h.css","assets/static/src_components_Blob_css_blob-3343a0bc.Dd8ObI_E.css","assets/static/src_pages_pages-portfolio_css_quiz-539960c0.DD9CL5Hk.css","assets/static/src_css_index-36aef647.D4A5laED.css","assets/chunks/chunk-DDoA0iX_.js","assets/chunks/chunk-CtjXaO95.js","assets/static/src_components_ButtonToggle_buttonToggle.CsVqfVrg.css","assets/chunks/chunk-BEaUEAcq.js","assets/chunks/chunk-BYLounmj.js","assets/chunks/chunk-DK4hLP5Q.js","assets/static/src_components_Jokes_css_joke-be210e72.D9DZFa4V.css"])))=>i.map(i=>d[i]);
import{_ as e}from"../entries/entry-client-routing.Bbnd9vHe.js";import{a,j as o}from"./chunk-CAff-kf5.js";/* empty css              */import{L as t,q as l,N as i,O as s,P as n,Q as r,R as u,b as d,U as c,i as g,V as v,j as f,W as h,X as p,Y as k,Z as m,_ as y,$ as j,a0 as S,a1 as w,a2 as $,a3 as C,a4 as x,a5 as J,a6 as b,a7 as E,a8 as _,a9 as T,aa as L,ab as N,ac as I,E as D,w as A}from"../entries/src_pages.8IG4k9ME.js";import{a as R}from"./chunk-Xgiuglox.js";import{a as O}from"./chunk-ei4kQ0Q2.js";import{c as M}from"./chunk-DFDIFHTJ.js";const F="https://api.chucknorris.io/jokes",B={getNorrisCategories:async()=>(await O.get(`${F}/categories`)).data,getFullyRandomNorrisJoke:async()=>(await O.get(`${F}/random`)).data,getRandomJokeFromNorrisCategory:async e=>(await O.get(`${F}/random?category=${e}`)).data,searchNorrisJoke:async e=>{const a=await O.get(`${F}/search?query=${e}`);if(!a.data.result||0===a.data.result.length)return;const o=Math.floor(Math.random()*a.data.result.length);return a.data.result[o]}},V="https://icanhazdadjoke.com/",W={getRandomDadJoke:async()=>(await O.get(V,{headers:{Accept:"application/json"}})).data,searchDadJokes:async e=>{const a=await O.get(`${V}/search?term=${e}&limit=100`,{headers:{Accept:"application/json"}});if(!a.data||0===a.data.results.length)return;const o=Math.floor(Math.random()*a.data.results.length);return a.data.results[o]},getDadJokeById:async e=>(await O.get(`${V}/j/${e}`,{headers:{Accept:"application/json"}})).data},Y=a.lazy(()=>e(()=>import("./chunk-Ds55xyst.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56]))),q=a.lazy(()=>e(()=>import("./chunk-BEaUEAcq.js"),__vite__mapDeps([57,3,4,5,6,7,1,2,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,58]))),P=a.lazy(()=>e(()=>import("./chunk-DK4hLP5Q.js"),__vite__mapDeps([59,3,4,8,5,6,7,1,2,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,60])));const U=Object.freeze(Object.defineProperty({__proto__:null,default:function({language:e,setLanguage:O}){const{t:F}=a.useContext(t),V=l(),U=R(e=>{var a;return null==(a=e.jokes)?void 0:a.jokes}),z=R(e=>{var a;return null==(a=e.jokes)?void 0:a.joke}),K=R(e=>e.users),Q=R(e=>{var a;return null==(a=e.auth)?void 0:a.user}),H={en:i,es:j,fr:y,de:m,pt:k,cs:p,fi:h},G=F("LanguageTitle"),[X,Z]=a.useState(""),[ee,ae]=a.useState(""),[oe,te]=a.useState(""),[le,ie]=a.useState(H.en),[se,ne]=a.useState(e),[re,ue]=a.useState(s.Misc),[de,ce]=a.useState([]),[ge,ve]=a.useState([{value:"any",label:"Any"}]),[fe,he]=a.useState(ge[0]),[pe,ke]=a.useState([]),[me,ye]=a.useState(n.twopart),[je,Se]=a.useState(!1),[we,$e]=a.useState(r.Safe),[Ce,xe]=a.useState(!0),[Je,be]=a.useState(u.None),[Ee,_e]=a.useState(""),[Te,Le]=a.useState(""),[Ne,Ie]=a.useState(!1),[De,Ae]=a.useState(!0),[Re,Oe]=a.useState(""),[Me,Fe]=a.useState(!1),[Be,Ve]=a.useState(!1),[We,Ye]=a.useState(!1),[qe,Pe]=a.useState(!1),[Ue,ze]=a.useState(!1),[Ke,Qe]=a.useState(null),[He,Ge]=a.useState([]),[Xe,Ze]=a.useState(6),[ea,aa]=a.useState(!1),[oa,ta]=a.useState({nsfw:!1,religious:!1,political:!1,racist:!1,sexist:!1,explicit:!1}),la=d();a.useEffect(()=>{const e=!!(null==de?void 0:de.find(e=>"ChuckNorris"===e.value));Pe(""===Ee&&e)},[Ee,de,qe]),a.useEffect(()=>{la(c())},[]),a.useEffect(()=>{la(g())},[]),a.useEffect(()=>{la(v()).then(()=>{f(`${F("JokesLoaded")}...`,!1,3)}).catch(e=>{var a,o;(null==(o=null==(a=e.response)?void 0:a.data)?void 0:o.message)?la(f(e.response.data.message,!0,8)):la(f(`${F("Error")}: ${(null==e?void 0:e.message)??""}`,!0,8))})},[]),a.useEffect(()=>{e&&(ie(H[e]),ce(de.map(a=>({...a,label:H[e][a.value]}))))},[e]);const ia=()=>{xe(!Ce)};a.useEffect(()=>{$e(Ce?r.Safe:r.Unsafe)},[Ce]),a.useEffect(()=>{ye(je?n.twopart:n.single)},[je]);const sa=e=>Object.entries(e).map(([e,a])=>({value:e,label:a}));function na(e,a){for(const o in e)if(e[o]===a)return o}const[ra,ua]=a.useState(void 0);a.useEffect(()=>{const e=null==U?void 0:U.find(e=>e.jokeId.toString()===(null==z?void 0:z.jokeId.toString())&&e.language===(null==z?void 0:z.language)&&e.category===(null==z?void 0:z.category));e&&ua(e)},[z,U]);const da=e=>{var a;if(e.preventDefault(),Q){if(ra){if(ra.user.includes(null==(a=null==Q?void 0:Q._id)?void 0:a.toString()))return void la(f(`${F("JokeAlreadySaved")}`,!1,8));la(E({...ra,user:[...ra.user,null==Q?void 0:Q._id]})).then(()=>v()).catch(e=>{var a,o;(null==(o=null==(a=e.response)?void 0:a.data)?void 0:o.message)?la(f(e.response.data.message,!0,8)):la(f(`${F("Error")}:: ${(null==e?void 0:e.message)??""}`,!0,8))})}else z&&(null==z?void 0:z.type)===n.single?la(_({jokeId:(null==z?void 0:z.jokeId.toString())??Re.toString(),joke:X,type:n.single,category:(null==z?void 0:z.category)??re??s.Misc,subCategories:(null==z?void 0:z.subCategories)??(null==pe?void 0:pe.length)>0?pe:void 0,language:(null==z?void 0:z.language)??se,safe:!Object.values(oa).some(e=>e),user:[Q._id],flags:{nsfw:null==z?void 0:z.flags.nsfw,religious:null==z?void 0:z.flags.religious,political:null==z?void 0:z.flags.political,racist:null==z?void 0:z.flags.racist,sexist:null==z?void 0:z.flags.sexist,explicit:null==z?void 0:z.flags.explicit}})).then(()=>{la(v())}).catch(e=>{var a,o;(null==(o=null==(a=e.response)?void 0:a.data)?void 0:o.message)?la(f(e.response.data.message,!0,8)):la(f(`${F("Error")}*: ${(null==e?void 0:e.message)??""}`,!0,8))}):z&&(null==z?void 0:z.type)===n.twopart&&la(_({jokeId:(null==z?void 0:z.jokeId.toString())??Re.toString(),setup:X,delivery:ee,type:n.twopart,category:(null==z?void 0:z.category)??re??s.Misc,subCategories:(null==pe?void 0:pe.length)>0?pe:void 0,language:(null==z?void 0:z.language)??se,safe:!Object.values(null==z?void 0:z.flags).some(e=>e),user:[Q._id],flags:{nsfw:null==z?void 0:z.flags.nsfw,religious:null==z?void 0:z.flags.religious,political:null==z?void 0:z.flags.political,racist:null==z?void 0:z.flags.racist,sexist:null==z?void 0:z.flags.sexist,explicit:null==z?void 0:z.flags.explicit}})).then(()=>{la(v())}).catch(e=>{var a,o;(null==(o=null==(a=e.response)?void 0:a.data)?void 0:o.message)?la(f(e.response.data.message,!0,8)):la(f(`${F("Error")}: ${(null==e?void 0:e.message)??""}`,!0,8))});la(f(`${F("SavedJoke")}`,!1,8))}else la(f(`${F("LoginOrRegisterToSave")}`,!1,8))},[ca,ga]=a.useState([]);a.useEffect(()=>{if(Array.isArray(U)&&(null==U?void 0:U.length)>0&&Array.isArray(K)&&(null==K?void 0:K.length)>0){let e=null==U?void 0:U.map(e=>{const a=null==K?void 0:K.find(a=>a._id==e.author),o=S[e.language];return{...e,translatedLanguage:o??"",name:e.anonymous?F("Anonymous"):(null==a?void 0:a.name)??""}});e=Ce?Ce?e.filter(e=>e.safe).sort((e,a)=>{var o,t;return(null==(o=a.user)?void 0:o.length)-(null==(t=e.user)?void 0:t.length)}):[]:e.filter(e=>!1===e.safe).sort((e,a)=>{var o,t;return(null==(o=a.user)?void 0:o.length)-(null==(t=e.user)?void 0:t.length)}),ga(e)}},[U,K,e,Ce]);const va=async(a=0)=>{const o=de.map(e=>e.value);if(a>5)return;const t=a=>{if(a&&(null==a?void 0:a.length)>0&&Array.isArray(K)&&(null==K?void 0:K.length)>0){const o=a[Math.floor(Math.random()*(null==a?void 0:a.length))];if(He.some(a=>a.jokeId===o.jokeId&&a.language===e))return void va();if(Ge(a=>[...a,{jokeId:o.jokeId,language:e}]),(null==He?void 0:He.length)>Xe&&Ge(e=>e.slice(1)),o){if(Oe(o.jokeId),ne(e),ue(o.category),"joke"in o?Z(o.joke):"setup"in o&&Z(o.setup),ae("delivery"in o?null==o?void 0:o.delivery:""),!1!==o.private&&void 0!==o.private||!1!==o.anonymous)te("");else{const e=null==K?void 0:K.find(e=>e._id==o.author);te((null==e?void 0:e.name)??"")}return void la(T(o))}return la(f(`${F("Error")}! ${F("NoJokeFoundWithThisSearchTerm")}. ${F("TryAnotherSearchTerm")}`,!0,8)),Z(""),ae(""),void te("")}return la(f(`${F("Error")}! ${F("NoJokeFoundWithThisSearchTerm")}. ${F("TryAnotherSearchTerm")}`,!0,8)),Z(""),ae(""),void te("")},l=je?n.twopart:n.single,i=null==ca?void 0:ca.filter(a=>a.language===e&&(0===(null==o?void 0:o.length)||o.includes(a.category))&&(!1===a.private&&!0===a.verified||void 0===a.private)&&a.safe===Ce&&a.type===l),r=(null==de?void 0:de.length)<1,u=de.some(e=>"ChuckNorris"===e.value),d=de.some(e=>"DadJoke"===e.value),c=""!==Ee.trim()||"&"!==Ee;ne(e);let g=i;if(c){const a=Ee.replace(/&$/,"");g=null==i?void 0:i.filter(t=>{var i,s,n,r,u,d,c,g;if(t){const v="joke"in t&&(null==(i=t.joke)?void 0:i.toLowerCase().includes(a.toLowerCase()))||"setup"in t&&(null==(s=t.setup)?void 0:s.toLowerCase().includes(a.toLowerCase()))||"delivery"in t&&(null==(n=t.delivery)?void 0:n.toLowerCase().includes(a.toLowerCase()))||(null==(r=t.name)?void 0:r.toLowerCase().includes(a.toLowerCase()))||(null==(u=t.category)?void 0:u.toLowerCase().includes(a.toLowerCase()))||(null==(d=t.subCategories)?void 0:d.includes(null==a?void 0:a.toLowerCase()))||(null==(c=t.translatedLanguage)?void 0:c.toLowerCase().includes(a.toLowerCase())),f=!((null==o?void 0:o.length)>0)||o.includes(t.category),h=t.language===e,p=""===(null==fe?void 0:fe.value)||"any"===(null==fe?void 0:fe.value)||(null==(g=t.subCategories)?void 0:g.includes(null==fe?void 0:fe.value));return t.safe===Ce&&t.type===l&&(!1===t.private&&!0===t.verified||void 0===t.private)&&(h&&f&&p&&v)}})}if(g=null==g?void 0:g.filter(e=>{var a;return!(null==(a=null==Q?void 0:Q.blacklistedJokes)?void 0:a.some(a=>a.jokeId===e.jokeId&&a.language===e.language))}),g&&(null==g?void 0:g.length)>0&&e===D.fi)return void t(g);if(g&&(null==g?void 0:g.length)>0&&Math.random()<.1)return void t(g);const v=Ee.replace(/&$/,"");if(u||d){if(e!==D.en)return void t(g);if(u&&d){const e=Math.floor(A(1,2.999));if(1===e&&u){const e=c?v:null;if(!(await fa(B,e,s.ChuckNorris,!c)))return void ha()}else if(e>1&&d){const e=c?v:null;if(!(await fa(W,e,s.DadJoke,!c)))return void ha()}}else if(u){const e=c?v:null;if(!(await fa(B,e,s.ChuckNorris,!c)))return void ha()}else if(d){const e=c?v:null;if(!(await fa(W,e,s.DadJoke,!c)))return void ha()}}else if(r&&!je){const e=Math.floor(A(1,10.999)),a=c?v:null;1===e?await fa(B,a,s.ChuckNorris,!c)||await fa(W,a,s.DadJoke,!1):2===e?await fa(W,a,s.DadJoke,!1)||await fa(B,a,s.ChuckNorris,!c):e>2&&pa()}else pa()};async function fa(a,o,t,l){var i,u;let d;try{if(t===s.ChuckNorris&&a===B)if(Ce||(null==fe?void 0:fe.value)&&"any"!==(null==fe?void 0:fe.value))if((null==fe?void 0:fe.value)&&"any"!==(null==fe?void 0:fe.value))d=await a.getRandomJokeFromNorrisCategory(null==fe?void 0:fe.value);else{const e=(()=>{const e=we===r.Unsafe?ge.filter(e=>"any"!==e.value):ge.filter(e=>"any"!==e.value&&"explicit"!==e.value&&"religion"!==e.value&&"political"!==e.value);return e[Math.floor(Math.random()*(null==e?void 0:e.length))]})();d=o?await a.searchNorrisJoke(o):await a.getRandomJokeFromNorrisCategory(e.value)}else d=await a.getFullyRandomNorrisJoke();else t===s.DadJoke&&a===W&&(d=o?await a.searchDadJokes(o):await a.getRandomDadJoke());if(d){if(ka(d.id))return void va();ue(t),Oe(d.id),await(async(a,o,t,l)=>{var i,s,r,u,d,c,g,v,f,h,p,k,m;ka(a.id)||l&&He.some(o=>o.jokeId===a.jokeId&&o.language===e)?va():(Ge(o=>[...o,{jokeId:a.id,language:e}]),(null==He?void 0:He.length)>Xe&&Ge(e=>e.slice(1)),ue(o),ke(t??[]),la(T({jokeId:a.id.toString(),joke:a.joke||a.value,type:n.single,category:o,subCategories:t&&(null==t?void 0:t.length)>0?t:void 0,language:D.en,safe:!((null==(i=null==a?void 0:a.categories)?void 0:i.includes("explicit"))||(null==(s=null==a?void 0:a.categories)?void 0:s.includes("political"))||(null==(r=null==a?void 0:a.categories)?void 0:r.includes("religion"))),user:a.user,flags:{nsfw:(null==(u=a.categories)?void 0:u.nsfw)??!1,religious:(null==(d=a.categories)?void 0:d.religion)??!1,political:(null==(c=a.categories)?void 0:c.political)??!1,racist:(null==(g=a.categories)?void 0:g.racist)??!1,sexist:(null==(v=a.categories)?void 0:v.sexist)??!1,explicit:(null==(f=a.categories)?void 0:f.explicit)??!1}})),ta({explicit:(null==(h=null==a?void 0:a.categories)?void 0:h.includes("explicit"))??!1,religious:(null==(p=null==a?void 0:a.categories)?void 0:p.includes("religious"))??!1,political:(null==(k=null==a?void 0:a.categories)?void 0:k.includes("political"))??!1,racist:!1,sexist:!1,nsfw:(null==(m=null==a?void 0:a.categories)?void 0:m.includes("explicit"))??!1}),Z(a.joke||a.value),ae(""),Oe(a.id),ne(D.en),Z(a.joke||a.value))})(d,t,(null==d?void 0:d.subCategories)??[],l)}else pa()}catch(c){(null==(u=null==(i=c.response)?void 0:i.data)?void 0:u.message)&&la(f(c.response.data.message,!0,8)),pa()}return!!d}const ha=()=>{la(f(`${F("Error")}! ${F("NoJokeFoundWithThisSearchTerm")}`,!0,8)),Z(""),ae("")};a.useEffect(()=>{(null==de?void 0:de.length)<1&&ue(null)},[de]);const pa=(a=0)=>{const o=de.map(e=>e.value).filter(e=>"ChuckNorris"!==e&&"DadJoke"!==e),t=(null==o?void 0:o.length)>0?o.join(","):"Any";fetch(`https://v2.jokeapi.dev/joke/${t}?${Je}${Ee}lang=${e}&format=json${we}&type=${me}`).then(e=>e.json()).then(o=>{var l,i,r,d,c,g;if(!(a>5))if(ka(o.id)||Je===u.None&&He.some(a=>a.jokeId===o.jokeId&&a.language===e))pa(a+1);else{if(Ge(a=>[...a,{jokeId:o.id,language:e}]),(null==He?void 0:He.length)>Xe&&Ge(e=>e.slice(1)),ta({nsfw:(null==(l=o.flags)?void 0:l.nsfw)??!1,religious:(null==(i=o.flags)?void 0:i.religious)??!1,political:(null==(r=o.flags)?void 0:r.political)??!1,racist:(null==(d=o.flags)?void 0:d.racist)??!1,sexist:(null==(c=o.flags)?void 0:c.sexist)??!1,explicit:(null==(g=o.flags)?void 0:g.explicit)??!1}),ue(o.category),o.error)return"Any"===t?(la(f(`${F("Error")}! ${F("NoJokeFoundWithThisSearchTerm")}. ${F("MaybeTryAnotherLanguage")}`,!0,10)),Z(""),ae(""),void Oe("")):(Z(""),ae(""),la(f(`${F("Error")}! ${F("NoJokeFoundWithThisSearchTerm")}`,!0,8)),void Oe(""));me===n.twopart?(la(T({jokeId:o.id.toString(),setup:o.setup,delivery:o.delivery,type:n.twopart,category:o.category,subCategories:(null==pe?void 0:pe.length)>0?pe:void 0,language:e,safe:!(re===s.Dark||!Object.values(oa).some(e=>e)),user:Q?[Q._id]:[],flags:{nsfw:oa.nsfw,religious:oa.religious,political:oa.political,racist:oa.racist,sexist:oa.sexist,explicit:oa.explicit}})),ue(o.category),Z(o.setup),ae(o.delivery),Oe(o.id)):(la(T({jokeId:o.id.toString(),joke:o.joke,type:n.single,category:o.category,subCategories:(null==pe?void 0:pe.length)>0?pe:void 0,language:e,safe:!(re===s.Dark||!Object.values(oa).some(e=>e)),user:Q?[Q._id]:[],flags:{nsfw:oa.nsfw,religious:oa.religious,political:oa.political,racist:oa.racist,sexist:oa.sexist,explicit:oa.explicit}})),ue(o.category),Z(o.joke),ae(""),Oe(o.id))}}).catch(e=>{var a,o;(null==(o=null==(a=e.response)?void 0:a.data)?void 0:o.message)?la(f(e.response.data.message,!0,8)):la(f(`${F("Error")}! ${e.response.data.message}`,!0,8))})};function ka(a){var o;return(null==(o=null==Q?void 0:Q.blacklistedJokes)?void 0:o.some(o=>o.jokeId===a&&o.language===e))??!1}a.useEffect(()=>{(async()=>{const e=await B.getNorrisCategories(),a=ma(e),o=Ce?a.filter(e=>"explicit"!==e.value&&"religion"!==e.value&&"political"!==e.value):a;Ce&&he(a[0]),ve(o)})()},[we]),a.useEffect(()=>{""===Ee.trim()||"&"===Ee?be(u.None):be(u.Contains),"&"===Ee&&_e("")},[Ee]),a.useEffect(()=>{const e=null==document?void 0:document.querySelector(".login-container.closed button.open"),a=null==document?void 0:document.querySelector(".login-container.open button.close"),o=null==document?void 0:document.querySelector(".register-container.closed button.open"),t=null==document?void 0:document.querySelector(".register-container.open button.close");null==e||e.addEventListener("click",()=>{!0===Be&&(null==t||t.click()),Fe(!0),Ve(!1)}),null==o||o.addEventListener("click",()=>{!0===Me&&(null==a||a.click()),Ve(!0),Fe(!1)}),null==a||a.addEventListener("click",()=>{Fe(!1)}),null==t||t.addEventListener("click",()=>{Ve(!1)})},[]);const ma=(a,o)=>{var t;const l=null==(t=Object.entries(a))?void 0:t.map(([a,o])=>({value:o,label:I[o]&&I[o][e]?I[o][e]:o.charAt(0).toUpperCase()+o.slice(1)}));return l.unshift({value:"any",label:I.any[e]||F("Any")}),l},ya=(e,a)=>{const o={en:i,es:j,fr:y,de:m,pt:k,cs:p,fi:h};let t=e;return e===s.ChuckNorris&&(t="ChuckNorris"),e===s.DadJoke&&(t="DadJoke"),o[a][t]},ja=M(),Sa=async(e,a,o)=>{var t;if(await V({message:`${F("AreYouSureYouWantToHideThisJoke")}`})){if(null==(t=null==Q?void 0:Q.blacklistedJokes)?void 0:t.some(o=>o.jokeId===e&&o.language===a))return la(f(F("ThisJokeIsAlreadyBlacklisted"),!0,3)),la(C(null==Q?void 0:Q._id)).then(()=>la(g())),Z(""),ae(""),te(""),void Oe("");Array.isArray(K)&&Q?la(x(null==Q?void 0:Q._id)).then(o=>{const t=null==o?void 0:o.find(o=>{var t;return(null==(t=o.jokeId)?void 0:t.toString())===(null==e?void 0:e.toString())&&o.language===a});t&&la(J(null==t?void 0:t._id)).then(()=>la(v()))}).then(()=>{la(b(null==Q?void 0:Q._id,e,a,o)).then(()=>{la(f(`${F("JokeHidden")}`,!1,3)),la(v()).then(()=>la(C(null==Q?void 0:Q._id))).then(()=>la(g())).then(()=>{Z(""),ae(""),te(""),Oe("")})}).catch(e=>{var a,o;la(v()).then(()=>la(C(null==Q?void 0:Q._id))).then(()=>la(g())),(null==(o=null==(a=e.response)?void 0:a.data)?void 0:o.message)?la(f(e.response.data.message,!0,8)):la(f(`${F("ErrorDeletingJoke")}`,!1,5)),Z(""),ae(""),te(""),Oe("")})}):la(f(`${F("ErrorDeletingJoke")}`,!1,3))}};return o.jsxs(o.Fragment,{children:[o.jsx("section",{className:`joke-container card ${e}`,id:"jokeform",children:o.jsx("div",{children:o.jsxs("div",{className:"jokes-wrap",children:[o.jsx("h2",{children:F("TheComediansCompanion")}),o.jsx("p",{className:"center textcenter mb3",children:F("AJokeGeneratorForTheComicallyInclined")}),o.jsx(a.Suspense,{fallback:o.jsxs("div",{className:"flex center margin0auto textcenter",children:[F("Loading"),"..."]}),children:o.jsx(Y,{sending:ea,handleFormSubmit:e=>{e.preventDefault(),aa(!0),setTimeout(()=>{Ye(!0)},400),Ae(!0),setTimeout(()=>{va(),Ie(!0),setTimeout(()=>{Ie(!1),aa(!1)},5500);const e=null==document?void 0:document.querySelector("#queryValue");e&&e.scrollIntoView({behavior:"smooth"})},600)},jokeCategory:re,setJokeCategory:ue,categoryValues:de,setCategoryValues:ce,setQueryValue:_e,setLanguage:O,language:e,joke:X,delivery:ee,jokeId:Re,author:oe,options:w,getKeyByValue:na,query:Te,setQuery:Le,isCheckedSafemode:Ce,isCheckedJokeType:je,handleToggleChangeSafemode:ia,handleToggleChangeEJokeType:()=>{Se(!je)},submitted:Ne,reveal:De,setReveal:Ae,handleJokeSave:da,optionsCategory:sa,categoryByLanguages:le,visibleJoke:We,setVisibleJoke:Ye,norrisCategories:ge,selectedNorrisCategory:fe,setSelectedNorrisCategory:he,hasNorris:qe,getCategoryInLanguage:ya,subCategoryResults:pe,handleBlacklistUpdate:Sa})})]})})}),o.jsx("section",{className:`joke-container ${e}`,children:o.jsxs("div",{children:[Q?o.jsxs("p",{className:"textcenter",children:[F("LoggedInAs")," ",null==Q?void 0:Q.name]}):o.jsxs("div",{className:"register-login-wrap",children:[o.jsx("button",{onClick:()=>{ja("/portfolio/jokes?login=login")},children:F("Login")}),o.jsx("button",{onClick:()=>{ja("/portfolio/jokes?register=register")},children:F("Register")})]}),Q&&o.jsx(a.Suspense,{fallback:o.jsxs("div",{className:"flex center margin0auto textcenter",children:[F("Loading"),"..."]}),children:o.jsx(q,{userId:null==Q?void 0:Q._id,language:e,categoryByLanguages:le,getKeyByValue:na,options:w,optionsCategory:sa,jokeCategoryByLanguage:$,norrisCategories:ge})})]})}),o.jsx("section",{className:`joke-container card ${e}`,children:o.jsx("div",{children:o.jsx(a.Suspense,{fallback:o.jsxs("div",{className:"flex center margin0auto textcenter",children:[F("Loading"),"..."]}),children:o.jsx(P,{sending:ea,user:Q,handleDelete:(e,a)=>async o=>{var t,l;if(o.preventDefault(),aa(!0),await V({message:`${F("Delete")} ${F("Joke").toLowerCase()} "${a}"?`}))try{la(N(e,null==Q?void 0:Q._id)).then(()=>{la(v())}),aa(!1)}catch(i){(null==(l=null==(t=i.response)?void 0:t.data)?void 0:l.message)&&la(f(i.response.data.message,!0,8)),aa(!1)}},language:e,isCheckedSafemode:Ce,setIsCheckedSafemode:xe,handleToggleChangeSafemode:ia,translateWordLanguage:G,getKeyofEnum:function(e,a){return Object.keys(e).find(o=>e[o]===a)},options:w,optionsSortBy:a=>Object.entries(a).map(([a,o])=>({value:a,label:o[e]})),norrisCategories:ge,getCategoryInLanguage:ya,handleUpdate:(e,a)=>async o=>{o.preventDefault(),aa(!0);const t=U.find(a=>a._id===e);if(!t)return la(f(`${F("Error")}!`,!0,8)),void aa(!1);const l=async a=>{var o,t;try{await la(E(a)),await la(v());const o=await la(E({...a,verified:!1,_id:e}));la(f(`${F("SavedJoke")}. ${o.message??""}`,!1,8)),Qe(null),ze(!1),aa(!1)}catch(l){const e="ERR_BAD_RESPONSE"===(null==l?void 0:l.code)?null==(t=null==(o=null==l?void 0:l.response)?void 0:o.data)?void 0:t.message:(null==l?void 0:l.message)??"";la(f(`${F("Error")}: ${e}`,!0,8)),aa(!1)}},i=()=>{!0===t.private&&!1===a.private?a.category===s.Dark||Object.values(a.flags).some(e=>e)?(l({...a,private:!0,verified:!1,safe:!1}),aa(!1)):(l({...a,private:!0,verified:!1,_id:e}),aa(!1)):a.category==s.Dark||Object.values(a.flags).some(e=>e)?a.category===s.Dark||Object.values(a.flags).some(e=>e)?(l({...a,safe:!1,_id:e}),aa(!1)):(l(a),aa(!1)):(l({...a,safe:!0,_id:e}),aa(!1))};!0===t.private&&!1===a.private?await V({message:F("AreYouSureYouWantToMakeThisJokePublic")})&&i():!1===t.private&&!0===a.private?await V({message:F("AreYouSureYouWantToMakeThisJokePrivate")})&&i():i()},setIsEditOpen:ze,editId:Ke,setEditId:Qe,handleRemoveJokeFromBlacklisted:async(e,a,o)=>{e.preventDefault(),la(T(a)),aa(!0),await V({message:`${F("AreYouSureYouWantToRestoreThisJoke")}`})&&(Q?(la(L(null==Q?void 0:Q._id,o,null==a?void 0:a.language)).then(e=>{la(v()).then(()=>la(C(null==Q?void 0:Q._id))).then(()=>la(g())).then(()=>la(f(`${F("JokeRestored")}`,!1,3)))}).catch(e=>{var a,o;(null==(o=null==(a=e.response)?void 0:a.data)?void 0:o.message)?la(f(e.response.data.message,!0,8)):la(f(`${F("ErrorDeletingJoke")}`,!1,3))}),aa(!1)):(la(f(`${F("ErrorDeletingJoke")}`,!1,3)),aa(!1))),setTimeout(async()=>{await V({message:`${F("WouldYouLikeToSaveTheJoke")}`})&&(Q?(da(e),la(v()).then(()=>la(C(null==Q?void 0:Q._id))).then(()=>la(g())).then(()=>la(f(`${F("SavedJoke")}`,!1,8))).catch(e=>{var a,o;(null==(o=null==(a=e.response)?void 0:a.data)?void 0:o.message)?la(f(e.response.data.message,!0,8)):la(f(`${F("ErrorDeletingJoke")}`,!1,3))}),aa(!1)):(la(f(`${F("ErrorDeletingJoke")}`,!1,3)),aa(!1)))},600)},handleBlacklistUpdate:Sa})})})})]})}},Symbol.toStringTag,{value:"Module"}));export{U as J,W as d,B as n};
