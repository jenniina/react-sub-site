import{a as e,j as a}from"./chunk-CAff-kf5.js";import{s}from"./chunk-DreCVr2t.js";import{A as r}from"./chunk-tC3HKOro.js";import{L as t,q as n,o as i,b as l,r as c,E as d,t as o,A as p,T as h,j as m,v as u,w as j}from"../entries/src_pages.8IG4k9ME.js";import{c as x}from"./chunk-BsEC4zEh.js";import{L as y}from"./chunk-GmA6ITIw.js";import{B as g}from"./chunk-DDoA0iX_.js";import{a as v,v as k,R as C}from"./chunk-D3Yr0q6g.js";import"./chunk-BmSI4Fww.js";import"./chunk-CVevwmbB.js";import"./chunk-CNpwfz3n.js";import"../entries/entry-client-routing.Bbnd9vHe.js";import"./chunk-VF2LHfxc.js";/* empty css              *//* empty css              */import"./chunk-CKSHq_s9.js";import"./chunk-Xgiuglox.js";import"./chunk-CmA2CWkd.js";import"./chunk-Cgv-mfVR.js";import"./chunk-fiALBYsU.js";import"./chunk-DbeWnEfh.js";import"./chunk-BurK_taE.js";import"./chunk-BVvUx4OK.js";import"./chunk-B3S1iNVp.js";import"./chunk-ei4kQ0Q2.js";import"./chunk-B_VbuTrp.js";import"./chunk-DFDIFHTJ.js";import"./chunk-BvVqAYuT.js";import"./chunk-DAUSXQgp.js";import"./chunk-RtNBUybj.js";import"./chunk-CrSVf9D1.js";import"./chunk-Cgo1rCBn.js";import"./chunk-DQcwr13S.js";/* empty css              */import"./chunk-ITMKy72C.js";import"./chunk-e2Lvd1W2.js";import"./chunk-mrHSz1EB.js";/* empty css              */import"./chunk-CFcfonrM.js";import"./chunk-CblELM-r.js";import"./chunk-CEm4-sWZ.js";import"./chunk-CeuMhN-M.js";/* empty css              */import"./chunk-CtjXaO95.js";const w=({language:w,cart:b,addToCart:$,removeFromCart:N,editDetails:f,removeCart:q})=>{const{t:F}=e.useContext(t),A=n(),T=i(),D=l(),[P,I]=c("localStorageTotal",0),[S,R]=c("localStorageEmail",""),[E,J]=c("JCartName",""),[B,O]=c("JCartBusiness",!1),[L,z]=c("JCartCompanyName",""),[H,K]=c("JCartCountry",""),[M,W]=c("JCartAddress",""),[G,Q]=c("JCartCity",""),[U,Y]=c("JCartZip",""),[Z,_]=c("JCartPhone",""),[V,X]=c("JCartBusinessID",""),[ee,ae]=c("JCartDetails",{email:S,name:E,businessID:V,zip:U,city:G,address:M,country:H,phone:Z}),[se,re]=c("JCartExtra",""),[te,ne]=e.useState(!1),[ie,le]=e.useState(!1),[ce,de]=e.useState(!1);e.useEffect(()=>{ae({name:E,companyName:L,email:S,businessID:V,zip:U,city:G,address:M,country:H,phone:Z})},[E,L,S,V,U,G,M,H,Z]);const oe=(e,a)=>{a<0&&e&&N(null==e?void 0:e.id),a>0&&$(e)};return e.useEffect(()=>{I(b.reduce((e,a)=>e+a.price*a.quantity,0))},[b]),a.jsxs("div",{className:`${s["cart-wrap"]} ${T?s.light:""}`,children:[a.jsxs(y,{to:"/store",className:s["back-to-store"],children:[a.jsx("span",{"aria-hidden":!0,children:"«"})," ",a.jsx(v,{})," ",a.jsx("strong",{children:F("BackToStore")})]}),w!==d.fi&&w!==d.en&&a.jsx("p",{children:F("PleaseNoteThatTheAuthorJenniinaLaineSpeaksOnlyEnglishAndFinnishSo")}),a.jsxs("form",{onSubmit:e=>{e.preventDefault(),de(!0),b.length<1&&(D(m(F("PleaseChooseAProduct"),!0,8)),de(!1)),te?ie?B&&E&&""!==E.trim()&&L&&""!==L.trim()&&V&&""!==V.trim()&&S&&""!==S.trim()&&M&&""!==M.trim()&&U&&""!==U.trim()&&G&&""!==G.trim()&&H&&""!==H.trim()||!B&&E&&""!==E.trim()&&S&&""!==S.trim()&&M&&""!==M.trim()&&U&&""!==U.trim()&&G&&""!==G.trim()&&H&&""!==H.trim()?x.newOrder(w,{orderID:`${Math.ceil(j(1e5,999999))}-${u(2,!0)}`,info:ee,total:P,extra:se,items:b}).then(e=>{e.success?(D(m(e.message,!1,10)),q(),I(0),de(!1)):(D(m(e.message,!1,10)),de(!1))}).catch(e=>{e.response&&e.response.data&&e.response.data.message?D(m(e.response.data.message,!0,8)):D(m(e.message,!0,8)),de(!1)}):(D(m(F("PleaseFillInTheFields"),!0,8)),de(!1)):(D(m(`${F("Remember")}: ${F("TermsOfService")}`,!0,8)),de(!1)):(D(m(`${F("Remember")}: ${F("GDPRConsent")}`,!0,8)),de(!1))},className:s["cart-form"],children:[b.map((e,t)=>a.jsxs("div",{className:s.wrap,children:[a.jsxs("h2",{children:[a.jsxs("span",{children:[t+1,". "]}),a.jsx("span",{children:e.name})]}),a.jsx("p",{children:o(e.description)}),a.jsx(r,{type:e.id,language:w,styles:s,isOpen:!0,setIsFormOpen:()=>{},classNameWrap:s["additional-info-wrap"],text:F("Includes")}),a.jsxs("div",{className:`${s.quantity}`,children:["misc-quote"!==e.id?a.jsxs(a.Fragment,{children:[a.jsxs("button",{type:"button",onClick:async()=>{if(e.quantity-1<1)return await A({message:`${F("Remove")}: ${e.name}?`})?void N(e.id):void 0;oe(e,-1)},className:`tooltip-wrap ${s["quantity-btn"]}`,children:[a.jsx("span",{className:"tooltip above space right narrow2",children:F("SubtractFromCart")}),a.jsx("span",{children:"-1"})]}),a.jsxs("span",{children:[F("Quantity"),": ",e.quantity]}),a.jsxs("button",{type:"button",onClick:()=>{oe(e,1)},className:`tooltip-wrap ${s["quantity-btn"]}`,children:[a.jsx("span",{className:"tooltip above space right narrow2",children:F("AddToCart")}),a.jsx("span",{children:"+1"})]})]}):a.jsx("button",{type:"button",onClick:async()=>{if(e.quantity-1<1)return await A({message:`${F("Remove")}: ${e.name}?`})?void N(e.id):void 0;oe(e,-1)},children:a.jsx("span",{children:F("Remove")})}),e.quantity>=10?a.jsxs("span",{children:[F("Total"),": ",e.quantity+3," ",F("Hours")]}):e.quantity>=5?a.jsxs("span",{children:[F("Total"),": ",e.quantity+1," ",F("Hours")]}):""]}),"misc-quote"!==e.id?a.jsx(a.Fragment,{children:a.jsxs("p",{children:[F("Price"),": ",e.price," € × ",e.quantity," ="," ",a.jsxs("b",{children:[e.price*e.quantity," €"]})]})}):a.jsxs("p",{children:[F("Price"),": ",e.price," €"," "]}),e.id.startsWith("misc")&&e.quantity>=5&&a.jsx("p",{children:a.jsxs("big",{children:[a.jsx(k,{})," ",a.jsx("span",{children:F("FreeHourUnlocked")})," ",e.quantity>=10?a.jsxs(a.Fragment,{children:[a.jsxs("strong",{children:[" × ",3," "]}),a.jsx("span",{children:"—"})," ",a.jsx("span",{children:F("SaveTheFollowingAmountOfMoney")}),a.jsxs("strong",{children:[" ",3*e.price," € "]})]}):e.quantity>=5?a.jsxs(a.Fragment,{children:[a.jsx("span",{children:" —"})," ",a.jsx("span",{children:F("SaveTheFollowingAmountOfMoney")}),a.jsxs("strong",{children:[" ",e.price," € "]})]}):""]})}),a.jsx("div",{className:s["item-details"],children:a.jsx("div",{className:`${s["textarea-wrap"]} textarea-wrap`,children:a.jsxs("label",{htmlFor:`${e.id}-details`,children:[a.jsxs("span",{children:[F("RequestsAndNeeds"),":"]}),a.jsx("textarea",{rows:5,required:!0,id:`details-${e.id}`,name:`details-${e.id}`,placeholder:e.id.startsWith("misc")&&"misc-quote"!==e.id?F("AdditionalInformation"):F("RequestsIdeasAndLinksForInspiration"),onChange:a=>{f(e.id,a.target.value)}})]})})})]},`${e.id}-${t}`)),b.length>0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:s.total,children:a.jsx("big",{children:a.jsxs("span",{children:[F("Total"),": ",P," €"," "]})})}),a.jsxs("div",{className:`${s["please-fill"]}`,children:[a.jsx("div",{className:`${s["toggle-wrap"]}`,children:a.jsx(g,{id:"business-toggle",className:`${s.toggle}`,name:"company",on:F("Yes"),off:F("No"),equal:!0,isChecked:B,handleToggleChange:()=>O(!B),label:`${F("CompanyOrAssociation")}: `})}),B?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`${s["input-wrap"]} input-wrap placeholder`,children:a.jsxs("label",{htmlFor:"business-id",children:[a.jsx("input",{type:"text",name:"business-id",id:"business-id",required:!0,value:V,placeholder:F("BusinessID"),onChange:e=>X(e.target.value)}),a.jsxs("span",{children:[F("BusinessID"),":"]})]})}),a.jsx("div",{className:`${s["input-wrap"]} input-wrap placeholder`,children:a.jsxs("label",{htmlFor:"company-name",children:[a.jsx("input",{type:"text",id:"company-name",name:"company",required:!0,value:L,placeholder:`${F("CompanyName")}/${F("AssociationName")}`,onChange:e=>z(e.target.value)}),a.jsxs("span",{children:[F("Company"),"/",F("Association"),":"]})]})}),a.jsx("div",{className:`${s["input-wrap"]} input-wrap placeholder`,children:a.jsxs("label",{htmlFor:"name-cart",children:[a.jsx("input",{type:"text",id:"name-cart",name:"name",required:!0,value:E,placeholder:F("ContactPerson"),onChange:e=>J(e.target.value)}),a.jsxs("span",{children:[F("ContactPerson"),":"]})]})}),a.jsx("div",{className:`${s["input-wrap"]} input-wrap placeholder`,children:a.jsxs("label",{htmlFor:"email-cart",children:[a.jsx("input",{type:"email",name:"email",id:"email-cart",required:!0,value:S,placeholder:F("EmailAddress"),onChange:e=>R(e.target.value)}),a.jsxs("span",{children:[F("Email"),":"]})]})}),a.jsx("div",{className:`${s["input-wrap"]} input-wrap placeholder`,children:a.jsxs("label",{htmlFor:"address-cart",children:[a.jsx("input",{type:"text",id:"address-cart",name:"address",required:!0,value:M,placeholder:F("BillingAddress"),onChange:e=>W(e.target.value)}),a.jsxs("span",{children:[F("BillingAddress"),":"]})]})}),a.jsx("div",{className:`${s["input-wrap"]} input-wrap placeholder`,children:a.jsxs("label",{htmlFor:"zip-cart",children:[a.jsx("input",{type:"text",id:"zip-cart",name:"postal-code",required:!0,value:U,placeholder:F("PostalCode"),onChange:e=>Y(e.target.value),onKeyDown:e=>{/[0-9]/.test(e.key)||"Backspace"===e.key||"Delete"===e.key||"ArrowLeft"===e.key||"ArrowRight"===e.key||"Tab"===e.key||e.preventDefault()}}),a.jsxs("span",{children:[F("PostalCode"),":"]})]})}),a.jsx("div",{className:`${s["input-wrap"]} input-wrap placeholder`,children:a.jsxs("label",{htmlFor:"city-cart",children:[a.jsx("input",{id:"city-cart",type:"text",name:"city",required:!0,value:G,placeholder:F("City"),onChange:e=>Q(e.target.value)}),a.jsxs("span",{children:[F("City"),":"]})]})}),a.jsx("div",{className:`${s["input-wrap"]} input-wrap placeholder`,children:a.jsxs("label",{htmlFor:"country-cart",children:[a.jsx("input",{type:"text",id:"country-cart",name:"country",required:!0,value:H,placeholder:F("Country"),onChange:e=>K(e.target.value)}),a.jsxs("span",{children:[F("Country"),":"]})]})}),a.jsx("div",{className:`${s["input-wrap"]} input-wrap placeholder not-required ${Z&&""!==Z.trim()?"filled":"not-filled"}`,children:a.jsxs("label",{htmlFor:"phone-cart",children:[a.jsx("input",{type:"text",id:"phone-cart",name:"phone",value:Z,placeholder:F("Phone"),onChange:e=>_(e.target.value),onKeyDown:e=>{/[0-9]/.test(e.key)||"Backspace"===e.key||"Delete"===e.key||"ArrowLeft"===e.key||"ArrowRight"===e.key||"Tab"===e.key||" "===e.key||e.preventDefault()}}),a.jsxs("span",{children:[F("Phone")," (",F("Optional").toLowerCase(),"):"]})]})})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`${s["input-wrap"]} input-wrap placeholder`,children:a.jsxs("label",{htmlFor:"name-cart",children:[a.jsx("input",{type:"text",id:"name-cart",name:"name",required:!0,value:E,placeholder:F("PrivatePerson"),onChange:e=>J(e.target.value)}),a.jsxs("span",{children:[F("Name"),":"]})]})}),a.jsx("div",{className:`${s["input-wrap"]} input-wrap placeholder`,children:a.jsxs("label",{htmlFor:"email-cart",children:[a.jsx("input",{type:"email",name:"email",id:"email-cart",required:!0,value:S,placeholder:F("EmailAddress"),onChange:e=>R(e.target.value)}),a.jsxs("span",{children:[F("Email"),":"]})]})}),a.jsx("div",{className:`${s["input-wrap"]} input-wrap placeholder`,children:a.jsxs("label",{htmlFor:"address-cart",children:[a.jsx("input",{type:"text",id:"address-cart",name:"address",required:!0,value:M,placeholder:F("BillingAddress"),onChange:e=>W(e.target.value)}),a.jsxs("span",{children:[F("BillingAddress"),":"]})]})}),a.jsx("div",{className:`${s["input-wrap"]} input-wrap placeholder`,children:a.jsxs("label",{htmlFor:"zip-cart",children:[a.jsx("input",{type:"text",name:"postal-code",id:"zip-cart",required:!0,value:U,placeholder:F("PostalCode"),onChange:e=>Y(e.target.value),onKeyDown:e=>{/[0-9]/.test(e.key)||"Backspace"===e.key||"Delete"===e.key||"ArrowLeft"===e.key||"ArrowRight"===e.key||"Tab"===e.key||e.preventDefault()}}),a.jsxs("span",{children:[F("PostalCode"),":"]})]})}),a.jsx("div",{className:`${s["input-wrap"]} input-wrap placeholder`,children:a.jsxs("label",{htmlFor:"city-cart",children:[a.jsx("input",{type:"text",id:"city-cart",name:"city",required:!0,value:G,placeholder:F("City"),onChange:e=>Q(e.target.value)}),a.jsxs("span",{children:[F("City"),":"]})]})}),a.jsx("div",{className:`${s["input-wrap"]} input-wrap placeholder`,children:a.jsxs("label",{htmlFor:"country-cart",children:[a.jsx("input",{type:"text",id:"country-cart",name:"country",required:!0,value:H,placeholder:F("Country"),onChange:e=>K(e.target.value)}),a.jsxs("span",{children:[F("Country"),":"]})]})})]}),a.jsx("div",{className:`${s["textarea-wrap"]} textarea-wrap`,children:a.jsxs("label",{htmlFor:"extra",children:[a.jsxs("span",{children:[F("AdditionalInformation"),":"]}),a.jsx("textarea",{rows:5,id:"extra",value:se,placeholder:`${F("Clarifications")}${B?`, ${F("EG")} ${F("DesiredReference")}`:""}`,onChange:e=>re(e.target.value)})]})})]}),a.jsxs("div",{className:`${s["send-order-wrap"]} flex center`,children:[a.jsx("div",{className:s.terms,children:a.jsxs("label",{children:[a.jsx("input",{id:"terms-cart",required:!0,type:"checkbox",name:"terms",onChange:e=>{le(e.target.checked)}}),a.jsxs("span",{children:[F("IAcceptThe")," ",a.jsx(y,{to:"/terms",children:F("TermsOfServiceLink")})]})]})}),a.jsx("div",{className:s.gdpr,children:a.jsxs("label",{className:"radio-checkbox",children:[a.jsx("input",{id:"gdpr-cart",required:!0,type:"checkbox",name:"gdpr",onChange:e=>{ne(e.target.checked)}}),a.jsx("span",{children:F("ItIsAlrightToSendTheEnteredInformationToJenniina")})]})}),a.jsxs("button",{className:s.submit,type:"submit",disabled:ce,children:[a.jsx("span",{children:F("SubmitOrder")})," ",a.jsx(C,{})]}),a.jsx(p,{className:"cart-accordion grayer",text:F("TermsRelatedToProducts"),language:w,wrapperClass:s["more-info-wrap"],children:a.jsx(h,{language:w})})]}),a.jsx("div",{className:`${s["clear-btn-wrap"]} flex center`,children:a.jsx("button",{type:"button",onClick:async()=>{await A({message:`${F("Remove")}: ${F("Cart")}?`})&&(q(),I(0))},className:"danger delete",children:F("ClearCart")})})]}):a.jsx(a.Fragment,{children:a.jsxs("p",{className:"flex center",children:["[ ",F("EmptyCart")," ]"]})})," "]})]})};export{w as default};
