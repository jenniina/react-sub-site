import{r as t}from"./chunk-CVevwmbB.js";import"./chunk-CmA2CWkd.js";import{a as e}from"./chunk-CAff-kf5.js";import"./chunk-Cgv-mfVR.js";import{w as n}from"./chunk-fiALBYsU.js";let o=function(t){t()};const r=Symbol.for("react-redux-context"),c="undefined"!=typeof globalThis?globalThis:{};function u(){var t;if(!e.createContext)return{};const n=null!=(t=c[r])?t:c[r]=new Map;let o=n.get(e.createContext);return o||(o=e.createContext(null),n.set(e.createContext,o)),o}const s=u();function i(t=s){return function(){return e.useContext(t)}}const a=i();let l=()=>{throw new Error("uSES not initialized!")};const f=(t,e)=>t===e;function b(t=s){const n=t===s?a:i(t);return function(t,o={}){const{equalityFn:r=f,stabilityCheck:c,noopCheck:u}="function"==typeof o?{equalityFn:o}:o,{store:s,subscription:i,getServerState:a,stabilityCheck:b,noopCheck:d}=n();e.useRef(!0);const p=e.useCallback({[t.name]:e=>t(e)}[t.name],[t,b,c]),h=l(i.addNestedSub,s.getState,a||s.getState,p,r);return e.useDebugValue(h),h}}const d=b();function p(){const t=o;let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){let t=[],n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let o=!0,r=n={callback:t,next:null,prev:n};return r.prev?r.prev.next=r:e=r,function(){o&&null!==e&&(o=!1,r.next?r.next.prev=r.prev:n=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}const h={notify(){},get:()=>[]};const S=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?e.useLayoutEffect:e.useEffect;function y({store:t,context:n,children:o,serverState:r,stabilityCheck:c="once",noopCheck:u="once"}){const i=e.useMemo(()=>{const e=function(t){let e,n=h,o=0,r=!1;function c(){i.onStateChange&&i.onStateChange()}function u(){o++,e||(e=t.subscribe(c),n=p())}function s(){o--,e&&0===o&&(e(),e=void 0,n.clear(),n=h)}const i={addNestedSub:function(t){u();const e=n.subscribe(t);let o=!1;return()=>{o||(o=!0,e(),s())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:c,isSubscribed:function(){return r},trySubscribe:function(){r||(r=!0,u())},tryUnsubscribe:function(){r&&(r=!1,s())},getListeners:()=>n};return i}(t);return{store:t,subscription:e,getServerState:r?()=>r:void 0,stabilityCheck:c,noopCheck:u}},[t,r,c,u]),a=e.useMemo(()=>t.getState(),[t]);S(()=>{const{subscription:e}=i;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[i,a]);const l=n||s;return e.createElement(l.Provider,{value:i},o)}function v(t=s){const e=t===s?a:i(t);return function(){const{store:t}=e();return t}}const x=v();function C(t=s){const e=t===s?x:v(t);return function(){return e().dispatch}}const g=C();var m,k;m=n.useSyncExternalStoreWithSelector,l=m,k=t.unstable_batchedUpdates,o=k;export{y as P,d as a,g as u};
