import{a as e,j as l}from"./chunk-CAff-kf5.js";import{b3 as s,b4 as a,b5 as i,b6 as n,b7 as t,b8 as o,b9 as r,ba as d,bb as u,bc as c,bd as v,be as h,bf as g,O as p,J as j,bg as m,bh as x,K as k,N as b}from"./chunk-D3Yr0q6g.js";import{L as f,E as y,O as C,b as w,aI as N,i as S,U as L,V as J,ac as A,S as F,aJ as $,a9 as I,P as E,A as T,a0 as B,aH as O,j as P,a7 as D}from"../entries/src_pages.8IG4k9ME.js";import{B as _}from"./chunk-DDoA0iX_.js";import{a as M}from"./chunk-Xgiuglox.js";import{n as R,d as U}from"./chunk-Dk_VrNYO.js";import"./chunk-BmSI4Fww.js";import"./chunk-CVevwmbB.js";import"./chunk-CNpwfz3n.js";import"../entries/entry-client-routing.Bbnd9vHe.js";import"./chunk-VF2LHfxc.js";/* empty css              *//* empty css              */import"./chunk-CKSHq_s9.js";import"./chunk-GmA6ITIw.js";import"./chunk-DFDIFHTJ.js";import"./chunk-BvVqAYuT.js";import"./chunk-CmA2CWkd.js";import"./chunk-Cgv-mfVR.js";import"./chunk-DbeWnEfh.js";import"./chunk-BurK_taE.js";import"./chunk-BVvUx4OK.js";import"./chunk-B3S1iNVp.js";import"./chunk-ei4kQ0Q2.js";import"./chunk-B_VbuTrp.js";import"./chunk-DAUSXQgp.js";import"./chunk-RtNBUybj.js";import"./chunk-CrSVf9D1.js";import"./chunk-Cgo1rCBn.js";import"./chunk-DQcwr13S.js";/* empty css              */import"./chunk-ITMKy72C.js";import"./chunk-e2Lvd1W2.js";import"./chunk-mrHSz1EB.js";/* empty css              */import"./chunk-CFcfonrM.js";import"./chunk-CblELM-r.js";import"./chunk-CEm4-sWZ.js";import"./chunk-CeuMhN-M.js";/* empty css              */import"./chunk-fiALBYsU.js";import"./chunk-CtjXaO95.js";/* empty css              */var V=(e=>(e.newest="newest",e.oldest="oldest",e))(V||{});const q=({user:V,handleDelete:q,handleUpdate:K,language:H,isCheckedSafemode:Y,setIsCheckedSafemode:W,handleToggleChangeSafemode:z,translateWordLanguage:G,optionsSortBy:Q,getKeyofEnum:X,options:Z,norrisCategories:ee,getCategoryInLanguage:le,setIsEditOpen:se,editId:ae,setEditId:ie,handleRemoveJokeFromBlacklisted:ne,handleBlacklistUpdate:te,sending:oe})=>{var re;const{t:de}=e.useContext(f),ue=M(e=>e.users),ce=null==V?void 0:V._id,ve=M(e=>{var l;return null==(l=e.jokes)?void 0:l.jokes}),[he,ge]=e.useState([]),[pe,je]=e.useState({}),[me,xe]=e.useState(!1),[ke,be]=e.useState(he),[fe,ye]=e.useState(!1),[Ce,we]=e.useState([]),[Ne,Se]=e.useState(!1),[Le,Je]=e.useState(0),[Ae,Fe]=e.useState("popularity"),[$e,Ie]=e.useState(""),[Ee,Te]=e.useState(""),[Be,Oe]=e.useState(""),[Pe,De]=e.useState(!1),[_e,Me]=e.useState(ee[0]),[Re,Ue]=e.useState(void 0),[Ve,qe]=e.useState(y.en),[Ke,He]=e.useState(C.Misc),[Ye,We]=e.useState("newest"),[ze,Ge]=e.useState(!0),[Qe,Xe]=e.useState(3),[Ze,el]=e.useState(!1),ll=w();e.useEffect(()=>{if(Array.isArray(ve)&&ve.length>0&&Array.isArray(ue)&&(null==ue?void 0:ue.length)>0){let e=null==ve?void 0:ve.map(e=>{const l=null==V?void 0:V.name,s=N[H][X(y,e.language)];return{...e,visible:!1,translatedLanguage:s??"",name:e.anonymous?"ÖÖÖ_Anonymous":l??""}});e=Y?Y?e.filter(e=>e.safe).sort((e,l)=>{var s,a;return(null==(s=l.user)?void 0:s.length)-(null==(a=e.user)?void 0:a.length)}):[]:e.filter(e=>!1===e.safe).sort((e,l)=>{var s,a;return(null==(s=l.user)?void 0:s.length)-(null==(a=e.user)?void 0:a.length)}),ge(e)}},[ve,ue,H,Y,Ae,Ye,ze]),e.useEffect(()=>{We(ze?"newest":"oldest")},[ze]);e.useEffect(()=>{ll(S()),ll(L()),ll(J())},[]),e.useEffect(()=>{const e=Ee===C.ChuckNorris;De(e)},[Ee]);const sl=e=>{ol(1),Ie(e.target.value)};e.useEffect(()=>{setTimeout(()=>{const e=null==document?void 0:document.querySelectorAll(".select-container"),l=(null==e?void 0:e.length)+2;null==e||e.forEach((e,s)=>{const a=l-s;e.style.zIndex=`${a}`})},500)},[fe]),e.useEffect(()=>{xe(!ce)},[ce]);e.useEffect(()=>{var e;ol(1);let l=[...he];"age"===Ae&&(l=null==(e=[...he])?void 0:e.sort((e,l)=>{const s=e.createdAt?new Date(e.createdAt).getTime():0,a=l.createdAt?new Date(l.createdAt).getTime():0;return"newest"===Ye?a-s:s-a})),l=null==l?void 0:l.filter(e=>{var l,s,a,i,n,t,o,r,d;if(e){const u="joke"in e&&(null==(l=e.joke)?void 0:l.toLowerCase().includes($e.toLowerCase()))||"setup"in e&&(null==(s=e.setup)?void 0:s.toLowerCase().includes($e.toLowerCase()))||"delivery"in e&&(null==(a=e.delivery)?void 0:a.toLowerCase().includes($e.toLowerCase()))||(null==(i=e.name)?void 0:i.toLowerCase().includes($e.toLowerCase()))||(null==(n=e.category)?void 0:n.toLowerCase().includes($e.toLowerCase()))||(null==(t=e.subCategories)?void 0:t.includes(null==$e?void 0:$e.toLowerCase()))||(null==(o=e.translatedLanguage)?void 0:o.toLowerCase().includes($e.toLowerCase())),c=!Ee||e.category===Ee,v=""===Be||e.language===Be,h=""===(null==_e?void 0:_e.value)||"any"===(null==_e?void 0:_e.value)||(null==(r=e.subCategories)?void 0:r.includes(null==_e?void 0:_e.value));return(me&&!1===e.private&&!0===e.verified||me&&void 0===e.private||!(me||!(null==(d=e.user)?void 0:d.includes(ce))))&&v&&c&&h&&u}}),l=null==l?void 0:l.filter(e=>{var l;return!(null==(l=null==V?void 0:V.blacklistedJokes)?void 0:l.some(l=>l.jokeId===e.jokeId&&l.language===e.language))}),"popularity"===Ae&&(l=null==l?void 0:l.sort((e,l)=>{var s,a;return(null==(s=l.user)?void 0:s.length)-(null==(a=e.user)?void 0:a.length)})),"category"===Ae&&(l=null==l?void 0:l.sort((e,l)=>e.category>l.category?1:-1)),"language"===Ae&&(l=null==l?void 0:l.sort((e,l)=>e.translatedLanguage>l.translatedLanguage?1:-1)),"name"===Ae&&(l=null==l?void 0:l.sort((e,l)=>e.name>l.name?1:-1));const s=l.slice(0,Qe);if(Ne&&l.length>0){const e=l[Math.floor(Math.random()*l.length)];be([e])}else be(Ze?s:l)},[me,he,Ee,Be,_e,$e,Ne,Le,Ye,Ae,Ze,Qe]);let al=Array.from(new Set(null==(re=null==he?void 0:he.filter(e=>!1===e.private&&!0===e.verified||void 0===e.private))?void 0:re.flatMap(e=>e.subCategories))).map(e=>{const l=e?A[e][H]||e:"";return{label:((null==l?void 0:l.charAt(0).toUpperCase())??e??"")+((null==l?void 0:l.slice(1))??e??""),value:e}});al=al.filter(e=>"any"!==e.value),al.unshift({label:A.any[H].charAt(0).toUpperCase()+A.any[H].slice(1),value:"any"}),e.useEffect(()=>{Me(al[0])},[H]),e.useEffect(()=>{(async()=>{var e;if(Array.isArray(ve)&&ve.length>0&&V&&(null==V?void 0:V.blacklistedJokes)){const l=await Promise.all((null==(e=null==V?void 0:V.blacklistedJokes)?void 0:e.map(async e=>{let l=e.value;return(null==ve?void 0:ve.find(l=>{var s,a;return(null==(s=l.jokeId)?void 0:s.toString())===(null==(a=e.jokeId)?void 0:a.toString())&&l.language===e.language}))??await nl(e.jokeId,e.language,l??void 0)}))||[]);we(l)}})()},[null==V?void 0:V.blacklistedJokes,ve]);const il=null==Ce?void 0:Ce.filter(e=>{var l,s,a,i,n;if(e){return"joke"in e&&(null==(l=e.joke)?void 0:l.toLowerCase().includes($e.toLowerCase()))||"setup"in e&&(null==(s=e.setup)?void 0:s.toLowerCase().includes($e.toLowerCase()))||"delivery"in e&&(null==(a=e.delivery)?void 0:a.toLowerCase().includes($e.toLowerCase()))||(null==(i=e.category)?void 0:i.toLowerCase().includes($e.toLowerCase()))||(null==(n=e.subCategories)?void 0:n.includes(null==$e?void 0:$e.toLowerCase()))}}),nl=async(e,l,s)=>{var a,i,n,t,o,r,d,u,c,v,h,g,p,j,m,x,k,b,f;try{if(!s){const s=await fetch(`https://v2.jokeapi.dev/joke/Any?idRange=${e}&lang=${l}&format=json`),a=await s.json();if(a.error){const l=await U.getDadJokeById(e);return{jokeId:l.id,joke:l.joke,category:C.DadJoke,language:y.en,type:E.single,safe:!0}}return"twopart"===a.type?{jokeId:a.id,setup:a.setup,delivery:a.delivery,category:a.category,language:a.lang,type:E.twopart,safe:!((null==(r=a.flags)?void 0:r.nsfw)||(null==(d=a.flags)?void 0:d.religious)||(null==(u=a.flags)?void 0:u.political)||(null==(c=a.flags)?void 0:c.racist)||(null==(v=a.flags)?void 0:v.sexist)||(null==(h=a.flags)?void 0:h.explicit)||!a.safe)}:{jokeId:a.id,joke:a.joke,category:a.category,language:a.lang,type:E.single,safe:!((null==(g=a.flags)?void 0:g.nsfw)||(null==(p=a.flags)?void 0:p.religious)||(null==(j=a.flags)?void 0:j.political)||(null==(m=a.flags)?void 0:m.racist)||(null==(x=a.flags)?void 0:x.sexist)||(null==(k=a.flags)?void 0:k.explicit)||!a.safe)}}{let e;try{e=await R.searchNorrisJoke(s)}catch(w){return(null==(i=null==(a=w.response)?void 0:a.data)?void 0:i.message)&&ll(P(w.response.data.message,!0,8)),null}finally{return{jokeId:e.id,joke:e.value,category:C.ChuckNorris,language:y.en,type:E.single,safe:!((null==(n=e.categories)?void 0:n.includes("explicit"))||(null==(t=e.categories)?void 0:t.includes("political"))||(null==(o=e.categories)?void 0:o.includes("religion")))}}}}catch(w){return(null==(f=null==(b=w.response)?void 0:b.data)?void 0:f.message)&&ll(P(w.response.data.message,!0,8)),null}};e.useEffect(()=>{ce||ye(!1)},[ce]);const[tl,ol]=e.useState(1),[rl,dl]=e.useState(10),[ul,cl]=e.useState(1),[vl,hl]=e.useState(3),gl=e=>{ol(e),e<=2?(cl(1),hl(3)):e>=xl.length-1?(cl(xl.length-2),hl(xl.length)):(cl(e-1),hl(e+1))};e.useEffect(()=>{tl||ol(1)},[tl]),e.useEffect(()=>{gl(1),ye(!1)},[me]);const pl=tl*rl,jl=pl-rl,ml=null==ke?void 0:ke.slice(jl,pl),xl=[];for(let e=1;e<=Math.ceil((null==ke?void 0:ke.length)/rl);e++)null==xl||xl.push(e);const kl=null==xl?void 0:xl.slice(ul-1,vl);e.useEffect(()=>{tl>xl.length&&ol(1)},[xl]);const bl=e=>l.jsxs("div",{className:"pagination",children:[(null==xl?void 0:xl.length)>1&&l.jsx("div",{children:l.jsxs("span",{children:[tl," / ",null==xl?void 0:xl.length]})}),l.jsxs("div",{children:[l.jsxs("div",{className:"chevrons-wrap back",children:[l.jsxs("button",{className:`inner-nav-btn first tooltip-wrap ${1===tl?"disabled":""} ${(null==xl?void 0:xl.length)<=3?"hidden":""}`,disabled:1===tl,onClick:()=>gl(1),children:[l.jsx(j,{})," ",l.jsx("span",{className:"tooltip narrow2 below right",children:de("FirstPage")})]}),l.jsxs("button",{className:`inner-nav-btn back tooltip-wrap ${1===tl?"disabled":""} ${(null==xl?void 0:xl.length)<=3?"hidden":""}`,disabled:1===tl,onClick:()=>gl(tl-1),children:[l.jsx(k,{})," ",l.jsx("span",{className:"tooltip narrow2 below right",children:de("Back")})]})]}),l.jsx("div",{className:"numbers"+(1===(null==xl?void 0:xl.length)?" hidden":""),children:null==kl?void 0:kl.map(e=>l.jsx("button",{className:`${e>9?"over9":e>99?"over99":e>999?"over999":""} ${e===tl?"active":""}`,onClick:()=>gl(e),children:e},e))}),l.jsxs("div",{className:"chevrons-wrap forward",children:[l.jsxs("button",{className:`inner-nav-btn forward tooltip-wrap ${tl===(null==xl?void 0:xl.length)?"disabled":""} ${(null==xl?void 0:xl.length)<=3?"hidden":""}`,disabled:tl===(null==xl?void 0:xl.length),onClick:()=>gl(tl+1),children:[l.jsx(b,{})," ",l.jsx("span",{className:"tooltip narrow2 below left",children:de("Next")})]}),l.jsxs("button",{className:`inner-nav-btn last tooltip-wrap ${tl===(null==xl?void 0:xl.length)?"disabled":""} ${(null==xl?void 0:xl.length)<=3?"hidden":""}`,disabled:tl===(null==xl?void 0:xl.length),onClick:()=>gl(null==xl?void 0:xl.length),children:[l.jsx(p,{}),l.jsxs("span",{className:"tooltip narrow2 left below",children:[de("LastPage"),": ",null==xl?void 0:xl.length]})]})]})]}),l.jsxs("div",{children:[l.jsx("input",{"aria-labelledby":"items-per-page",className:"items-per-page narrow",name:"items-per-page",id:`items-per-page-input-${e}`,type:"number",min:"1",max:"100",defaultValue:rl,onChange:e=>dl(e.target.valueAsNumber>0?e.target.valueAsNumber:1)})," ",l.jsx("span",{id:"items-per-page",children:de("PerPage")})," "]})]});return l.jsxs("div",{className:"saved",id:"saved",children:[ce&&l.jsxs("div",{className:"local-saved-wrap",children:[l.jsx("button",{className:"btn"+(me&&!fe?" active":""),onClick:()=>{xe(!0),ye(!1)},children:de(me?"LocalJokes":"SeeLocalJokes")}),l.jsx("button",{className:"btn"+(me||fe?"":" active"),onClick:()=>{xe(!1),ye(!1)},children:de("YourSavedJokes")})]}),l.jsxs("div",{className:"saved-inner",children:[l.jsx("div",{className:"filler"}),l.jsxs("div",{children:[!fe&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:de(me?"LocalJokes":"YourSavedJokes")}),me&&l.jsxs("p",{className:"mb3 flex center textcenter",children:[" ",de("UserSubmittedJokes")]}),l.jsxs("div",{className:"toggle-wrap",children:[l.jsxs("div",{className:"toggle-inner-wrap",children:[l.jsxs("div",{className:"safemode-wrap",children:[l.jsx(_,{isChecked:Y,name:"safemode",id:"safemode2",className:`${H} ${Y?"":"unsafe"} userjokes safemode`,label:`${de("Filter")}: `,hideLabel:!1,on:de("SafeTitle"),off:de("UnsafeTitle"),handleToggleChange:z}),"age"===Ae&&l.jsx(_,{isChecked:ze,name:"age",id:"age",className:`${H} age`,label:`${de("Age")}: `,hideLabel:!1,on:de("Newest"),off:de("Oldest"),handleToggleChange:()=>{Ge(e=>!e)},equal:!0})]}),l.jsx("div",{className:"sortby-wrap",children:l.jsx(F,{language:H,id:"sortby",className:"sortby",instructions:`${de("OrderBy")}:`,options:Q($),value:{label:$[Ae][y[H]],value:$[Ae][y[H]]},onChange:e=>{Fe(null==e?void 0:e.value)}})})]}),l.jsxs("div",{className:"toggle-inner-wrap",children:[l.jsx("div",{children:l.jsx(F,{language:H,id:"joke-languages",className:"language-filter",instructions:`${de("FilterByLanguage")}:`,options:[{label:de("All"),value:""},...Array.from(new Set(null==he?void 0:he.map(e=>e.language))).map(e=>({label:N[e][X(y,e)],value:e}))],value:Be?{label:N[Be][X(y,Be)],value:Be}:{label:de("All"),value:""},onChange:e=>{Oe(null==e?void 0:e.value)}})}),l.jsx("div",{children:l.jsx(F,{language:H,id:"single-category-select",className:"single-category-select",instructions:`${de("FilterByCategory")}:`,options:[{label:de("SelectACategory"),value:""},...Object.values(C).map(e=>({label:le(e,H),value:e}))],value:Ee?{label:le(Ee,H),value:Ee}:{label:de("SelectACategory"),value:""},onChange:e=>{Te(null==e?void 0:e.value),(e=>{Te(e.value)})(e),(e=>{let l=e;"Chuck Norris"===e?l="ChuckNorris":"Dad Joke"===e&&(l="DadJoke"),Te(l)})(null==e?void 0:e.value)}})})]}),l.jsxs("div",{className:"toggle-inner-wrap",children:[l.jsx("div",{children:l.jsx(F,{language:H,id:"userNorrisCategories",className:"category extras "+(Pe?"":"hidden"),instructions:`${de("FilterFurther")}:`,selectAnOption:al[0].label,value:_e,options:al,onChange:e=>{Me(e)}})}),l.jsx("div",{className:Pe?"search-jokes-wrap":"full search-jokes-wrap",children:l.jsx("div",{className:"search-jokes input-wrap",children:l.jsxs("label",{htmlFor:"search-jokes",children:[l.jsx("input",{type:"text",id:"search-jokes",value:$e,onChange:sl,placeholder:de("Search")}),l.jsx("span",{children:de("SearchByKeyword")})]})})})]})]}),l.jsx("div",{className:"reset-btn-wrap mb3",children:l.jsxs("button",{className:"reset-btn delete danger",onClick:()=>(Te(""),Oe(""),Me(al[0]),Ie(""),Se(!1),Je(e=>e+1),Fe("popularity"),ol(1),void W(!0)),children:[l.jsx(s,{})," ",l.jsx("span",{children:de("Reset")})]})})]}),l.jsxs("div",{className:"button-wrap",children:[!fe&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{className:"icontext random-btn "+(Ne?"active":""),onClick:()=>{ol(1),ye(!1),Se(!0),Je(e=>e+1),el(!1)},children:[de("Random")," ",l.jsx(a,{})]})," ",l.jsxs("button",{className:"icontext all-or-latest-btn "+(Ne||Ze?"":"active"),onClick:()=>{Se(!1),ye(!1),el(!1)},children:[de("AllJokes")," ",l.jsx(i,{})]}),l.jsxs("div",{className:"flex center",children:[l.jsxs("button",{className:"icontext all-or-latest-btn "+(Ze?"active":""),onClick:()=>{Se(!1),ye(!1),We("newest"),Fe("age"),el(!0)},children:[de("Latest"),l.jsx("span",{className:"scr",children:Qe})," ",3===Qe&&l.jsx(n,{}),4===Qe&&l.jsx(t,{}),5===Qe&&l.jsx(o,{}),6===Qe&&l.jsx(r,{}),7===Qe&&l.jsx(d,{}),8===Qe&&l.jsx(u,{}),9===Qe&&l.jsx(c,{}),Qe>9&&l.jsx(v,{})]}),l.jsxs("div",{children:[l.jsx("input",{type:"number",min:3,max:100,id:"number-of-latest",defaultValue:Qe,className:"narrow",onChange:e=>{Xe(e.target.valueAsNumber)}}),l.jsx("label",{htmlFor:"number-of-latest",className:"scr",children:l.jsx("span",{children:de("HowMany")})})]})]})]}),V&&l.jsx("button",{className:"blocked-btn danger "+(fe?"active":""),onClick:()=>ye(e=>!e),children:fe?l.jsxs(l.Fragment,{children:[de("HideBlockedJokes")," ",l.jsx(h,{})]}):l.jsxs(l.Fragment,{children:[de("Blocked")," ",l.jsx(g,{})]})})]}),!Ne&&!fe&&bl(1),V&&fe&&(null==il?void 0:il.length)>0?l.jsx("div",{className:"blocked-controls-wrap",children:l.jsx("div",{className:"input-wrap search-blacklist",children:l.jsxs("label",{htmlFor:"searchBlacklistedJokes",children:[l.jsx("input",{id:"searchBlacklistedJokes",type:"text",onChange:sl}),l.jsx("span",{children:de("SearchByKeyword")})]})})}):fe?l.jsx("p",{className:"textcenter",children:de("NoJokesYet")}):"",l.jsx("ul",{className:"userjokeslist "+(fe?"blockedJokes":""),children:V&&fe?null==il?void 0:il.map((e,s)=>{var a,i;return l.jsxs("li",{children:[l.jsx("form",{onSubmit:l=>{var a,i;ll(I(e)),ne(l,e,null==(i=null==(a=null==V?void 0:V.blacklistedJokes)?void 0:a[s])?void 0:i._id)},children:l.jsx("button",{className:"",type:"submit",disabled:oe,children:de("Restore")})}),e?e.type===E.single?l.jsx("p",{children:e.joke}):l.jsxs("div",{children:[l.jsx("p",{children:e.setup}),l.jsx("p",{children:e.delivery})]}):""]},(null==(i=null==(a=null==V?void 0:V.blacklistedJokes)?void 0:a[s])?void 0:i.jokeId)??s)}):ml&&(null==ml?void 0:ml.length)>0?null==ml?void 0:ml.map(e=>{var s,a,i,n,t,o,r,d,u,c,v;const{visible:h,translatedLanguage:g,...k}=e;return l.jsxs("li",{children:[l.jsx("div",{className:"primary-wrap",children:e.type===E.single?l.jsx("p",{className:"",children:e.joke}):l.jsxs("div",{children:[l.jsx("p",{className:"",children:e.setup}),l.jsx("p",{children:e.delivery?l.jsxs("button",{type:"button",onClick:()=>{return l=e.jokeId,void je(e=>({...e,[l]:!e[l]}));var l},className:(pe[e.jokeId]?"reveal":"")+" delivery",children:[l.jsxs("span",{...pe[e.jokeId]?{"aria-hidden":!0}:{"aria-hidden":!1},children:[l.jsx(p,{})," ",de("ClickToReveal")," ",l.jsx(j,{})]}),l.jsx("p",{"aria-live":"assertive",children:pe[e.jokeId]?e.delivery:""})]}):""})]})}),l.jsxs("div",{className:"secondary-wrap",children:[l.jsxs("div",{children:[l.jsxs("span",{children:[de("CategoryTitle"),":"," ",le(e.category,H)," ",e.subCategories&&(null==(s=e.subCategories)?void 0:s.length)>0&&(null==(a=e.subCategories)?void 0:a.find(e=>"any"!==e))?l.jsxs(l.Fragment,{children:["(",null==(n=null==(i=e.subCategories)?void 0:i.filter(e=>"any"!==e))?void 0:n.map(e=>A[e][H].toLowerCase()??e).join(", "),")"]}):""]}),l.jsxs("span",{children:[G,": ",e.translatedLanguage]}),e.anonymous?l.jsxs("span",{children:[de("Anonymous")," "]}):!1===e.anonymous?l.jsxs("span",{children:[de("Author"),": ",e.name??""]}):"",!me&&ce&&e.private?l.jsx("span",{children:de("Private")}):!me&&ce&&!1===e.private?l.jsx("span",{children:de("Public")}):"",!1===e.private&&!1===e.verified&&l.jsx("span",{children:de("PendingVerification")}),(null==(t=e.user)?void 0:t.length)>1&&l.jsxs("span",{children:[de("SavedBy")," ",null==(o=e.user)?void 0:o.length]})]}),l.jsxs("div",{children:[ce&&(null==(r=e.user)?void 0:r.includes(ce))&&l.jsx("form",{onSubmit:e.type===E.single?q(null==e?void 0:e._id,null==e?void 0:e.joke):q(null==e?void 0:e._id,null==e?void 0:e.setup),className:"button-wrap",children:l.jsx("button",{type:"submit",disabled:oe,className:"delete danger",children:(null==(d=e.user)?void 0:d.length)>1?de("Remove"):de("Delete")})}),e.author!==ce&&!(null==(u=e.user)?void 0:u.includes(ce))&&l.jsx("button",{onClick:()=>te(e.jokeId,e.language,e.category===C.ChuckNorris&&e.type===E.single?e.joke:void 0),className:"delete danger",children:de("Block")}),!(null==(c=e.user)?void 0:c.includes(ce))&&l.jsxs("button",{onClick:()=>(e=>{var l;const s=null==ve?void 0:ve.find(l=>l._id===e);if(s){if(s){if(null==(l=s.user)?void 0:l.includes(null==ce?void 0:ce.toString()))return void ll(P(`${de("JokeAlreadySaved")}`,!1,8));ll(D({...s,user:[...s.user,ce]})).then(()=>{ll(J()),ll(P(`${de("SavedJoke")}`,!1,8))})}}else ll(P(`${de("NoJokeFound")}`,!0,8))})(e._id),className:"save",children:[de("SaveJoke")," ",l.jsx(m,{})]}),l.jsxs("button",{onClick:()=>{return l=e.type===E.single?e.joke:e.setup+" \n"+e.delivery,void navigator.clipboard.writeText(l).then(function(){ll(P(`${de("JokeCopiedToClipboard")}`,!1,3))},function(){ll(P(`${de("FailedToCopyJokeToClipboard")}`,!0,3))});var l},children:[de("Copy")," ",l.jsx(x,{})]}),ce&&(null==(v=e.user)?void 0:v.includes(ce))&&e.author===ce&&l.jsx(T,{language:H,id:`joke-edit-${e.jokeId}`,className:"joke-edit",wrapperClass:"joke-edit-wrap",text:de("Edit"),onClick:()=>{qe(e.language),He(e.category),Ue(k),ie(e.jokeId)},isOpen:ae===e.jokeId,setIsFormOpen:se,children:l.jsxs("form",{onSubmit:K(null==e?void 0:e._id,Re??e),className:"joke-edit",children:[l.jsx("div",{className:"edit-wrap",children:!0===e.private&&e.type===E.twopart?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"input-wrap",children:l.jsxs("label",{htmlFor:"edit-setup",children:[l.jsx("input",{required:!0,type:"text",name:"edit-setup",id:"setup",defaultValue:e.setup,onChange:e=>{Ue(l=>({...l,setup:e.target.value}))}}),l.jsx("span",{children:de("JokeSetup")})]})}),l.jsx("div",{className:"input-wrap",children:l.jsxs("label",{htmlFor:"edit-delivery",children:[l.jsx("input",{required:!0,type:"text",name:"delivery",id:"edit-delivery",defaultValue:e.delivery,onChange:e=>{Ue(l=>({...l,delivery:e.target.value}))}}),l.jsx("span",{children:de("JokeDelivery")})," "]})})]}):!0===e.private&&e.type===E.single?l.jsx("div",{className:"input-wrap",children:l.jsxs("label",{htmlFor:"edit-joke",children:[l.jsx("input",{required:!0,type:"text",name:"joke",id:"edit-joke",defaultValue:e.joke,onChange:e=>{Ue(l=>({...l,joke:e.target.value}))}}),l.jsx("span",{children:de("Joke")})]})}):l.jsxs("div",{children:[de("OnlyPrivateJokesCanBeEdited"),"."," ",de("Note")," ",de("RepublishingWillRequireVerificationFromAnAdministrator")]})}),!0===e.private&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex column center gap",children:[l.jsx(F,{language:H,id:"edit-language",className:"edit-language",instructions:`${de("LanguageTitle")}:`,hide:!0,options:Z(B),value:{label:N[Ve][X(y,Ve)],value:Ve},onChange:e=>{qe(null==e?void 0:e.value),Ue(l=>({...l,language:null==e?void 0:e.value}))}}),l.jsx(F,{language:H,id:"edit-category",className:"edit-category",instructions:`${de("SelectCategory")}:`,hide:!0,options:[{label:de("Any"),value:""},...Object.values(C).map(e=>({label:le(e,H),value:e}))],value:{label:le(Ke,H),value:Ke},onChange:l=>{const{visible:s,translatedLanguage:a,...i}=e;He(null==l?void 0:l.value),Ue(()=>({...i,category:null==l?void 0:l.value}))}})]}),l.jsxs("fieldset",{children:[l.jsx("legend",{children:de("AddWarningTitle")}),l.jsxs("div",{className:"checkbox-wrap",children:[l.jsxs("div",{children:[l.jsx("input",{type:"checkbox",id:"flag-nsfw",name:"nsfw",value:"nsfw",onChange:()=>{Ue(()=>({...k,nsfw:!e.flags.nsfw}))}}),l.jsx("label",{htmlFor:"flag-nsfw",children:O[H].nsfw})]}),l.jsxs("div",{children:[l.jsx("input",{type:"checkbox",id:"flag-religious",name:"religious",value:"religious",onChange:()=>{Ue(()=>({...k,religious:!e.flags.religious}))}}),l.jsx("label",{htmlFor:"flag-religious",children:O[H].religious})]}),l.jsxs("div",{children:[l.jsx("input",{type:"checkbox",id:"flag-political",name:"political",value:"political",onChange:()=>{Ue(()=>({...k,political:!e.flags.political}))}}),l.jsx("label",{htmlFor:"flag-political",children:O[H].political})]}),l.jsxs("div",{children:[l.jsx("input",{type:"checkbox",id:"flag-racist",name:"racist",value:"racist",onChange:()=>{Ue(()=>({...k,racist:!e.flags.racist}))}}),l.jsx("label",{htmlFor:"flag-racist",children:O[H].racist})]}),l.jsxs("div",{children:[l.jsx("input",{type:"checkbox",id:"flag-sexist",name:"sexist",value:"sexist",onChange:()=>{Ue(()=>({...k,sexist:!e.flags.sexist}))}}),l.jsx("label",{htmlFor:"flag-sexist",children:O[H].sexist})]}),l.jsxs("div",{children:[l.jsx("input",{type:"checkbox",id:"flag-explicit",name:"explicit",value:"explicit",onChange:()=>{Ue(()=>({...k,explicit:!e.flags.explicit}))}}),l.jsx("label",{htmlFor:"flag-explicit",children:O[H].explicit})]})]})]})]}),l.jsxs("fieldset",{className:"flex center gap margin0auto",children:[l.jsxs("div",{children:[l.jsx("input",{type:"checkbox",name:"anonymous",id:"edit-anonymous",defaultChecked:e.anonymous,onChange:()=>{const{visible:l,translatedLanguage:s,...a}=e;Ue(()=>({...a,anonymous:!e.anonymous}))}}),l.jsx("label",{htmlFor:"edit-anonymous",children:"Anonymous:"})]}),l.jsxs("div",{children:[l.jsx("input",{type:"checkbox",name:"private",id:"edit-private",defaultChecked:e.private,onChange:()=>{const{visible:l,translatedLanguage:s,...a}=e;Ue(()=>({...a,private:!e.private}))}}),l.jsx("label",{htmlFor:"edit-private",children:"Private:"})]})]}),l.jsx("button",{type:"submit",disabled:oe,className:"save",children:de("SaveJoke")})]})})]})]})]},e._id)}):l.jsxs("li",{className:"margin0auto max-content",children:[de("LoadingJokes"),l.jsx("br",{}),l.jsx("br",{}),"(",de("ThisMayTakeUpToAMinute"),")"]})}),!Ne&&!fe&&bl(2)]}),l.jsx("div",{className:"filler below"})]}),ce&&l.jsxs("div",{className:"local-saved-wrap below",children:[l.jsx("button",{className:"btn"+(me&&!fe?" active":""),onClick:()=>{xe(!0),ye(!1)},children:de(me?"LocalJokes":"SeeLocalJokes")}),l.jsx("button",{className:"btn"+(me||fe?"":" active"),onClick:()=>{xe(!1),ye(!1)},children:de("YourSavedJokes")})]})]})};export{V as EOrderByAge,q as default};
