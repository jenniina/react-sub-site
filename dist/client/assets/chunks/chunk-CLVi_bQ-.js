const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/chunk-cgG8xyjk.js","assets/chunks/chunk-CAff-kf5.js","assets/chunks/chunk-BmSI4Fww.js","assets/entries/src_pages.8IG4k9ME.js","assets/chunks/chunk-CVevwmbB.js","assets/chunks/chunk-CNpwfz3n.js","assets/entries/entry-client-routing.Bbnd9vHe.js","assets/chunks/chunk-VF2LHfxc.js","assets/chunks/chunk-D3Yr0q6g.js","assets/chunks/chunk-CKSHq_s9.js","assets/static/src_components_Nav_nav.DcneIkOu.css","assets/chunks/chunk-GmA6ITIw.js","assets/chunks/chunk-DFDIFHTJ.js","assets/chunks/chunk-BvVqAYuT.js","assets/chunks/chunk-Xgiuglox.js","assets/chunks/chunk-CmA2CWkd.js","assets/chunks/chunk-Cgv-mfVR.js","assets/chunks/chunk-fiALBYsU.js","assets/chunks/chunk-DbeWnEfh.js","assets/chunks/chunk-BurK_taE.js","assets/chunks/chunk-BVvUx4OK.js","assets/chunks/chunk-B3S1iNVp.js","assets/chunks/chunk-ei4kQ0Q2.js","assets/chunks/chunk-B_VbuTrp.js","assets/static/src_components_Select_select.CimA6Gt4.css","assets/chunks/chunk-DAUSXQgp.js","assets/static/src_components_Modal_modal.CbnZMdwa.css","assets/chunks/chunk-RtNBUybj.js","assets/static/src_pages_css_portfolio.CobdKDwb.css","assets/chunks/chunk-CrSVf9D1.js","assets/static/src_pages_css_about.WLJNejns.css","assets/chunks/chunk-Cgo1rCBn.js","assets/static/src_pages_css_disclaimer.tn0RQdqM.css","assets/chunks/chunk-DQcwr13S.js","assets/static/src_components_Store_store.739lCcfL.css","assets/chunks/chunk-ITMKy72C.js","assets/static/src_components_DragAndDrop_dragAndDrop.nzYxpsON.css","assets/chunks/chunk-e2Lvd1W2.js","assets/static/src_components_Confirm_css_confirm.PkGjZh4r.css","assets/chunks/chunk-mrHSz1EB.js","assets/static/src_components_Images_images.D__9EApC.css","assets/chunks/chunk-CFcfonrM.js","assets/static/src_components_Todo_css_todo.DdPdOL7s.css","assets/chunks/chunk-CblELM-r.js","assets/static/src_pages_css_useredit.C8iHZ--I.css","assets/chunks/chunk-CEm4-sWZ.js","assets/static/src_pages_css_welcome.D34tVg6Q.css","assets/chunks/chunk-CeuMhN-M.js","assets/static/src_components_Hero_hero.BHFXoff8.css","assets/static/src_css_App-73433860.CQH0klWf.css","assets/static/src_css_form-f0fd4370.ruWewV9h.css","assets/static/src_components_Blob_css_blob-3343a0bc.Dd8ObI_E.css","assets/static/src_pages_pages-portfolio_css_quiz-539960c0.DD9CL5Hk.css","assets/static/src_css_index-36aef647.D4A5laED.css","assets/chunks/chunk-yb9L1ojy.js","assets/chunks/chunk-bY03I_sM.js"])))=>i.map(i=>d[i]);
import{_ as e}from"../entries/entry-client-routing.Bbnd9vHe.js";import{a as r,j as a}from"./chunk-CAff-kf5.js";import{d as t}from"./chunk-BmSI4Fww.js";import{u as l,a as s,L as o,q as n,aC as i,b as c,l as d,j as u,A as p,av as m,U as h,i as g,w as b,aD as f}from"../entries/src_pages.8IG4k9ME.js";import{aV as y,aW as v,aX as x,aY as k,aZ as j,a_ as $,a$ as w,J as N,O as S,b0 as C,k as B,i as R,b1 as E}from"./chunk-D3Yr0q6g.js";import{a as L}from"./chunk-Xgiuglox.js";import{a as M}from"./chunk-ei4kQ0Q2.js";import{c as A}from"./chunk-DFDIFHTJ.js";import"./chunk-VF2LHfxc.js";import"./chunk-CVevwmbB.js";import"./chunk-CNpwfz3n.js";/* empty css              *//* empty css              */import"./chunk-CKSHq_s9.js";import"./chunk-GmA6ITIw.js";import"./chunk-BvVqAYuT.js";import"./chunk-CmA2CWkd.js";import"./chunk-Cgv-mfVR.js";import"./chunk-DbeWnEfh.js";import"./chunk-BurK_taE.js";import"./chunk-BVvUx4OK.js";import"./chunk-B3S1iNVp.js";import"./chunk-B_VbuTrp.js";import"./chunk-DAUSXQgp.js";import"./chunk-RtNBUybj.js";import"./chunk-CrSVf9D1.js";import"./chunk-Cgo1rCBn.js";import"./chunk-DQcwr13S.js";/* empty css              */import"./chunk-ITMKy72C.js";import"./chunk-e2Lvd1W2.js";import"./chunk-mrHSz1EB.js";/* empty css              */import"./chunk-CFcfonrM.js";import"./chunk-CblELM-r.js";import"./chunk-CEm4-sWZ.js";import"./chunk-CeuMhN-M.js";/* empty css              */import"./chunk-fiALBYsU.js";const D="https://bg.jenniina.fi/api/blobs",O=async(e,r,a)=>(await M.get(`${D}/${e}/${r}`,{params:{language:a}})).data,T=async(e,r,a,t)=>(await M.get(`${D}/${e}/${r}/${a}/${t}`)).data,P=async(e,r,a,t,l,s)=>(await M.post(`${D}/${e}/${r}/${t}/${s}`,{draggables:a,backgroundColor:l})).data,I=async(e,r,a,t,l,s,o)=>(await M.put(`${D}/${e}/${r}/${t}/${s}`,{d:r,versionName:t,draggables:a,backgroundColor:l,newVersionName:o})).data,H=async(e,r,a,t)=>(await M.delete(`${D}/${e}/${r}/${a}/${t}`)).data,V=r.lazy(()=>e(()=>import("./chunk-cgG8xyjk.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53]))),W=r.lazy(()=>e(()=>import("./chunk-yb9L1ojy.js"),__vite__mapDeps([54,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53]))),_=r.lazy(()=>e(()=>import("./chunk-bY03I_sM.js"),__vite__mapDeps([55,6,7,1,2,3,4,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53]))),z=[[{color1:"darkorange",color2:"orange"},{color1:"orangered",color2:"palevioletred"},{color1:"magenta",color2:"violet"},{color1:"blue",color2:"cyan"},{color1:"greenyellow",color2:"lemonchiffon"},{color1:"cyan",color2:"greenyellow"},{color1:"cyan",color2:"pink"},{color1:"lemonchiffon",color2:"pink"}],[{color1:"indianred",color2:"palevioletred"},{color1:"sienna",color2:"peru"},{color1:"chocolate",color2:"burlywood"},{color1:"darkkhaki",color2:"moccasin"},{color1:"slateblue",color2:"mediumpurple"},{color1:"royalblue",color2:"turquoise"},{color1:"cadetblue",color2:"mediumaquamarine"},{color1:"lightslategray",color2:"lightsteelblue"}],[{color1:"indigo",color2:"mediumorchid"},{color1:"darkmagenta",color2:"palevioletred"},{color1:"crimson",color2:"indianred"},{color1:"chocolate",color2:"orangered"},{color1:"darkcyan",color2:"olivedrab"},{color1:"midnightblue",color2:"darkturquoise"},{color1:"mediumblue",color2:"cadetblue"},{color1:"darkblue",color2:"mediumslateblue"}]];let J="90deg";const F=e=>{e.preventDefault()};function Y({language:e,d:M,ds:D,dragWrapOuter:Y,scroll:G,setScroll:U}){var q,K,X;const Z=l(),Q=s(),{t:ee}=r.useContext(o),re=n(),ae="214",te=0===M?"80":2===M?"50":"45",le=0===M?"30":2===M?"5":"25",{state:se,dispatch:oe}=r.useContext(i),ne=c(),ie=L(e=>{var r;return null==(r=e.auth)?void 0:r.user}),ce=L(e=>e.users),de=r.useRef(null),ue=r.useRef(null),pe=r.useRef(null),me=r.useRef(null),he=r.useRef(null),ge=r.useRef(null);r.useRef(null),r.useRef(null);const[be,fe]=r.useState(!1),ye=r.useRef(null),ve=r.useRef(null),xe=r.useRef(null),ke=r.useRef(null),je=r.useRef(null),$e=r.useRef(null),we=r.useRef(null),Ne=r.useRef(null),Se=r.useRef(null),Ce=r.useRef(null),Be=r.useRef(null),Re=r.useRef(null),Ee=`BlobLayerAmount${[M]}`,Le=`BackgroundColor${[M]}`,Me=`Draggables${[M]}`,Ae=se.backgroundColor,De=se.draggables,{windowHeight:Oe,windowWidth:Te}=d(),[Pe,Ie]=r.useState(0),[He,Ve]=r.useState(new Set),[We,_e]=r.useState({}),[ze,Je]=r.useState(0),[Fe,Ye]=r.useState(null),[Ge,Ue]=r.useState(!1),[qe,Ke]=r.useState(!0),[Xe,Ze]=r.useState(!0),[Qe,er]=r.useState(!1),[rr,ar]=r.useState(!1),[tr,lr]=r.useState(!1),sr=r.useRef(null),or=r.useRef(null),nr=r.useRef(null),ir=r.useRef(null),cr=r.useRef(null),dr=r.useRef(null),ur=r.useRef(null),pr=r.useRef(null),mr=r.useRef(null),hr=r.useRef(null),gr=r.useRef(null),br=r.useRef(null),fr=r.useRef(null),yr=r.useRef(null),vr=r.useRef(null),xr=r.useRef(null),kr=r.useRef(null),jr=r.useRef(null),$r=r.useRef(null),wr=r.useRef(null),Nr=r.useRef(null),Sr=r.useRef(null),Cr=r.useRef(null),Br=r.useRef(null),Rr=[new Map([[sr,"colorBlockOrange"],[or,"colorBlockRed"],[nr,"colorBlockPurple"],[ir,"colorBlockBlue"],[cr,"colorBlockYellowLime"],[dr,"colorBlockCyanYellow"],[ur,"colorBlockCyanPink"],[pr,"colorBlockPinkYellow"]]),new Map([[mr,"colorBlockReddish"],[hr,"colorBlockBrown"],[vr,"colorBlockTan"],[gr,"colorBlockKhaki"],[fr,"colorBlockPurplish"],[br,"colorBlockBluish"],[yr,"colorBlockGreenish"],[xr,"colorBlockGray"]]),new Map([[kr,"colorBlockDarkPurple"],[jr,"colorBlockDarkPink"],[$r,"colorBlockDarkRed"],[wr,"colorBlockDarkOrange"],[Nr,"colorBlockDarkGreen"],[Sr,"colorBlockGreenishBlue"],[Cr,"colorBlockDarkBlue"],[Br,"colorBlockPurplishBlue"]])],Er=[[sr,or,nr,ir,cr,dr,ur,pr],[mr,hr,vr,gr,fr,br,yr,xr],[kr,jr,$r,wr,Nr,Sr,Cr,Br]],[Lr,Mr]=r.useState("");function Ar(e=Kr){localStorage.setItem(Ee,JSON.stringify(e))}function Dr(e=Ae[M]){localStorage.setItem(Le,JSON.stringify(e))}function Or(e=De[M]){localStorage.setItem(Me,JSON.stringify(e))}r.useEffect(()=>{const e=()=>Ue(!0),r=()=>{Ue(!1)},a=()=>{Ye(null)};if(Z&&Q)return Q.addEventListener("keyup",e),Q.addEventListener("mousedown",r),Q.addEventListener("mouseup",a),()=>{Z&&Q&&(Q.removeEventListener("keyup",e),Q.removeEventListener("mousedown",r),Q.removeEventListener("mouseup",a))}},[Z]);const[Tr,Pr]=r.useState(ee("BlobArt")),[Ir,Hr]=r.useState(Tr),[Vr,Wr]=r.useState(""),[_r,zr]=r.useState(!0),[Jr,Fr]=r.useState(!1),[Yr,Gr]=r.useState(!1),[Ur,qr]=r.useState({}),[Kr,Xr]=r.useState(0),Zr=/^[\w\s\u00C0-\u024F\u1E00-\u1EFF-_]*$/,Qr=e=>{const r=e.target.value;Zr.test(r)?Hr(r):ne(u(ee("SpecialCharactersNotAllowed"),!0,8))},ea=async r=>{var a,t;fe(!0),r.preventDefault();try{if(""===Tr.trim())return ne(u(ee("NameYourArtwork"),!0,8)),void fe(!1);if(Tr.trim().length>30)return fe(!1),void ne(u(`${ee("NameTooLong")}. ${ee("AMaxOf30CharactersPlease")}`,!0,8));if(null==ie?void 0:ie._id){if((e=>{for(const r in Ur)if(Ur[r][e])return!0;return!1})(Tr.trim())&&!re({message:ee("AVersionAlreadyExistsOverwrite")}))return;P(null==ie?void 0:ie._id,M,De[M],Tr,Ae[M],e).then(()=>{Gr(!Yr),fe(!1),ne(u(ee("SavingSuccessful"),!1,8))}).catch(e=>{var r,a;(null==(a=null==(r=e.response)?void 0:r.data)?void 0:a.message)?oe(u(e.response.data.message,!0,8)):ne(u(`${ee("Error")}: ${e.message}`,!0,8))})}else ne(u(ee("LoginToSaveBlobs"),!0,8)),fe(!1)}catch(l){(null==(t=null==(a=l.response)?void 0:a.data)?void 0:t.message)?oe(u(l.response.data.message,!0,8)):ne(u(ee("Error"),!0,8)),fe(!1)}};r.useEffect(()=>{(async()=>{await ne(h()),await ne(g())})()},[ne]),r.useEffect(()=>{ie&&(async()=>{var r,a;zr(!0);try{(null==ie?void 0:ie._id)&&O(null==ie?void 0:ie._id,M,e).then(e=>{if(e){const r={};e.forEach(e=>{const{d:a,versionName:t}=e;r[a]||(r[a]={}),r[a][t]=e}),qr(r),Fr(Object.keys(r).length>0),zr(!1)}}).catch(e=>{var r,a;(null==(a=null==(r=e.response)?void 0:r.data)?void 0:a.message)?oe(u(e.response.data.message,!0,8)):ne(u(`${ee("Error")}: ${e.message}`,!0,8)),zr(!1)})}catch(t){(null==(a=null==(r=t.response)?void 0:r.data)?void 0:a.message)?oe(u(t.response.data.message,!0,8)):ne(u(ee("Error"),!0,8)),zr(!1)}})()},[ie,Yr]),r.useEffect(()=>{(async()=>{const e=await new Promise(e=>{setTimeout(()=>{const r=localStorage.getItem(Me);if(null==r||null==r||"undefined"===r)e(null);else{const a=JSON.parse(r);e(a.map(e=>({...e,layer:e.layer??0})))}},300)}),r=await new Promise(e=>{setTimeout(()=>{const r=localStorage.getItem(Le);e(null==r||null==r||"undefined"===r?null:JSON.parse(r))},300)}),a=setTimeout(async()=>{var a,t,l;const s=await new Promise(e=>{setTimeout(()=>{var r;const a=localStorage.getItem(Ee);null!=a?e(parseInt(a)):(null==(r=De[M])?void 0:r.length)>0?e(Math.max(...De[M].map(e=>e.layer))+1):e(3)},100)});r&&3===r.length?(oe({type:"setBackgroundColor",payload:{d:M,backgroundColor:r}}),Dr(r),ia(r[0]),da(r[1]),pa(r[2]),null==(a=Y.current)||a.style.setProperty(`--hue${M}`,`${r[0]}`),null==(t=Y.current)||t.style.setProperty(`--saturation${M}`,`${r[1]}`),null==(l=Y.current)||l.style.setProperty(`--lightness${M}`,`${r[2]}`)):(oe({type:"setBackgroundColor",payload:{d:M,backgroundColor:[ae,te,le]}}),Dr([ae,te,le])),s?Xr(s):e&&e.length>0&&Xr(Math.max(...e.map(e=>e.layer))+1),e&&e.length>0?(e&&e.length>0&&function(e){if(!Qe&&e&&(null==e?void 0:e.length)>0)for(let r=0;r<(null==e?void 0:e.length);r++)if(null!==e[r]&&void 0!==e[r]){const a={layer:e[r].layer,id:`${e[r].id}`,number:e[r].number,i:e[r].i,x:`${e[r].x}`,y:`${e[r].y}`,z:`${e[r].z}`,background:`${e[r].background??"linear-gradient(90deg, cyan, greenyellow)"}`};oe({type:"addDraggable",payload:{d:M,draggable:a}})}er(!0)}(e),er(!0)):null!=e||Qe||(la(ra,M),er(!0))},300)})()},[]),r.useEffect(()=>{var e;if(void 0!==De[M]&&(null==(e=De[M])?void 0:e.length)>0){Or();const e=De[M].reduce((e,r)=>{const a=parseInt(r.z,10),t=r.layer;return(!e[t]||a>e[t])&&(e[t]=a),e},{});_e(e)}},[De[M]]);r.useEffect(()=>{tr&&de.current&&(de.current.classList.add("paused"),ar(!0))},[tr]),r.useEffect(()=>{if(!Z||!Q)return;const e=Q.matchMedia("(prefers-reduced-motion: reduce)");lr(e.matches);const r=()=>lr(e.matches);return e.addEventListener("change",r),()=>{e.removeEventListener("change",r)}},[]);const ra=Te>700?10:6,aa=e=>{if("Escape"===e.key)U(!0),document&&(document.body.style.overflowY="auto",document.body.style.overflowX="hidden")};r.useEffect(()=>{if(Z&&Q)return Q.addEventListener("keyup",aa),()=>{Q.removeEventListener("keyup",aa)}},[]);const ta=e=>{const r=De[M].some(r=>0===r.layer&&e<0),a=De[M].some(r=>r.layer===Kr-1&&e>0);if(r)return void ne(u(ee("CannotLowerEveryBlobFurtherSomeBlobsAlreadyLowest"),!0,8));if(a)return void ne(u(ee("CannotRaiseEveryBlobFurther"),!0,8));const t=De[M].map(r=>{const a=r.layer+e;return a>=0&&a<Kr?{...r,layer:a}:r});oe({type:"setDraggablesAtD",payload:{d:M,draggables:t}})};const la=(e,r)=>{Ie(0);for(let a=0;a<e;a++){const e=()=>{const e=z[r],a=Math.floor(Math.random()*e.length);return[e[a].color1,e[a].color2]},[t,l]=e(),s={layer:0,id:`blob${a+1}-${r}`,number:a+1,i:Te>400?Math.round(b(7,20)):Math.round(b(7,10)),x:Te>Oe?Te/100*Math.round(b(2,70))+"px":Te/100*Math.round(b(2,50))+"px",y:Oe/100*Math.round(b(2,60))+"px",z:"1",background:`linear-gradient(${J}, ${t??"cyan"},${l??"greenyellow"})`};oe({type:"addDraggable",payload:{d:r,draggable:s}})}Xr(3)},sa=()=>{const e=["cyan","lemonchiffon","pink","orangered","magenta","deepskyblue","darkorange","tomato","violet","dodgerblue","greenyellow","orange","silver","darkgray","gray","hotpink","wheat","sandybrown","rosybrown","dimgray","darkkhaki","darkseagreen","slateblue","royalblue","moccasin","burlywood","chocolate","cadetblue","mediumpurple","sienna","peru","indianred","palevioletred","plum","palegreen","mediumaquamarine","lightsteelblue","aquamarine","yellowgreen"];return e[Math.floor(Math.random()*e.length)]};r.useEffect(()=>{},[se.draggables]);const oa=(e=Te/100*Math.round(b(25,55))+"px",r=Oe/100*Math.round(b(2,10))+"px",a=Pe)=>{if(document&&document.activeElement instanceof HTMLElement&&document.activeElement.id===`make-random${M}`&&document.activeElement.blur(),He.has(Pe))return void ne(u(ee("LayerHidden"),!0,8));const t=sa(),l=sa(),s=Math.max(...se.draggables[M].map(e=>parseInt(e.id.split("-")[0].replace("blob",""),10))),o=isNaN(We[a])?1:We[a]+1,n={layer:a,id:`blob${s+1}-${M}`,number:s+1,i:Math.ceil(b(6.5,10)),x:e,y:r,z:`${o}`,background:`linear-gradient(${J}, ${t??"cyan"},${l??"greenyellow"})`};oe({type:"duplicateDraggable",payload:{d:M,draggable:n}})};r.useEffect(()=>{var e,r;return!G&&document?(document.addEventListener("touchmove",F,{passive:!1}),document&&(document.body.style.overflow="hidden"),null==(e=Y.current)||e.addEventListener("touchmove",F,{passive:!1}),Y.current&&(Y.current.style.overflow="hidden")):G&&document&&(document.body.style.overflowY="auto",document.body.style.overflowX="hidden",document.removeEventListener("touchmove",F),Y.current&&(Y.current.style.overflow="auto"),null==(r=Y.current)||r.removeEventListener("touchmove",F)),()=>{var e;null==document||document.removeEventListener("touchmove",F),null==(e=Y.current)||e.removeEventListener("touchmove",F)}},[G]);const[na,ia]=r.useState(()=>{const e=localStorage.getItem(Le),r=e?JSON.parse(e):null;return(null==r?void 0:r[0])??ae}),[ca,da]=r.useState(()=>{const e=localStorage.getItem(Le),r=e?JSON.parse(e):null;return(null==r?void 0:r[1])??te}),[ua,pa]=r.useState(()=>{const e=localStorage.getItem(Le),r=e?JSON.parse(e):null;return(null==r?void 0:r[2])??le}),ma={backgroundColor:`hsl(var(--hue${M}), calc(var(--saturation${M}) * 1%), calc(var(--lightness${M}) * 1%))`},[ha,ga]=r.useState(Re.current?{[`--hue${M}`]:`${Re.current.value}`}:{[`--hue${M}`]:`${na}`}),[ba,fa]=r.useState(Be.current?{[`--saturation${M}`]:`${Be.current.value}`}:{[`--saturation${M}`]:`${ca}`}),[ya,va]=r.useState(Ce.current?{[`--lightness${M}`]:`${Ce.current.value}`}:{[`--lightness${M}`]:`${ua}`});r.useEffect(()=>{Ce.current&&pa(Ce.current.value)},[null==(q=null==Ce?void 0:Ce.current)?void 0:q.value]),r.useEffect(()=>{Be.current&&da(Be.current.value)},[null==(K=null==Be?void 0:Be.current)?void 0:K.value]),r.useEffect(()=>{Re.current&&ia(Re.current.value)},[null==(X=null==Re?void 0:Re.current)?void 0:X.value]),r.useEffect(()=>{xa()},[Te,Oe,G]);const xa=()=>{const e=300,r=[12,34,56,78];ke.current&&de.current&&Te<250?ka(ke.current,15,0):ke.current&&de.current&&ka(ke.current,23,0),Ne.current&&de.current&&ka(Ne.current,50-Ne.current.offsetWidth/de.current.offsetWidth*50,0),xe.current&&de.current&&Te<250?ka(xe.current,85-xe.current.offsetWidth/de.current.offsetWidth*100,.3):xe.current&&de.current&&ka(xe.current,77-xe.current.offsetWidth/de.current.offsetWidth*100,.3),we.current&&de.current&&Te<e?ka(we.current,27,100-we.current.offsetHeight/de.current.offsetHeight*100):we.current&&de.current&&ka(we.current,32,100-we.current.offsetHeight/de.current.offsetHeight*100),$e.current&&de.current&&Te<e?ka($e.current,73-$e.current.offsetWidth/de.current.offsetWidth*100,100-$e.current.offsetHeight/de.current.offsetHeight*100):$e.current&&de.current&&ka($e.current,68-$e.current.offsetWidth/de.current.offsetWidth*100,100-$e.current.offsetHeight/de.current.offsetHeight*100),je.current&&de.current&&Te<e?ka(je.current,2,100-je.current.offsetHeight/de.current.offsetHeight*100):je.current&&de.current&&ka(je.current,10,100-je.current.offsetHeight/de.current.offsetHeight*100),ve.current&&de.current&&Te<e?ka(ve.current,98-ve.current.offsetWidth/de.current.offsetWidth*100,100-ve.current.offsetHeight/de.current.offsetHeight*100):ve.current&&de.current&&ka(ve.current,90-ve.current.offsetWidth/de.current.offsetWidth*100,100-ve.current.offsetHeight/de.current.offsetHeight*100),Er.forEach(e=>{e.forEach((e,a)=>{if(e.current&&ue.current){const t=a<4?0:100-e.current.offsetWidth/ue.current.offsetWidth*100,l=r[a%4];ka(e.current,t,l)}})})};function ka(e,r,a){e&&de.current&&(e.style.left=de.current.offsetWidth/100*r+"px",e.style.top=de.current.offsetHeight/100*a+"px")}r.useEffect(()=>{Fe&&qe&&Ge&&Fe&&Se.current&&(Se.current.style.top=`${Fe.top+-.05*Fe.width}px`,Se.current.style.left=`${Fe.left+-.05*Fe.width}px`,Se.current.style.width=1.1*Fe.width+"px",Se.current.style.height=1.1*Fe.height+"px")},[Fe,qe,Ge]);const ja=A(),$a=()=>{const e=document?document.getElementById(`button-container${M}`):null;e&&e.scrollIntoView({behavior:"smooth",block:"start"})};r.useEffect(()=>{be&&ne(u(`${ee("Loading")}...`,!1,20))},[be]);const[wa,Na]=r.useState(5),[Sa,Ca]=r.useState({[M]:1}),Ba=(e,r)=>{Ca(a=>({...a,[e]:r}))},[Ra,Ea]=r.useState(""),[La,Ma]=r.useState("none"),Aa=e=>{Ma(r=>{const a=r===e?"none":e;return a!==e&&Ea(""),a})};r.useEffect(()=>{Ra&&(oe({type:"removeDraggable",payload:{d:M,id:Ra}}),Ea(""))},[Ra,M,oe]);const Da=(e,r,t)=>{const l=Math.random().toString(36).substr(2,9);return Jr?a.jsxs("div",{className:"pagination-controls",children:[1!==r?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>Ba(Number(e),1),disabled:1===r,className:"btn-small pagination-btn",children:["« ",a.jsx("span",{className:"scr",children:ee("BackToStart")})]}),a.jsxs("button",{onClick:()=>Ba(Number(e),Math.max(r-1,1)),disabled:1===r,className:"btn-small pagination-btn",children:[" ‹ ",a.jsx("span",{className:"scr",children:ee("Previous")})]})]}):a.jsx(a.Fragment,{}),a.jsxs("span",{children:[ee("Page")," ",r," / ",t]}),r!==t?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>Ba(Number(e),Math.min(r+1,t)),disabled:r===t,className:"btn-small pagination-btn",children:[a.jsx("span",{className:"scr",children:ee("Next")})," › "]}),a.jsxs("button",{onClick:()=>Ba(Number(e),t),disabled:r===t,className:"btn-small pagination-btn",children:[a.jsx("span",{className:"scr",children:ee("ToLastPage")})," »"]})]}):a.jsx(a.Fragment,{}),a.jsx("div",{className:"input-wrap items-per-page",children:a.jsxs("label",{htmlFor:`items-per-page${M}-${l}`,children:[a.jsx("input",{id:`items-per-page${M}-${l}`,className:"",type:"number",value:wa,placeholder:wa.toString(),min:1,max:100,onChange:e=>Na(Number(e.target.value))}),a.jsx("span",{children:ee("PerPage")})]})})]}):a.jsx(a.Fragment,{})};return a.jsx(a.Fragment,{children:a.jsx("section",{className:"card",children:a.jsx("div",{children:a.jsxs("div",{id:`drag-container${M}`,className:`drag-container drag-container${M}`,children:[a.jsxs("div",{className:"blob-title-wrap",children:[a.jsxs("h2",{className:"blob-title",children:[ee("BlobArt")," ",M+1]}),0===M?a.jsxs("p",{children:[ee("MoreColorsAvailableThroughRandomBlobButton")," "]}):1===M?a.jsxs("p",{children:[ee("WithMoreMutedColors"),"."," ",ee("MoreColorsAvailableThroughRandomBlobButton")," "]}):2===M?a.jsxs("p",{children:[ee("DarkerColors"),"."," ",ee("MoreColorsAvailableThroughRandomBlobButton")," "]}):a.jsx("p",{children:ee("MoreColorsAvailableThroughRandomBlobButton")})]}),a.jsxs("div",{className:"label-container",children:[a.jsx("span",{id:`blobdescription${M}`,className:"scr",children:ee("TryDraggingTheBlobs")}),a.jsxs("span",{children:["[",ee("Layer"),": ",Pe+1,"]"," "]}),a.jsx("span",{ref:pe,id:`selectedvalue${M}`,className:"selectedvalue",children:ee("SelectedBlobNone")})]}),a.jsxs("div",{id:`button-container${M}`,className:"button-container",children:[a.jsxs("button",{ref:me,id:`stop-blobs${M}`,className:"stop-blobs tooltip-wrap ",onClick:e=>{!function(e){var r;e.preventDefault();const a=null==(r=Y.current)?void 0:r.querySelectorAll(".dragzone");a&&!rr?(a.forEach(e=>{e.classList.remove("animation"),e.offsetWidth}),ar(!0)):a&&(a.forEach(e=>{e.classList.add("animation"),e.offsetWidth}),ar(!1))}(e)},"aria-labelledby":`stop-blobs${M}-span`,children:[a.jsx("span",{id:`stop-blobs${M}-span`,className:"tooltip above",children:ee("AfterEnablingThereIsASlightDelayBeforeAllTheBlobsAreMovingAgain")}),ee(rr?"StartSway":"StopSway")]}),a.jsxs("button",{ref:ge,id:`reset-blobs${M}`,"aria-labelledby":`reset-blobs${M}-span`,className:"reset-blobs tooltip-wrap",onClick:e=>{!async function(e){if(e.preventDefault(),await re({message:`${ee("ResetBlobs")}?`})){if(!Z||!Q)return;Q.localStorage.removeItem(Me),oe({type:"resetDraggables",payload:{d:M}}),oe({type:"setDraggablesAtD",payload:{d:M,draggables:[]}}),la(ra,M),setTimeout(()=>{xa(),Ar(3)},300)}}(e)},children:[a.jsx("span",{id:`reset-blobs${M}-span`,className:"tooltip above",children:ee("GetANewSetOfBlobs")})," ",ee("Reset")]}),a.jsxs("button",{id:`toggle-marker${M}`,"aria-labelledby":`toggle-marker${M}-span`,className:"toggle-marker tooltip-wrap",onClick:()=>Ke(!qe),children:[a.jsx("span",{id:`toggle-marker${M}-span`,className:"tooltip above",children:`${ee("ToggleMarkerVisibilityWhenUsingAKeyboard")}`}),ee(qe?"MarkerOn":"MarkerOff")]}),a.jsxs("button",{ref:he,id:`disable-scroll${M}`,"aria-labelledby":`disable-scroll${M}-span`,className:"disable-scroll tooltip-wrap "+(G?"":"active"),onClick:()=>{U(!G)},children:[a.jsx("span",{id:`disable-scroll${M}-span`,className:"tooltip above",children:ee(G?"DisableScrollInOrderToUseTheMouseWheelToResizeABlob":"PressHereOrEscapeToRestoreScrolling")}),ee(G?"DisableScroll":"EnableScroll")]}),a.jsx("button",{id:`toggle-controls${M}`,"aria-labelledby":`toggle-controls${M}-span`,className:"toggle-controls "+(Xe?"":"active"),onClick:()=>{Ze(!Xe),Xe||setTimeout(()=>{xa()},200)},children:a.jsxs("span",{id:`toggle-controls${M}-span`,children:[" ",ee(Xe?"HideControls":"ShowControls")]})}),a.jsxs("button",{type:"button",id:`take-screenshot${M}`,"aria-labelledby":`take-screenshot${M}-span`,disabled:be,onClick:async()=>{if(de.current){fe(!0);try{const e=f(Number(Ae[M][0]),Number(Ae[M][1]),Number(Ae[M][2])),r=0===M?0:1,a=await t.toPng(de.current,{scale:2,useCORS:!0,allowTaint:!1,bgcolor:e,width:de.current.offsetWidth,height:de.current.offsetHeight,onclone:e=>{const a=document?document.querySelector(`svg#svgfilter${r}`):null;if(a){const r=a.cloneNode(!0);e.appendChild(r)}}});if(a){const e=null==document?void 0:document.createElement("a");e&&(e.href=a,e.download="blobs.png",document.body.appendChild(e),e.click(),document.body.removeChild(e),oe(u(ee("ArtSaved"),!1,8)))}else oe(u(ee("Error"),!0,8))}catch(e){oe(u(ee("Error"),!0,8))}finally{fe(!1)}}},className:"screenshot tooltip-wrap",children:[a.jsx(y,{}),a.jsx("span",{id:`take-screenshot${M}-span`,className:"tooltip left above",children:ee(be?"Loading":"ClickHereToTakeAScreenshot")})]})]}),a.jsxs("div",{ref:ue,className:`drag-wrap-outest drag-wrap-outest${M}`,children:[a.jsxs("div",{ref:Y,id:`drag-wrap-outer${M}`,className:"drag-wrap-outer",style:{...ya,...ba,...ha,...ma},children:[a.jsxs("button",{tabIndex:0,ref:xe,className:"make-smaller tooltip-wrap restore "+(Xe?"":"hidden"),id:`make-smaller${M}`,onClick:()=>{Aa("scale-down")},children:[a.jsx(v,{}),"scale-down"===La&&a.jsx("span",{className:"scale-down-alert",children:ee("SizeDecreaseModeOn")}),a.jsx("span",{id:`make-smaller${M}-span`,className:"tooltip left below",children:`${ee("ShrinkInstructions")}. ${ee("Alternatively")}: ${ee("ResizebyScrollInstructions")}`})]}),a.jsxs("button",{ref:ve,className:"make-larger tooltip-wrap restore "+(Xe?"":"hidden"),id:`make-larger${M}`,onClick:()=>{Aa("scale-up")},children:[a.jsx(x,{}),"scale-up"===La&&a.jsx("span",{className:"scale-up-alert",children:ee("SizeIncreaseModeOn")}),a.jsx("span",{id:`make-larger${M}-span`,className:"tooltip left above",children:`${ee("EnlargeInstructions")}. ${ee("Alternatively")}: ${ee("ResizebyScrollInstructions")}`})]}),a.jsxs("button",{ref:ke,className:"make-more tooltip-wrap restore "+(Xe?"":"hidden"),id:`make-more${M}`,onClick:()=>{Aa("clone")},children:[a.jsx(k,{}),"clone"===La&&a.jsx("span",{className:"clone-alert",children:ee("CloneModeOn")}),a.jsx("span",{id:`make-more${M}-span`,className:"tooltip right below",children:ee("CloneInstructions")})]}),a.jsxs("button",{ref:Ne,className:"make-random tooltip-wrap "+(Xe?"":"hidden"),id:`make-random${M}`,"aria-labelledby":`make-random${M}-span`,onClick:()=>oa(),children:[a.jsx(j,{}),a.jsx("span",{id:`make-random${M}-span`,className:"tooltip below",children:`${ee("ClickMeToMakeARandomBlob")}. ${ee("MoreColorsAvailable")}!`})]}),a.jsxs("button",{ref:je,className:"delete-blob tooltip-wrap restore "+(Xe?"":"hidden"),id:`delete-blob${M}`,onClick:()=>Aa("delete"),children:[a.jsx("span",{style:{fontSize:"1.2em"},children:"×"}),"delete"===La&&a.jsx("span",{className:"delete-alert",children:ee("DeleteModeOn")}),a.jsx("span",{id:`delete-blob${M}-span`,className:"tooltip right above",children:ee("RemovalInstructions")})]}),a.jsxs("button",{ref:we,id:`layer-decrease${M}`,className:"layer-adjust layer-decrease tooltip-wrap restore "+(Xe?"":"hidden"),onClick:()=>Aa("layer-down"),children:["layer-down"===La&&a.jsx("span",{className:"layer-down-alert",children:ee("LayerDecreaseModeOn")}),a.jsx("span",{id:`layer-decrease${M}-span`,className:"tooltip above",children:`${ee("DecreaseBlobLayerBy1Instructions")} ${ee("KeyboardUsePressTheCorrespondingLayerNumber")}`}),a.jsx($,{})]}),a.jsxs("button",{ref:$e,id:`layer-increase${M}`,className:"layer-adjust layer-increase tooltip-wrap restore "+(Xe?"":"hidden"),onClick:()=>Aa("layer-up"),children:["layer-up"===La&&a.jsx("span",{className:"layer-up-alert",children:ee("LayerIncreaseModeOn")}),a.jsx("span",{id:`layer-increase${M}-span`,className:"tooltip above",children:`${ee("IncreaseBlobLayerBy1Instructions")} ${ee("KeyboardUsePressTheCorrespondingLayerNumber")}`}),a.jsx(w,{})]}),qe&&Ge&&Fe&&a.jsx("div",{ref:Se,style:{position:"absolute",top:`${Fe.top+-.05*Fe.width}px`,left:`${Fe.left+-.05*Fe.width}px`,width:1.1*Fe.width+"px",height:1.1*Fe.height+"px",outline:"3px dashed black",outlineOffset:"2px",border:"3px dashed white",borderRadius:"50%",zIndex:999}}),a.jsx("div",{ref:de,id:`drag-wrap${M}`,className:"drag-wrap",style:{height:"calc(100vh - 7rem)",minHeight:"420px",width:"100%",minWidth:"100%",backgroundColor:"transparent",margin:"0",padding:"0",overflow:"visible",borderRadius:"0",position:"relative"},children:a.jsx(r.Suspense,{fallback:a.jsxs("div",{className:"flex center margin0auto textcenter",children:[ee("Loading"),"..."]}),children:a.jsx(_,{layerAmount:Kr,layer_:Pe,hiddenLayers:He,changeBlobLayer:(e,r)=>{const a=We[r]+1;oe({type:"partialUpdate",payload:{d:M,id:e.id,update:{layer:r,z:a}}}),Ie(r)},setActiveLayer:Ie,highestZIndex:We,language:e,dispatch:oe,d:M,items:De[M]??[],saveDraggables:Or,getPosition:e=>{const r=e.id;if(!Z||!Q)return;const a=Q.getComputedStyle(e),t=parseInt(e.id.replace("blob","").split("-")[0],10),l=a.getPropertyValue("--i")??e.style.getPropertyValue("--i")??"10",s=a.getPropertyValue("left")??e.style.getPropertyValue("left"),o=a.getPropertyValue("top")??e.style.getPropertyValue("top"),n=a.getPropertyValue("z-index")??e.style.getPropertyValue("z-index"),i=a.getPropertyValue("background")??e.style.getPropertyValue("background"),c=a.getPropertyValue("--layer")??e.style.getPropertyValue("--layer"),d={layer:c?parseInt(c):Pe,id:r,number:t,i:isNaN(parseFloat(l))?10:parseFloat(l),x:s,y:o,z:n,background:i??"linear-gradient(90deg, cyan, greenyellow)"};oe({type:"updateDraggable",payload:{d:M,draggable:d}})},colorBlockProps:Er,makeLarger0:ve,makeSmaller0:xe,makeMore0:ke,removeBlob:function(e){Ea(e.id),pe.current&&(pe.current.textContent=`${ee("SelectedBlobNone")}`)},layerIncrease:$e,layerDecrease:we,dragWrap:de,exitApp:ye,selectedvalue0:pe,setFocusedBlob:Ye,colorIndex:ze,setColorIndex:Je,colorPairs:z,colorswitch:sa,scroll:G,setScroll:U,clickOutsideRef:de,addRandomDraggable:oa,mode:La,changeColor:e=>{Lr&&oe({type:"partialUpdate",payload:{d:M,id:e,update:{background:Lr}}})}})})})]}),a.jsx(r.Suspense,{fallback:a.jsxs("div",{className:"flex center margin0auto textcenter",children:[ee("Loading"),"..."]}),children:a.jsx(V,{d:M,language:e,getRefName:(e,r)=>e.get(r),map:Rr,colorBlockProps:Er,colorPairs:z,controlsVisible:Xe,setSelectedColor:Mr,selectedColor:Lr,setMode:Ma})})]}),a.jsxs("div",{className:"layer-mover-control-wrap",children:[a.jsxs("div",{className:"movers-wrap movers-wrap1 "+(Xe?"":"hidden"),children:[a.jsxs("button",{id:`moveleft${M}`,"aria-labelledby":`moveleft${M}-span`,className:"moveleft mover tooltip-wrap narrow2",onClick:()=>{oe({type:"moveDraggablesRight",payload:{d:M}})},children:[a.jsx(N,{}),a.jsx("span",{id:`moveleft${M}-span`,className:"tooltip above",children:ee("MoveViewLeft")})]}),a.jsxs("button",{id:`moveright${M}`,"aria-labelledby":`moveright${M}-span`,className:"moveright mover tooltip-wrap narrow2",onClick:()=>{oe({type:"moveDraggablesLeft",payload:{d:M}})},children:[a.jsx(S,{}),a.jsx("span",{id:`moveright${M}-span`,className:"tooltip above",children:ee("MoveViewRight")})]})]}),a.jsxs("div",{className:"layer-btn-wrap layer-tools layer-tools1",children:[a.jsxs("button",{id:`decrease-layer-amount${M}`,"aria-labelledby":`decrease-layer-amount${M}-span`,className:"layer-tool layer-amount decrease-layer-amount tooltip-wrap narrow2 danger",onClick:async()=>{if(0===He.size)return void ne(u("Please hide the layers you want to delete.",!0,8));if(Array.from(He).filter(e=>De[M].some(r=>r.layer===e)).length>0){if(!(await re({message:`${ee("LayerNotEmpty")}. ${ee("AreYouSureYouWantToProceed")}`})))return}const e=De[M].filter(e=>!He.has(e.layer)),r=Kr-He.size;if(r<1)return void ne(u(ee("MustHaveAtLeastOneLayer"),!0,8));const a=e.map(e=>{const r=e.layer;let a=r;return He.forEach(e=>{r>e&&(a-=1)}),{...e,layer:a}});oe({type:"setDraggablesAtD",payload:{d:M,draggables:a}}),Xr(r),Ar(r),Ve(new Set),setTimeout(()=>{xa()},300)},children:[a.jsx("span",{id:`decrease-layer-amount${M}-span`,className:"tooltip above",children:ee("DeleteHiddenLayers")}),"×"]}),a.jsxs("button",{id:`every-layer-minus${M}`,"aria-labelledby":`every-layer-minus${M}-span`,className:"layer-tool every-layer tooltip-wrap narrow2",onClick:()=>ta(-1),children:[a.jsx("span",{id:`every-layer-minus${M}-span`,className:"tooltip above",children:ee("ClickHereToMoveDownLayer")}),a.jsx($,{})]})]}),a.jsx("div",{className:"layer-btn-wrap layers",children:Array.from({length:Kr},(e,r)=>r).map((e,r)=>a.jsx("button",{id:`layer-button-${M}-${e}`,"aria-labelledby":`layer-button-${M}-${e}-span`,onClick:()=>{Pe===e?(e=>{Ve(r=>{var a;const t=new Set(r);return t.has(e)?t.delete(e):(t.add(e),Ie(0!==e?e-1:e),document&&(null==(a=document.activeElement)||a.blur())),t})})(e):Ie(e)},className:`layer-button tooltip-wrap narrow2 ${Pe===e?"active":""} ${He.has(e)?"dim":""}`,children:a.jsxs("span",{id:`layer-button-${M}-${e}-span`,children:[a.jsx("span",{className:"scr",children:ee("Layer")})," ",e+1," ",a.jsx("span",{className:"tooltip above",children:ee(Pe===e?"ToggleLayerByClickingMe":"ChangeLayerByClickingMe")})]})},`${e}*${r}`))}),a.jsxs("div",{className:"layer-btn-wrap layer-tools layer-tools2",children:[a.jsxs("button",{id:`every-layer-plus${M}`,"aria-labelledby":`every-layer-plus${M}-span`,className:"layer-tool every-layer tooltip-wrap narrow2",onClick:()=>ta(1),children:[a.jsx("span",{id:`every-layer-plus${M}-span`,className:"tooltip above",children:ee("ClickHereToMoveUpLayer")}),a.jsx(w,{})]}),a.jsxs("button",{id:`increase-layer-amount${M}`,disabled:Kr>=9,"aria-labelledby":`increase-layer-amount${M}-span`,className:"layer-tool layer-amount increase-layer-amount tooltip-wrap narrow2",onClick:()=>(e=>{const r=Kr+e;if(r>9)return void ne(u(ee("MaximumLayerAmountReached"),!0,8));const a=De[M].map(r=>{const a=r.layer>Pe?r.layer+e:r.layer;return{...r,layer:a}});oe({type:"setDraggablesAtD",payload:{d:M,draggables:a}}),Xr(r),Ar(r),Ve(new Set),setTimeout(()=>{xa()},300)})(1),children:[a.jsx("span",{id:`increase-layer-amount${M}-span`,className:"tooltip above",children:ee("GetMoreLayers")}),a.jsx(C,{})]})]}),a.jsxs("div",{className:"movers-wrap movers-wrap2 "+(Xe?"":"hidden"),children:[a.jsxs("button",{id:`moveup${M}`,"aria-labelledby":`moveup${M}-span`,className:"moveup mover tooltip-wrap narrow2",onClick:()=>{oe({type:"moveDraggablesDown",payload:{d:M}})},children:[a.jsx(B,{}),a.jsx("span",{id:`moveup${M}-span`,className:"tooltip above",children:ee("MoveViewUp")})]}),a.jsxs("button",{id:`movedown${M}`,"aria-labelledby":`movedown${M}-span`,className:"movedown mover tooltip-wrap narrow2",onClick:()=>{oe({type:"moveDraggablesUp",payload:{d:M}})},children:[a.jsx(R,{}),a.jsx("span",{id:`movedown${M}-span`,className:"tooltip above",children:ee("MoveViewDown")})]})]})]}),a.jsx(r.Suspense,{fallback:a.jsxs("div",{className:"flex center margin0auto textcenter",children:[ee("Loading"),"..."]}),children:a.jsx(W,{d:M,defaultHue:ae,defaultSaturation:te,defaultLightness:le,setSliderHueVal:ia,setSliderSatVal:da,setSliderLightVal:pa,language:e,sliderLightness:function(){if(Y.current){va({[`--lightness${M}`]:`${ua}`});const e=JSON.parse(JSON.stringify(Ae));e[M][2]=ua,oe({type:"setBackgroundColor",payload:{d:M,backgroundColor:e[M]}}),Dr(e[M])}},sliderSaturation:function(){if(Y.current){fa({[`--saturation${M}`]:`${ca}`});const e=JSON.parse(JSON.stringify(Ae));e[M][1]=ca,oe({type:"setBackgroundColor",payload:{d:M,backgroundColor:e[M]}}),Dr(e[M])}},sliderHue:function(){if(Y.current){ga({[`--hue${M}`]:`${na}`});const e=JSON.parse(JSON.stringify(Ae));e[M][0]=na,oe({type:"setBackgroundColor",payload:{d:M,backgroundColor:e[M]}}),Dr(e[M])}},sliderLightnessReset:function(){va({[`--lightness${M}`]:`${le}`}),Ce.current&&(Ce.current.value=le),pa(le);const e=JSON.parse(JSON.stringify(Ae));e[M][2]=le,Dr(e[M]),oe({type:"setBackgroundColor",payload:{d:M,backgroundColor:e[M]}})},sliderSaturationReset:function(){fa({[`--saturation${M}`]:`${te}`}),Be.current&&(Be.current.value=te),da(te);const e=JSON.parse(JSON.stringify(Ae));e[M][1]=te,Dr(e[M]),oe({type:"setBackgroundColor",payload:{d:M,backgroundColor:e[M]}})},sliderHueReset:function(){ga({[`--hue${M}`]:`${ae}`}),Re.current&&(Re.current.value=ae),ia(ae);const e=JSON.parse(JSON.stringify(Ae));e[M][0]=ae,Dr(e[M]),oe({type:"setBackgroundColor",payload:{d:M,backgroundColor:e[M]}})},sliderLightVal:ua,sliderSatVal:ca,sliderHueVal:na,sliderLightnessInput:Ce,sliderSaturationInput:Be,sliderHueInput:Re})}),a.jsx("div",{ref:ye,id:`exitblob${M}`,className:"exitblob"}),ie?a.jsxs("div",{className:"blob-handling",children:[a.jsx("div",{className:"full wide flex column center gap",children:a.jsxs("form",{onSubmit:e=>ea(e),children:[a.jsx("div",{className:"input-wrap",children:a.jsxs("label",{htmlFor:`blobname${M}`,children:[a.jsx("input",{id:`blobname${M}`,type:"text",value:Tr,onChange:e=>{const r=e.target.value;Zr.test(r)?Pr(r):ne(u(ee("SpecialCharactersNotAllowed"),!0,8))},placeholder:ee("NameYourArtwork"),maxLength:30}),a.jsxs("span",{children:[ee("NameYourArtwork"),":"]})]})}),a.jsx("button",{type:"submit",disabled:be,children:ee("Save")})]})}),a.jsx("h3",{children:ee("Art")}),_r?a.jsx("p",{children:ee("LoadingSavedArtwork")}):!ce||ce.length<1?a.jsx("p",{children:ee("ErrorConnectingToTheServer")}):Jr?Object.keys(Ur).map((r,t)=>{const l=Object.keys(Ur[Number(r)]),s=Math.ceil(l.length/wa),o=Sa[Number(r)]??1,n=(o-1)*wa,i=n+wa,c=l.slice(n,i);return a.jsxs("div",{className:"flex center margin0auto",children:[Da(r,o,s),a.jsx("ul",{className:"blob-versions-wrap",children:c.map((t,l)=>a.jsxs("li",{className:"blob-version-item",children:[a.jsx("span",{children:t}),a.jsxs("div",{className:"button-wrap",children:[a.jsxs("button",{onClick:()=>(async(r,a)=>{const t=a.trim();(null==ie?void 0:ie._id)&&await re({message:ee("NoteThatUnsavedChangesWillBeLost")})&&T(null==ie?void 0:ie._id,r,t,e).then(e=>{const a=Math.max(...e.draggables.map(e=>e.layer));Xr(a+1),setTimeout(()=>{Ar(a+1)},300),oe({type:"setDraggablesAtD",payload:{d:r,draggables:e.draggables}}),oe({type:"setBackgroundColor",payload:{d:r,backgroundColor:e.backgroundColor}}),Dr(e.backgroundColor),ia(e.backgroundColor[0]),da(e.backgroundColor[1]),pa(e.backgroundColor[2]),ga({[`--hue${r}`]:`${e.backgroundColor[0]}`}),fa({[`--saturation${r}`]:`${e.backgroundColor[1]}`}),va({[`--lightness${r}`]:`${e.backgroundColor[2]}`})}).then(()=>{Pr(t),$a(),setTimeout(()=>{xa()},300)}).catch(e=>{var r,a;(null==(a=null==(r=e.response)?void 0:r.data)?void 0:a.message)?oe(u(e.response.data.message,!0,8)):ne(u(`${ee("Error")}: ${e.message}`,!0,8))})})(Number(r),t),children:[ee("Load")," ",a.jsx("span",{className:"scr",children:t})]}),a.jsxs("button",{onClick:()=>(async(r,a)=>{ie._id&&await re({message:ee("AreYouSureYouWantToDeleteThisVersion")})&&H(ie._id,r,a,e).then(()=>{ne(u(ee("DeletedArt"),!1,8)),Gr(!Yr)}).catch(e=>{var r,a;(null==(a=null==(r=e.response)?void 0:r.data)?void 0:a.message)?oe(u(e.response.data.message,!0,8)):ne(u(`${ee("Error")}: ${e.message}`,!0,8))})})(Number(r),t),children:[ee("Delete")," ",a.jsx("span",{className:"scr",children:t})]}),a.jsx(p,{language:e,id:`accordion-blobnewname-${m(t)}`,className:"blobnewname",wrapperClass:"blobnewname-wrap",text:ee("Rename"),hideBrackets:!0,onClick:()=>{Hr(t),Wr(t)},isOpen:Vr===t,children:a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"input-wrap",children:a.jsxs("label",{htmlFor:`blobnewname-${m(t)}`,children:[a.jsx("input",{id:`blobnewname-${m(t)}`,type:"text",value:Ir,onChange:Qr,placeholder:ee("RenameYourArtwork"),maxLength:30}),a.jsxs("span",{children:[ee("Rename"),":"]})," ",a.jsx("span",{className:"scr",children:t})]})}),a.jsxs("button",{onClick:()=>{t!==Ir?(async(r,a)=>{var t,l;const s=a.trim();if(""!==a.trim())if(a.trim().length>30)ne(u(`${ee("NameTooLong")}. ${ee("AMaxOf30CharactersPlease")}`,!0,8));else try{(null==ie?void 0:ie._id)?I(null==ie?void 0:ie._id,M,De[M],r,Ae[M],e,s).then(()=>{Gr(!Yr),ne(u(ee("SavingSuccessful"),!1,8))}).catch(e=>{var r,a;(null==(a=null==(r=e.response)?void 0:r.data)?void 0:a.message)?oe(u(e.response.data.message,!0,8)):ne(u(`${ee("Error")}: ${e.message}`,!0,8))}):ne(u(ee("LoginToSaveBlobs"),!0,8))}catch(o){(null==(l=null==(t=o.response)?void 0:t.data)?void 0:l.message)?oe(u(o.response.data.message,!0,8)):ne(u(ee("Error"),!0,8))}else ne(u(ee("NameYourArtwork"),!0,8))})(t,Ir):ne(u(`${ee("Error")}: ${ee("RenameYourArtwork")}`,!0,5))},children:[ee("Edit")," ",a.jsxs("span",{className:"scr",children:[t,": ",ee("NewName")," ",Ir]})]})]})})]})]},`${t}+${l}`))},`${r}+${t}`),Da(r,o,s)]},`${r}:${t}`)}):a.jsx("p",{children:ee("NoSavedArtworkYet")})]}):a.jsxs("div",{className:"wide flex column center gap",children:[a.jsxs("div",{className:"login-to-save wide flex column center gap-half",children:[a.jsx(E,{}),ee("InOrderToSaveTheBlobs")]}),a.jsxs("div",{className:"blob-register-login-wrap",children:[a.jsx("button",{onClick:()=>{ja("/portfolio/blob?login=login")},children:ee("Login")}),a.jsx("big",{children:ee("Or")}),a.jsx("button",{onClick:()=>{ja("/portfolio/blob?register=register")},children:ee("Register")})]})]}),a.jsx("svg",{className:"filter",id:"svgfilter0",children:a.jsxs("defs",{children:[a.jsx("filter",{id:"svgGaussian0",children:a.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"7"})}),a.jsxs("filter",{id:"svgMatrix0",children:[a.jsx("feColorMatrix",{values:"\r\n1 0 0 0 0\r\n0 1 0 0 0\r\n0 0 1 0 0\r\n0 0 0 50 -18\r\n"})," "]})]})}),a.jsx("svg",{className:"filter",id:"svgfilter1",children:a.jsxs("defs",{children:[" ",a.jsx("filter",{id:"svgGaussian1",children:a.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"8"})}),a.jsx("filter",{id:"svgMatrix1",children:a.jsx("feColorMatrix",{values:"\r\n1 0 0 0 0\r\n0 1 0 0 0\r\n0 0 1 0 0\r\n0 0 0 46 -28\r\n"})})]})})]})})})})}export{Y as default};
