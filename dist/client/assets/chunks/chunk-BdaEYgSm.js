import{a as s,j as r}from"./chunk-CAff-kf5.js";import{L as e,b as t,j as n,aq as a}from"../entries/src_pages.8IG4k9ME.js";import{s as i}from"./chunk-ByA33Q6F.js";import"./chunk-BmSI4Fww.js";import"./chunk-CVevwmbB.js";import"./chunk-CNpwfz3n.js";import"../entries/entry-client-routing.Bbnd9vHe.js";import"./chunk-VF2LHfxc.js";/* empty css              *//* empty css              */import"./chunk-D3Yr0q6g.js";import"./chunk-CKSHq_s9.js";import"./chunk-GmA6ITIw.js";import"./chunk-DFDIFHTJ.js";import"./chunk-BvVqAYuT.js";import"./chunk-Xgiuglox.js";import"./chunk-CmA2CWkd.js";import"./chunk-Cgv-mfVR.js";import"./chunk-fiALBYsU.js";import"./chunk-DbeWnEfh.js";import"./chunk-BurK_taE.js";import"./chunk-BVvUx4OK.js";import"./chunk-B3S1iNVp.js";import"./chunk-ei4kQ0Q2.js";import"./chunk-B_VbuTrp.js";import"./chunk-DAUSXQgp.js";import"./chunk-RtNBUybj.js";import"./chunk-CrSVf9D1.js";import"./chunk-Cgo1rCBn.js";import"./chunk-DQcwr13S.js";/* empty css              */import"./chunk-ITMKy72C.js";import"./chunk-e2Lvd1W2.js";import"./chunk-mrHSz1EB.js";/* empty css              */import"./chunk-CFcfonrM.js";import"./chunk-CblELM-r.js";import"./chunk-CEm4-sWZ.js";import"./chunk-CeuMhN-M.js";/* empty css              */const o=({user:o,language:u})=>{const{t:p}=s.useContext(e),c=t(),[m,d]=s.useState(""),[h,j]=s.useState(""),[l,k]=s.useState(""),[g,v]=s.useState(!1);return r.jsx(r.Fragment,{children:o?r.jsxs(r.Fragment,{children:[r.jsx("h2",{children:p("EditPassword")}),r.jsxs("form",{onSubmit:async s=>{var r,e;s.preventDefault(),v(!0);try{if(h.trim()!==l.trim())return c(n(p("PasswordsDoNotMatch"),!0,5)),void v(!1);if(h.length<10)return c(n(p("PasswordMustBeAtLeastTenCharacters"),!0,5)),void v(!1);const s=o._id;o&&c(a({_id:s,passwordOld:m,password:h,language:u})).then(s=>{s&&(!1===s.success?c(n(`${s.message||p("Error")}`,!0,5)):(c(n(`${s.message||p("UserUpdated")}`,!1,5)),d(""),j(""),k(""))),v(!1)}).catch(s=>{var r,e,t,a;(null==(e=null==(r=s.response)?void 0:r.data)?void 0:e.message)?c(n(s.response.data.message,!0,8)):"ERR_BAD_REQUEST"===s.code&&(null==(a=null==(t=s.response)?void 0:t.data)?void 0:a.message)?c(n(`${s.response.data.message}`,!0,5)):setTimeout(()=>{c(n(p("UserNotUpdated"),!0,5))},2e3),v(!1)})}catch(t){(null==(e=null==(r=t.response)?void 0:r.data)?void 0:e.message)&&c(n(t.response.data.message,!0,8))}},className:i["edit-user"],children:[r.jsx("div",{className:"input-wrap",children:r.jsxs("label",{children:[r.jsx("input",{required:!0,type:"password",name:"old-password",id:"old-password",value:m,onChange:({target:s})=>d(s.value.trim())}),r.jsx("span",{children:p("CurrentPassword")})]})}),r.jsx("div",{className:"input-wrap",children:r.jsxs("label",{children:[r.jsx("input",{required:!0,type:"password",name:"password",id:"password-edit",value:h,onChange:({target:s})=>j(s.value.trim())}),r.jsx("span",{children:p("Password")})]})}),r.jsx("div",{className:"input-wrap",children:r.jsxs("label",{children:[r.jsx("input",{required:!0,type:"password",name:"confirmPassword",id:"confirmPassword",value:l,onChange:({target:s})=>k(s.value.trim())}),r.jsx("span",{children:p("ConfirmPassword")})]})}),r.jsx("button",{type:"submit",disabled:g,children:p("Edit")})]})]}):r.jsx(r.Fragment,{})})};export{o as default};
