import{a as e,j as t}from"./chunk-CAff-kf5.js";import{L as n}from"../entries/src_pages.8IG4k9ME.js";import{a as r}from"./chunk-ei4kQ0Q2.js";const a=({quote:r,language:a,url:l,title:o})=>{const{t:i}=e.useContext(n),[s,c]=e.useState(!1),d=e.useRef(null);return""===r.content?t.jsx(t.Fragment,{}):t.jsxs(t.Fragment,{children:[t.jsx("p",{ref:d,children:t.jsxs("i",{children:[t.jsxs("big",{style:{display:"inline-block",margin:"0 0 0.5em"},children:['"',r.content,'"']}),"— ",r.originator.name]})}),t.jsxs("div",{className:"flex gap",children:[t.jsx("button",{className:"small",style:{maxWidth:"max-content",marginLeft:"1em"},onClick:()=>{var e,t;const n=`"${r.content}" - ${r.originator.name}`;if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(n).then(()=>{c(!0),setTimeout(()=>c(!1),3e3)},e=>{});else{const r=null==document?void 0:document.createElement("textarea");r.value=n,null==(e=d.current)||e.appendChild(r),r.focus(),r.select();try{null==document||document.execCommand("copy"),c(!0),setTimeout(()=>c(!1),3e3)}catch(a){}null==(t=d.current)||t.removeChild(r)}},children:i(s?"CopiedToClipboard":"CopyToClipboard")}),o&&t.jsx("small",{children:l?t.jsx("a",{href:l,target:"_blank",rel:"noreferrer",children:o}):t.jsx(t.Fragment,{children:o})})]})]})},l=({poem:r,language:a})=>{const{t:l}=e.useContext(n),[o,i]=e.useState(!1),s=e.useRef(null);return!r||!r.lines||r.lines.length<1?t.jsx(t.Fragment,{}):t.jsxs(t.Fragment,{children:[t.jsx("p",{style:{margin:"0 0 0.5em 0"},children:r.title}),t.jsx("p",{ref:s,children:t.jsxs("i",{children:[t.jsx("big",{style:{display:"block",margin:"0 0 0.5em"},children:r.lines.map((n,a)=>t.jsxs(e.Fragment,{children:[n,r.lines.length===a+1?"":t.jsx("br",{})]},n))}),"— ",r.author]})}),t.jsx("div",{className:"flex gap",children:t.jsx("button",{className:"small",style:{maxWidth:"max-content",marginLeft:"1em"},onClick:()=>{var e,t;const n=`${r.title} \n\n ${r.lines.join("\n")}\n\n - ${r.author}`;if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(n).then(()=>{i(!0),setTimeout(()=>i(!1),3e3)},e=>{});else{const r=null==document?void 0:document.createElement("textarea");r.value=n,null==(e=s.current)||e.appendChild(r),r.focus(),r.select();try{null==document||document.execCommand("copy"),i(!0),setTimeout(()=>i(!1),3e3)}catch(a){}null==(t=s.current)||t.removeChild(r)}},children:l(o?"CopiedToClipboard":"CopyToClipboard")})})]})},o=async(e,t)=>{try{const e=await r.get(`https://poetrydb.org/random,linecount/1;${t}`);if(200===e.status&&e.data)return e.data;throw new Error("Failed to fetch poem.")}catch(n){return[]}};export{l as P,a as Q,o as g};
