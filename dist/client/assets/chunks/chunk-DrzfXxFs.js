const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/chunk-mANS87kv.js","assets/entries/entry-client-routing.Bbnd9vHe.js","assets/chunks/chunk-VF2LHfxc.js","assets/chunks/chunk-CAff-kf5.js","assets/chunks/chunk-BmSI4Fww.js","assets/chunks/chunk-CFcfonrM.js","assets/static/src_components_Todo_css_todo.DdPdOL7s.css","assets/entries/src_pages.8IG4k9ME.js","assets/chunks/chunk-CVevwmbB.js","assets/chunks/chunk-CNpwfz3n.js","assets/chunks/chunk-D3Yr0q6g.js","assets/chunks/chunk-CKSHq_s9.js","assets/static/src_components_Nav_nav.DcneIkOu.css","assets/chunks/chunk-GmA6ITIw.js","assets/chunks/chunk-DFDIFHTJ.js","assets/chunks/chunk-BvVqAYuT.js","assets/chunks/chunk-Xgiuglox.js","assets/chunks/chunk-CmA2CWkd.js","assets/chunks/chunk-Cgv-mfVR.js","assets/chunks/chunk-fiALBYsU.js","assets/chunks/chunk-DbeWnEfh.js","assets/chunks/chunk-BurK_taE.js","assets/chunks/chunk-BVvUx4OK.js","assets/chunks/chunk-B3S1iNVp.js","assets/chunks/chunk-ei4kQ0Q2.js","assets/chunks/chunk-B_VbuTrp.js","assets/static/src_components_Select_select.CimA6Gt4.css","assets/chunks/chunk-DAUSXQgp.js","assets/static/src_components_Modal_modal.CbnZMdwa.css","assets/chunks/chunk-RtNBUybj.js","assets/static/src_pages_css_portfolio.CobdKDwb.css","assets/chunks/chunk-CrSVf9D1.js","assets/static/src_pages_css_about.WLJNejns.css","assets/chunks/chunk-Cgo1rCBn.js","assets/static/src_pages_css_disclaimer.tn0RQdqM.css","assets/chunks/chunk-DQcwr13S.js","assets/static/src_components_Store_store.739lCcfL.css","assets/chunks/chunk-ITMKy72C.js","assets/static/src_components_DragAndDrop_dragAndDrop.nzYxpsON.css","assets/chunks/chunk-e2Lvd1W2.js","assets/static/src_components_Confirm_css_confirm.PkGjZh4r.css","assets/chunks/chunk-mrHSz1EB.js","assets/static/src_components_Images_images.D__9EApC.css","assets/chunks/chunk-CblELM-r.js","assets/static/src_pages_css_useredit.C8iHZ--I.css","assets/chunks/chunk-CEm4-sWZ.js","assets/static/src_pages_css_welcome.D34tVg6Q.css","assets/chunks/chunk-CeuMhN-M.js","assets/static/src_components_Hero_hero.BHFXoff8.css","assets/static/src_css_App-73433860.CQH0klWf.css","assets/static/src_css_form-f0fd4370.ruWewV9h.css","assets/static/src_components_Blob_css_blob-3343a0bc.Dd8ObI_E.css","assets/static/src_pages_pages-portfolio_css_quiz-539960c0.DD9CL5Hk.css","assets/static/src_css_index-36aef647.D4A5laED.css"])))=>i.map(i=>d[i]);
import{_ as e}from"../entries/entry-client-routing.Bbnd9vHe.js";import{a as t,j as s}from"./chunk-CAff-kf5.js";import{s as a}from"./chunk-CFcfonrM.js";import{u as o,a as r,L as i,q as n,b as l,i as c,ad as d,j as u,ae as m,af as p,S as h,ag as f,ah as g,ai as k,aj as j,ak as y,al as v,am as x,an as N,ao as S,ap as T}from"../entries/src_pages.8IG4k9ME.js";import{a as C}from"./chunk-Xgiuglox.js";import{aK as _}from"./chunk-D3Yr0q6g.js";import{v as w}from"./chunk-BYLounmj.js";import"./chunk-VF2LHfxc.js";import"./chunk-BmSI4Fww.js";import"./chunk-CVevwmbB.js";import"./chunk-CNpwfz3n.js";/* empty css              *//* empty css              */import"./chunk-CKSHq_s9.js";import"./chunk-GmA6ITIw.js";import"./chunk-DFDIFHTJ.js";import"./chunk-BvVqAYuT.js";import"./chunk-CmA2CWkd.js";import"./chunk-Cgv-mfVR.js";import"./chunk-DbeWnEfh.js";import"./chunk-BurK_taE.js";import"./chunk-BVvUx4OK.js";import"./chunk-B3S1iNVp.js";import"./chunk-ei4kQ0Q2.js";import"./chunk-B_VbuTrp.js";import"./chunk-DAUSXQgp.js";import"./chunk-RtNBUybj.js";import"./chunk-CrSVf9D1.js";import"./chunk-Cgo1rCBn.js";import"./chunk-DQcwr13S.js";/* empty css              */import"./chunk-ITMKy72C.js";import"./chunk-e2Lvd1W2.js";import"./chunk-mrHSz1EB.js";/* empty css              */import"./chunk-CblELM-r.js";import"./chunk-CEm4-sWZ.js";import"./chunk-CeuMhN-M.js";/* empty css              */import"./chunk-fiALBYsU.js";var b=(e=>(e.en="Low",e.es="Bajo",e.fr="Faible",e.de="Niedrig",e.pt="Baixo",e.cs="Nízký",e.fi="Matala",e))(b||{}),E=(e=>(e.en="Medium",e.es="Medio",e.fr="Moyen",e.de="Mittel",e.pt="Médio",e.cs="Střední",e.fi="Keskiverto",e))(E||{}),O=(e=>(e.en="High",e.es="Alto",e.fr="Haut",e.de="Hoch",e.pt="Alto",e.cs="Vysoký",e.fi="Korkea",e))(O||{}),A=(e=>(e.en="Priority",e.es="Prioridad",e.fr="Priorité",e.de="Priorität",e.pt="Prioridade",e.cs="Priorita",e.fi="Tärkeys",e))(A||{}),P=(e=>(e.en="Deadline",e.es="Fecha Límite",e.fr="Date Limite",e.de="Frist",e.pt="Prazo",e.cs="Termín",e.fi="Määräaika",e))(P||{}),L=(e=>(e.en="Category",e.es="Categoría",e.fr="Catégorie",e.de="Kategorie",e.pt="Categoria",e.cs="Kategorie",e.fi="Kategoria",e))(L||{}),$=(e=>(e.en="Shopping",e.es="Compras",e.fr="Achats",e.de="Einkaufen",e.pt="Compras",e.cs="Nákupy",e.fi="Ostokset",e))($||{}),D=(e=>(e.en="All",e.es="Todos",e.fr="Tous",e.de="Alle",e.pt="Todos",e.cs="Vše",e.fi="Kaikki",e))(D||{}),I=(e=>(e.en="Work",e.es="Trabajo",e.fr="Travail",e.de="Arbeit",e.pt="Trabalho",e.cs="Práce",e.fi="Työ",e))(I||{}),J=(e=>(e.en="Personal",e.es="Personal",e.fr="Personnel",e.de="Persönlich",e.pt="Pessoal",e.cs="Osobní",e.fi="Henkilökohtainen",e))(J||{}),M=(e=>(e.en="Other",e.es="Otro",e.fr="Autre",e.de="Andere",e.pt="Outro",e.cs="Jiný",e.fi="Muu",e))(M||{}),K=(e=>(e.en="None",e.es="Ninguna",e.fr="Aucun",e.de="Keiner",e.pt="Nenhum",e.cs="Žádný",e.fi="Ei mitään",e))(K||{}),z=(e=>(e.en="Text",e.es="Texto",e.fr="Texte",e.de="Text",e.pt="Texto",e.cs="Text",e.fi="Teksti",e))(z||{});const F={all:D,low:b,medium:E,high:O,priority:A,deadline:P,category:L,work:I,personal:J,shopping:$,other:M,none:K,text:z},H=(e,t)=>e.map(e=>({label:F[e][t],value:e})),B=t.lazy(()=>e(()=>import("./chunk-mANS87kv.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53]))),R=300;function V({language:e}){const b=o(),E=r(),{t:O}=t.useContext(i),A=n(),P=l(),L=C(e=>{var t;return null==(t=e.auth)?void 0:t.user});t.useEffect(()=>{P(c())},[]);const $=C(e=>e.todos.todos),D=C(e=>e.todos.status),I=C(e=>e.todos.error),[J,M]=t.useState("low"),[K,z]=t.useState(""),[F,V]=t.useState("other"),[W,q]=t.useState("all"),[Y,Q]=t.useState("all"),U="ReactTodos",G=null==$?void 0:$.some(e=>e.complete);t.useEffect(()=>{if(b&&E&&0===$.length&&!L){const e=JSON.parse(E.localStorage.getItem(U)||"[]"),t=new Set($.map(e=>e.key));e.forEach(e=>{t.has(e.key)||P(d(e))})}},[P,$,L,b]),t.useEffect(()=>{b&&E&&E.localStorage.setItem(U,JSON.stringify($))},[$,b]);t.useEffect(()=>{const e=(e=>{const t=new Set,s=[];return e.forEach(e=>{t.has(e.key)?s.push(e):t.add(e.key)}),s})($),t=new Set;e.forEach(e=>{t.has(e.key)||((e=>{if(e)if(null==L?void 0:L._id)P(f(L._id,e));else{P(g(e));const t=$.filter(t=>t.key!==e);if(!b||!E)return;E.localStorage.setItem(U,JSON.stringify(t))}else P(u("Error: no key",!0,8))})(e.key),t.add(e.key))})},[$]);const[X,Z]=t.useState([]),ee=$.filter(e=>{const t="all"===W||e.priority===W,s="all"===Y||e.category===Y;return t&&s});t.useEffect(()=>{const e=null==ee?void 0:ee.slice().sort((e,t)=>(e.order??0)-(t.order??0)).map(e=>({...e,id:e.order,status:"todos"}));Z(e)},[$,W,Y]);const te=H(["all","low","medium","high"],e),se=H(["all","work","personal","shopping","other"],e),ae=H(["low","medium","high"],e),oe=H(["work","personal","shopping","other"],e);t.useEffect(()=>{"failed"===D&&P(u(`There was an error: ${I}`,!0,8))},[D,I,P]);const[re,ie]=t.useState(!1);t.useEffect(()=>{(null==L?void 0:L._id)&&P(m(L._id)).then(()=>{P(p(L._id))}).catch(e=>{var t,s;(null==(s=null==(t=e.response)?void 0:t.data)?void 0:s.message)?P(u(e.response.data.message,!0,8)):P(u(`${e.message}`,!0,8))})},[null==L?void 0:L._id]);const ne=t.useRef(null),[le,ce]=t.useState("");return s.jsxs(s.Fragment,{children:[s.jsx("form",{onSubmit:e=>{if(e.preventDefault(),ie(!0),""===le)return ie(!1),void P(u(O("AddTask"),!0,3));if(le.length>R)return ie(!1),void P(u(`${O("NameTooLong")} (300 max)`,!0,8));const t=w(),s=$.reduce((e,t)=>t.order>e?t.order:e,0),a=$.reduce((e,t)=>t.order<e?t.order:e,0);let o;if(o="high"===J?{key:t,name:le,complete:!1,order:a-1,priority:J,deadline:K,category:F}:{key:t,name:le,complete:!1,order:s+1,priority:J,deadline:K,category:F},L)P(x(L._id,o)),ie(!1);else{const e=[...$,o].sort((e,t)=>e.order-t.order).map((e,t)=>({...e,order:t}));if(P(N(e)),N(e),ie(!1),!b||!E)return;E.localStorage.setItem(U,JSON.stringify(e))}ne.current&&(ne.current.value="")},className:a.form,children:s.jsxs("fieldset",{children:[s.jsx("legend",{className:"scr",children:O("AddTaskToTheTaskList")}),s.jsxs("div",{className:a["todo-input-area"],children:[s.jsx("label",{htmlFor:"taskinput",children:O("AddTask")}),s.jsx("textarea",{ref:ne,id:"taskinput",className:"bg",rows:3,name:"task",value:le,onChange:e=>ce(e.target.value),required:!0,autoComplete:"off",placeholder:`${O("Task")}...`}),s.jsxs("p",{className:a.small,children:[R-le.length," ",O("CharactersLeft")," (",O("Max"),":"," ",R,")"," ",le.length>R&&s.jsx("span",{className:a.warning,children:O("NameTooLong")})]}),s.jsx(h,{z:X.length+5,id:"category",className:`${a.select} ${a["category-select"]}`,hideDelete:!0,instructions:O("SelectCategory"),value:oe.find(e=>e.value===F)||oe[0],onChange:e=>V(null==e?void 0:e.value),options:oe,language:e}),s.jsx(h,{id:"priority",className:a.select,hideDelete:!0,instructions:O("SelectPriority"),value:ae.find(e=>e.value===J)||ae[0],onChange:e=>M(null==e?void 0:e.value),options:ae,language:e,z:X.length+4}),s.jsxs("button",{id:a["submit-todo"],className:a["submit-todo"],type:"submit",disabled:re,children:[O("AddTask")," ",s.jsx(_,{})]})]})]})}),s.jsxs("div",{className:a["controls-wrap"],children:[s.jsx(h,{id:"category-filter",className:`${a.select} ${a["category-select"]}`,hideDelete:!0,instructions:O("FilterByCategory"),value:se.find(e=>e.value===Y)||se[0],onChange:e=>Q(null==e?void 0:e.value),options:se,language:e,z:X.length+3}),s.jsx(h,{id:"priority-filter",className:a.select,hideDelete:!0,instructions:O("FilterByPriority"),value:te.find(e=>e.value===W)||te[0],onChange:e=>q(null==e?void 0:e.value),options:te,language:e,z:X.length+2}),s.jsx("button",{className:`danger ${a["clear-completed"]}`,disabled:!G,onClick:e=>async function(e){if(e.preventDefault(),await A({message:O("AreYouSureYouWantToClearAllCompletedTasks")}))if(L)await P(S(L._id));else{P(T());const e=$.filter(e=>!e.complete);if(!b||!E)return;E.localStorage.setItem(U,JSON.stringify(e))}}(e),children:O("ClearCompleted")})]}),s.jsxs("div",{className:a["list-wrap"],children:[s.jsxs("p",{className:a["left-to-do"],children:[null==$?void 0:$.filter(e=>!(null==e?void 0:e.complete)).length," ",O("LeftToDo")]}),("all"!==W||"all"!==Y)&&s.jsxs("p",{className:a["filter-notification"],children:[O("Note")," ",O("Filtered")]}),s.jsx(t.Suspense,{fallback:s.jsxs("p",{className:"flex center margin0auto textcenter",children:[O("Loading"),"..."]}),children:s.jsx(B,{sending:re,todosWithIdAndStatus:X,toggleTodo:function(e){const t=$.find(t=>t.key===e);if(t){const s={...t,complete:!t.complete};P(L?k(L._id,e,s):j(s))}},deleteTodo:function(e){if(e)if(null==L?void 0:L._id)P(f(L._id,e));else{P(g(e));let t=$.filter(t=>t.key!==e);if(t=t.map((e,t)=>({...e,order:t+1})),P(N(t)),!b||!E)return;E.localStorage.setItem(U,JSON.stringify(t))}else P(u("Error: no key",!0,8))},language:e,modifyTodo:async(e,t,s,a,o)=>{if(ie(!0),!e)return P(u("Error: no key",!0,8)),void ie(!1);const r=$.find(t=>t.key===e);if(r){const i={...r,name:t,priority:s,deadline:a,category:o};if(L)await P(k(L._id,e,i)).then(()=>{P(u(`${O("Updated")}`,!1,3)),ie(!1)}).catch(e=>{var t,s;(null==(s=null==(t=e.response)?void 0:t.data)?void 0:s.message)?P(u(e.response.data.message,!0,8)):P(u(`${e}`,!0,8)),ie(!1)});else{P(j(i));const t=$.map(t=>t.key===e?i:t);if(ie(!1),!b||!E)return;E.localStorage.setItem(U,JSON.stringify(t))}}},modifyTodoOrder:e=>{var t,s;if(L)P(async t=>{var s,a;try{await y(L._id,e).then(()=>{t(p(L._id))})}catch(o){(null==(a=null==(s=o.response)?void 0:s.data)?void 0:a.message)?t(u(o.response.data.message,!0,8)):t(u(`${o}`,!0,8))}});else try{P(v(e))}catch(a){(null==(s=null==(t=a.response)?void 0:t.data)?void 0:s.message)?P(u(a.response.data.message,!0,8)):P(u(`${a}`,!0,8))}finally{if(!b||!E)return;E.localStorage.setItem(U,JSON.stringify($))}},priorityOptions:ae,categoryOptions:oe,maxCharacters:R})}),"loading"===D&&s.jsxs("p",{className:"flex center margin0auto textcenter",children:[O("Loading"),"..."]})]})]})}export{V as default};
