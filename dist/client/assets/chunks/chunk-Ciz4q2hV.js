import{a as e,j as t}from"./chunk-CAff-kf5.js";import{L as r,aM as n,aC as a,b as o,j as l}from"../entries/src_pages.8IG4k9ME.js";import"./chunk-BmSI4Fww.js";import"./chunk-CVevwmbB.js";import"./chunk-CNpwfz3n.js";import"../entries/entry-client-routing.Bbnd9vHe.js";import"./chunk-VF2LHfxc.js";/* empty css              *//* empty css              */import"./chunk-D3Yr0q6g.js";import"./chunk-CKSHq_s9.js";import"./chunk-GmA6ITIw.js";import"./chunk-DFDIFHTJ.js";import"./chunk-BvVqAYuT.js";import"./chunk-Xgiuglox.js";import"./chunk-CmA2CWkd.js";import"./chunk-Cgv-mfVR.js";import"./chunk-fiALBYsU.js";import"./chunk-DbeWnEfh.js";import"./chunk-BurK_taE.js";import"./chunk-BVvUx4OK.js";import"./chunk-B3S1iNVp.js";import"./chunk-ei4kQ0Q2.js";import"./chunk-B_VbuTrp.js";import"./chunk-DAUSXQgp.js";import"./chunk-RtNBUybj.js";import"./chunk-CrSVf9D1.js";import"./chunk-Cgo1rCBn.js";import"./chunk-DQcwr13S.js";/* empty css              */import"./chunk-ITMKy72C.js";import"./chunk-e2Lvd1W2.js";import"./chunk-mrHSz1EB.js";/* empty css              */import"./chunk-CFcfonrM.js";import"./chunk-CblELM-r.js";import"./chunk-CEm4-sWZ.js";import"./chunk-CeuMhN-M.js";/* empty css              */const i=({d:i,layer:c,language:s,item:u,index:d,start:p,movement:h,stopMovementCheck:m,stopMoving:g,wheel:v,focused:b,blurred:$,selectedvalue0:x,setFocusedBlob:j,dragUlRef:k,removeBlob:y,mode:f,changeBlobLayer:C,layerAmount:N,changeColor:B})=>{const{t:w}=e.useContext(r),M=0===i?33:n(22,2.6*u.i,50),{dispatch:S}=e.useContext(a),T=o(),E={background:`${u.background}`,display:"block",left:`${u.x}`,top:`${u.y}`,zIndex:`${u.z}`,"--i":isNaN(Number(u.i))?"10":`${u.i}`,"--layer":`${c}`,WebkitFilter:`blur(${M}px)`,filter:`blur(${M}px)`},A=0===i?["5.9px","8.2px","9.9px","10.8px","10.7px","10.5px","10px"]:["5.1px","5.4px","6.5px","7px","7.8px","8.4px","8.6px"];return t.jsxs("li",{onFocus:e=>{var t;k&&k.current&&(null==(t=k.current)||t.setAttribute("aria-activedescendant",`${e.target.id}`));const r=e.target;setTimeout(()=>{var e,t;const n=r.getBoundingClientRect(),a=null==(e=r.parentNode)?void 0:e.getBoundingClientRect(),o=r.closest(".drag-wrap-outer"),l=null==o?void 0:o.scrollLeft,i=null==o?void 0:o.scrollTop;j({top:n.top-a.top-i,left:n.left-a.left-l,width:n.width,height:n.height}),x.current&&(x.current.textContent=`${w("SelectedBlob")}: ${null==(t=r.querySelector("span"))?void 0:t.textContent}`)},500),b(r)},onBlur:e=>{var t;j(null),$(e.target),k&&k.current&&(null==(t=k.current)||t.removeAttribute("aria-activedescendant")),x.current&&(x.current.textContent=`${w("SelectedBlobNone")}`)},className:`dragzone animation ${f}`,id:u.id,role:"option",tabIndex:0,style:E,onClick:e=>{if("change-color"===f)B(u.id);else if("delete"===f)y(u);else if("clone"===f)S({type:"duplicateDraggable",payload:{d:i,draggable:u}});else if("layer-up"===f){let e=u.layer;e<N-1?(e+=1,C(u,e)):T(l(w("CannotRaiseBlobFurther"),!0,4))}else if("layer-down"===f){let e=u.layer;e>0?(e-=1,C(u,e)):T(l(w("CannotLowerBlobFurther"),!0,4))}else if("scale-down"===f){let e=u.i;e=isNaN(e)?10:e,e-=.4,e=Math.min(Math.max(7,e),36),S({type:"partialUpdate",payload:{d:i,id:u.id,update:{i:e}}})}else if("scale-up"===f){let e=u.i;e=isNaN(e)?10:e,e+=.4,e=Math.min(Math.max(7,e),36),S({type:"partialUpdate",payload:{d:i,id:u.id,update:{i:e}}})}},children:[t.jsx("div",{className:"draggable-overlay",style:Number(u.i)<8?{width:`calc(var(--i) * ${A[0]})`,height:`calc(var(--i) * ${A[0]})`}:Number(u.i)<10?{width:`calc(var(--i) * ${A[1]})`,height:`calc(var(--i) * ${A[1]})`}:Number(u.i)<20?{width:`calc(var(--i) * ${A[2]})`,height:`calc(var(--i) * ${A[2]})`}:Number(u.i)<24?{width:`calc(var(--i) * ${A[3]})`,height:`calc(var(--i) * ${A[3]})`}:Number(u.i)<28?{width:`calc(var(--i) * ${A[4]})`,height:`calc(var(--i) * ${A[4]})`}:Number(u.i)<32?{width:`calc(var(--i) * ${A[5]})`,height:`calc(var(--i) * ${A[5]})`}:isNaN(Number(u.i))||null===u.i||void 0===u.i?{width:`7 * ${A[6]})`,height:`7 * ${A[6]})`}:{width:`calc(var(--i) * ${A[6]})`,height:`calc(var(--i) * ${A[6]})`},onMouseDown:e=>{var t,r;e.stopPropagation();const n=e.currentTarget.parentElement;n.draggable=!0,x.current&&(x.current.textContent=`${w("SelectedBlob")}: ${null==(t=null==n?void 0:n.querySelector("span"))?void 0:t.textContent}`),k&&k.current&&(null==(r=k.current)||r.setAttribute("aria-activedescendant",`${n.id}`)),p(e,n)},onMouseMove:e=>{var t;if(1===e.buttons){e.stopPropagation();const r=e.currentTarget.parentElement;r.draggable=!0,h(e,r),x.current&&(x.current.textContent=`${w("SelectedBlob")}: ${null==(t=null==r?void 0:r.querySelector("span"))?void 0:t.textContent}`)}},onMouseLeave:e=>{var t;e.stopPropagation();const r=e.currentTarget.parentElement;r.draggable=!1,k&&k.current&&(null==(t=k.current)||t.removeAttribute("aria-activedescendant")),g(e,r),x.current&&(x.current.textContent=`${w("SelectedBlobNone")}`)},onMouseUp:e=>{var t;const r=e.currentTarget.parentElement;r.draggable=!1,m(e,r),k&&k.current&&(null==(t=k.current)||t.removeAttribute("aria-activedescendant")),x.current&&(x.current.textContent=`${w("SelectedBlobNone")}`)},onTouchStart:e=>{var t,r;e.preventDefault(),e.stopPropagation();const n=e.currentTarget.parentElement;n.draggable=!0,k&&k.current&&(null==(t=k.current)||t.setAttribute("aria-activedescendant",`${n.id}`)),p(e,n),x.current&&(x.current.textContent=`${w("SelectedBlob")}: ${null==(r=null==n?void 0:n.querySelector("span"))?void 0:r.textContent}`)},onTouchMove:e=>{e.preventDefault(),e.stopPropagation();const t=e.currentTarget.parentElement;t.draggable=!0,h(e,t)},onTouchEnd:e=>{var t;const r=e.currentTarget.parentElement;r.draggable=!1,k&&k.current&&(null==(t=k.current)||t.removeAttribute("aria-activedescendant")),m(e,r),x.current&&(x.current.textContent=`${w("SelectedBlobNone")}`)},onWheel:e=>{const t=e.currentTarget.parentElement;v(t)}}),t.jsxs("span",{className:"scr",children:[w("Blob")," ",u.number]})]},d)},c=({layer_:n,className:a,language:o,d:l,items:c,saveDraggables:s,dragUlRef:u,selectedvalue0:d,setFocusedBlob:p,start:h,movement:m,stopMovementCheck:g,stopMoving:v,wheel:b,focused:$,blurred:x,removeBlob:j,mode:k,layerAmount:y,changeBlobLayer:f,changeColor:C})=>{const{t:N}=e.useContext(r),B=0===l?0:1,w={WebkitFilter:`url(#svgGaussian${B}) url(#svgMatrix${B})`,filter:`url(#svgGaussian${B}) url(#svgMatrix${B})`,position:"absolute",top:0,left:0,height:"100%",width:"100%",pointerEvents:"none",minHeight:"420px",minWidth:"100%",margin:"0",padding:"0",overflow:"visible",borderRadius:"0"};return t.jsxs(t.Fragment,{children:[t.jsxs("span",{id:`listbox${l}-layer${n}-label`,className:"scr",children:[N("Layer")," ",n+1]}),t.jsx("ul",{ref:u,role:"listbox",id:`listbox${l}-layer${n}`,className:`drag-container-layer drag-container${l}-layer drag-container${l}-layer${n} ${a}`,"aria-labelledby":`listbox${l}-layer${n}-label`,"aria-activedescendant":"",style:w,children:null==c?void 0:c.map((e,r)=>{if(null!=e)return t.jsx(i,{layer:n,d:l,language:o,item:e,index:r,start:h,movement:m,stopMovementCheck:g,stopMoving:v,wheel:b,focused:$,blurred:x,selectedvalue0:d,setFocusedBlob:p,dragUlRef:u,removeBlob:j,mode:k,changeBlobLayer:f,layerAmount:y,changeColor:C},r)})})]})};export{c as default};
