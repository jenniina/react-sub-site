import{a as s,j as e}from"./chunk-CAff-kf5.js";import{s as t}from"./chunk-CJTGiroM.js";import{L as n,b as r,S as l,j as o}from"../entries/src_pages.8IG4k9ME.js";import"./chunk-BmSI4Fww.js";import"./chunk-CVevwmbB.js";import"./chunk-CNpwfz3n.js";import"../entries/entry-client-routing.Bbnd9vHe.js";import"./chunk-VF2LHfxc.js";/* empty css              *//* empty css              */import"./chunk-D3Yr0q6g.js";import"./chunk-CKSHq_s9.js";import"./chunk-GmA6ITIw.js";import"./chunk-DFDIFHTJ.js";import"./chunk-BvVqAYuT.js";import"./chunk-Xgiuglox.js";import"./chunk-CmA2CWkd.js";import"./chunk-Cgv-mfVR.js";import"./chunk-fiALBYsU.js";import"./chunk-DbeWnEfh.js";import"./chunk-BurK_taE.js";import"./chunk-BVvUx4OK.js";import"./chunk-B3S1iNVp.js";import"./chunk-ei4kQ0Q2.js";import"./chunk-B_VbuTrp.js";import"./chunk-DAUSXQgp.js";import"./chunk-RtNBUybj.js";import"./chunk-CrSVf9D1.js";import"./chunk-Cgo1rCBn.js";import"./chunk-DQcwr13S.js";/* empty css              */import"./chunk-ITMKy72C.js";import"./chunk-e2Lvd1W2.js";import"./chunk-mrHSz1EB.js";/* empty css              */import"./chunk-CFcfonrM.js";import"./chunk-CblELM-r.js";import"./chunk-CEm4-sWZ.js";import"./chunk-CeuMhN-M.js";/* empty css              */const i=({language:i,block:a,fontSize:u,updateColor:c,width:m,hexToRGB:h,hslToRGB:p,rgbToHex:d,rgbToHSL:j})=>{const{t:b}=s.useContext(n),x=r(),g=/^hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/i,$=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,v=/^#([0-9A-F]{3}){1,2}$/i,k=[{value:"hsl",label:"HSL"},{value:"rgb",label:"RGB"},{value:"hex",label:"Hex"}],[f,S]=s.useState(k.find(s=>s.value===a.colorFormat)||k[0]);s.useEffect(()=>{const s=k.find(s=>s.value===a.colorFormat);s&&s.value!==(null==f?void 0:f.value)&&S(s)},[a.colorFormat]);const[N,y]=s.useState(""),[F,C]=s.useState(0),[z,w]=s.useState(0),[H,W]=s.useState(0),[E,L]=s.useState(0),[B,G]=s.useState(0),[R,I]=s.useState(0);s.useEffect(()=>{switch(a.colorFormat){case"hex":{y(a.color);const{r:s,g:e,b:t}=h(a.color);C(s),w(e),W(t);const{h:n,s:r,l:l}=j(s,e,t);L(n),G(r),I(l);break}case"rgb":{const s=a.color.match($);if(s){const e=Number(s[1]),t=Number(s[2]),n=Number(s[3]);C(e),w(t),W(n);const{h:r,s:l,l:o}=j(e,t,n);L(r),G(l),I(o)}break}case"hsl":{const s=a.color.match(g);if(s){const e=Number(s[1]),t=Number(s[2]),n=Number(s[3]);L(e),G(t),I(n);const{r:r,g:l,b:o}=p(e,t,n);C(r),w(l),W(o);const i=d(r,l,o);y(i)}break}}},[a.color,a.colorFormat]);const T=s=>{s.preventDefault(),(s=>{try{let e;if("hex"===s){if(!v.test(N))throw new Error("Invalid Hex format.");{e=N.toUpperCase(),c(a.id,e,"hex");const{r:s,g:t,b:n}=h(e);C(s),w(t),W(n);const{h:r,s:l,l:o}=j(s,t,n);L(r),G(l),I(o),c(a.id,N,"hex")}}else if("rgb"===s){if(!(F>=0&&F<=255&&z>=0&&z<=255&&H>=0&&H<=255))throw new Error("Invalid RGB values.");{e=`rgb(${F}, ${z}, ${H})`,c(a.id,e,"rgb");const s=d(F,z,H);y(s);const{h:t,s:n,l:r}=j(F,z,H);L(t),G(n),I(r),c(a.id,`rgb(${F}, ${z}, ${H})`,"rgb")}}else{if("hsl"!==s)throw new Error("Unsupported color format.");if(!(E>=0&&E<=360&&B>=0&&B<=100&&R>=0&&R<=100))throw new Error("Invalid HSL values.");{e=`hsl(${E}, ${B}%, ${R}%)`,c(a.id,e,"hsl");const{r:s,g:t,b:n}=p(E,B,R);C(s),w(t),W(n);const r=d(s,t,n);y(r),c(a.id,`hsl(${E}, ${B}%, ${R}%)`,"hsl")}}}catch(e){x(o(b("Error")+" "+e.message,!0,4))}})(null==f?void 0:f.value)},D=(s,e)=>{"h"===s&&L(e),"s"===s&&G(e),"l"===s&&I(e);const t="h"===s?e:E,n="s"===s?e:B,r="l"===s?e:R;if(t>=0&&t<=360&&n>=0&&n<=100&&r>=0&&r<=100){const{r:s,g:e,b:l}=p(t,n,r);C(s),w(e),W(l),c(a.id,`hsl(${t}, ${n}%, ${r}%)`,"hsl"),y(d(s,e,l))}},U=(s,e)=>{"r"===s&&C(e),"g"===s&&w(e),"b"===s&&W(e);const t="r"===s?e:F,n="g"===s?e:z,r="b"===s?e:H;if([t,n,r].every(s=>s>=0&&s<=255)){const{h:s,s:e,l:l}=j(t,n,r);L(s),G(e),I(l),c(a.id,`rgb(${t}, ${n}, ${r})`,"rgb"),y(d(t,n,r))}};return e.jsxs(e.Fragment,{children:[e.jsx(l,{hideDelete:!0,id:"color-select",className:t["color-select"],language:i,instructions:b("SelectColorFormat"),hide:!0,options:k,value:f,z:1,onChange:s=>{if(S(s),"hex"===(null==s?void 0:s.value)){const s=d(F,z,H);y(s),c(a.id,s,"hex")}else"rgb"===(null==s?void 0:s.value)?(C(F),w(z),W(H),c(a.id,`rgb(${F}, ${z}, ${H})`,"rgb")):"hsl"===(null==s?void 0:s.value)&&(L(E),G(B),I(R),c(a.id,`hsl(${E}, ${B}%, ${R}%)`,"hsl"))}}),"hex"===(null==f?void 0:f.value)&&e.jsxs("form",{className:t.form,onSubmit:T,children:[e.jsx("div",{className:`${t.inputs} ${t["hex-input"]}`,children:e.jsxs("label",{children:[e.jsx("span",{children:"Hex: "}),e.jsx("input",{name:`hex-input-${a.id}`,type:"text",value:N,onChange:s=>y(s.target.value),className:t["color-input"],style:{maxWidth:`${m}`,fontSize:u},placeholder:"#FFFFFF"})]})}),e.jsx("button",{style:{minWidth:"calc(100% - 4px)",maxWidth:"calc(100% - 4px)",fontSize:u},type:"submit",className:`${t["color-format-submit"]} small gray`,children:b("Submit")})]}),"rgb"===(null==f?void 0:f.value)&&e.jsxs("form",{className:`${t.inputs} ${t["rgb-inputs"]}`,onSubmit:T,children:[e.jsxs("label",{children:[e.jsx("span",{children:"R: "}),e.jsx("input",{name:`r-input-${a.id}`,type:"number",value:F,onChange:s=>U("r",Number(s.target.value)),min:0,max:255,className:t["color-input"],style:{maxWidth:`${m}`,fontSize:u}})]}),e.jsxs("label",{children:[e.jsx("span",{children:"G: "}),e.jsx("input",{name:`g-input-${a.id}`,type:"number",value:z,onChange:s=>U("g",Number(s.target.value)),min:0,max:255,className:t["color-input"],style:{maxWidth:`${m}`,fontSize:u}})]}),e.jsxs("label",{children:[e.jsx("span",{children:"B: "}),e.jsx("input",{name:`b-input-${a.id}`,type:"number",value:H,onChange:s=>U("b",Number(s.target.value)),min:0,max:255,className:t["color-input"],style:{maxWidth:`${m}`,fontSize:u}})]})]}),"hsl"===(null==f?void 0:f.value)&&e.jsxs("form",{className:`${t.inputs} ${t["hsl-inputs"]}`,onSubmit:T,children:[e.jsxs("label",{children:[e.jsx("span",{children:"H: "}),e.jsx("input",{name:`h-input-${a.id}`,type:"number",value:E,onChange:s=>D("h",Number(s.target.value)),min:0,max:360,className:t["color-input"],style:{maxWidth:`${m}`,fontSize:u}})]}),e.jsxs("label",{children:[e.jsx("span",{children:"S: "}),e.jsx("input",{name:`s-input-${a.id}`,type:"number",value:B,onChange:s=>D("s",Number(s.target.value)),min:0,max:100,className:t["color-input"],style:{maxWidth:`${m}`,fontSize:u}})]}),e.jsxs("label",{children:[e.jsx("span",{children:"L: "}),e.jsx("input",{name:`l-input-${a.id}`,type:"number",value:R,onChange:s=>D("l",Number(s.target.value)),min:0,max:100,className:t["color-input"],style:{maxWidth:`${m}`,fontSize:u}})]})]})]})};export{i as default};
