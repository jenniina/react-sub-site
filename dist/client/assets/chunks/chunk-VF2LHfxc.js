const e=new Proxy({},{get:(e,i)=>e=>"code"===i?`\`${e}\``:"string"===i?`'${e}'`:e}),i=[{is:e=>void 0===e,match:e=>"!undefined"===e,serialize:()=>"!undefined",deserialize:()=>{}},{is:e=>e===1/0,match:e=>"!Infinity"===e,serialize:()=>"!Infinity",deserialize:()=>1/0},{is:e=>e===-1/0,match:e=>"!-Infinity"===e,serialize:()=>"!-Infinity",deserialize:()=>-1/0},{is:e=>"number"==typeof e&&isNaN(e),match:e=>"!NaN"===e,serialize:()=>"!NaN",deserialize:()=>NaN},{is:e=>e instanceof Date,match:e=>e.startsWith("!Date:"),serialize:e=>"!Date:"+e.toISOString(),deserialize:e=>new Date(e.slice(6))},{is:e=>"bigint"==typeof e,match:e=>e.startsWith("!BigInt:"),serialize:e=>"!BigInt:"+e.toString(),deserialize:e=>{if("undefined"==typeof BigInt)throw new Error("Your JavaScript environement does not support BigInt. Consider adding a polyfill.");return BigInt(e.slice(8))}},{is:e=>e instanceof RegExp,match:e=>e.startsWith("!RegExp:"),serialize:e=>"!RegExp:"+e.toString(),deserialize:e=>{const i=(e=e.slice(8)).match(/\/(.*)\/(.*)?/),t=i[1],r=i[2];return new RegExp(t,r)}},{is:e=>e instanceof Map,match:e=>e.startsWith("!Map:"),serialize:(e,i)=>"!Map:"+i(Array.from(e.entries())),deserialize:(e,i)=>new Map(i(e.slice(5)))},{is:e=>e instanceof Set,match:e=>e.startsWith("!Set:"),serialize:(e,i)=>"!Set:"+i(Array.from(e.values())),deserialize:(e,i)=>new Set(i(e.slice(5)))},{is:e=>"string"==typeof e&&e.startsWith("!"),match:e=>e.startsWith("!"),serialize:e=>"!"+e,deserialize:e=>e.slice(1)}];function t(e,i={}){return r(JSON.parse(e),i)}function r(e,s={}){return"string"==typeof e?function(e,r){var s;const a=e=>t(e,r);{const i=null==(s=r.reviver)?void 0:s.call(r,void 0,e,a);if(i){if("string"!=typeof i.replacement)return i.replacement;if(e=i.replacement,i.resolved)return e}}for(const{match:t,deserialize:n}of i)if(t(e))return n(e,a);return e}(e,s):("object"==typeof e&&null!==e&&Object.entries(e).forEach(([i,t])=>{e[i]=r(t,s)}),e)}export{t as a,r as b,e as p};
