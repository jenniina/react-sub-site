const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/chunk-OI9ZLLgZ.js","assets/chunks/chunk-CAff-kf5.js","assets/chunks/chunk-BmSI4Fww.js","assets/entries/src_pages.8IG4k9ME.js","assets/chunks/chunk-CVevwmbB.js","assets/chunks/chunk-CNpwfz3n.js","assets/entries/entry-client-routing.Bbnd9vHe.js","assets/chunks/chunk-VF2LHfxc.js","assets/chunks/chunk-D3Yr0q6g.js","assets/chunks/chunk-CKSHq_s9.js","assets/static/src_components_Nav_nav.DcneIkOu.css","assets/chunks/chunk-GmA6ITIw.js","assets/chunks/chunk-DFDIFHTJ.js","assets/chunks/chunk-BvVqAYuT.js","assets/chunks/chunk-Xgiuglox.js","assets/chunks/chunk-CmA2CWkd.js","assets/chunks/chunk-Cgv-mfVR.js","assets/chunks/chunk-fiALBYsU.js","assets/chunks/chunk-DbeWnEfh.js","assets/chunks/chunk-BurK_taE.js","assets/chunks/chunk-BVvUx4OK.js","assets/chunks/chunk-B3S1iNVp.js","assets/chunks/chunk-ei4kQ0Q2.js","assets/chunks/chunk-B_VbuTrp.js","assets/static/src_components_Select_select.CimA6Gt4.css","assets/chunks/chunk-DAUSXQgp.js","assets/static/src_components_Modal_modal.CbnZMdwa.css","assets/chunks/chunk-RtNBUybj.js","assets/static/src_pages_css_portfolio.CobdKDwb.css","assets/chunks/chunk-CrSVf9D1.js","assets/static/src_pages_css_about.WLJNejns.css","assets/chunks/chunk-Cgo1rCBn.js","assets/static/src_pages_css_disclaimer.tn0RQdqM.css","assets/chunks/chunk-DQcwr13S.js","assets/static/src_components_Store_store.739lCcfL.css","assets/chunks/chunk-ITMKy72C.js","assets/static/src_components_DragAndDrop_dragAndDrop.nzYxpsON.css","assets/chunks/chunk-e2Lvd1W2.js","assets/static/src_components_Confirm_css_confirm.PkGjZh4r.css","assets/chunks/chunk-mrHSz1EB.js","assets/static/src_components_Images_images.D__9EApC.css","assets/chunks/chunk-CFcfonrM.js","assets/static/src_components_Todo_css_todo.DdPdOL7s.css","assets/chunks/chunk-CblELM-r.js","assets/static/src_pages_css_useredit.C8iHZ--I.css","assets/chunks/chunk-CEm4-sWZ.js","assets/static/src_pages_css_welcome.D34tVg6Q.css","assets/chunks/chunk-CeuMhN-M.js","assets/static/src_components_Hero_hero.BHFXoff8.css","assets/static/src_css_App-73433860.CQH0klWf.css","assets/static/src_css_form-f0fd4370.ruWewV9h.css","assets/static/src_components_Blob_css_blob-3343a0bc.Dd8ObI_E.css","assets/static/src_pages_pages-portfolio_css_quiz-539960c0.DD9CL5Hk.css","assets/static/src_css_index-36aef647.D4A5laED.css","assets/chunks/chunk-NrGmxrQc.js","assets/static/src_components_Quiz_css_quiz.Bmyx5hYj.css"])))=>i.map(i=>d[i]);
import{_ as e}from"../entries/entry-client-routing.Bbnd9vHe.js";import{a as s,j as r}from"./chunk-CAff-kf5.js";import{a as i}from"./chunk-Xgiuglox.js";import{L as t,b as c,i as o,g as n,j as u,c as h,k as l}from"../entries/src_pages.8IG4k9ME.js";import{s as a}from"./chunk-NrGmxrQc.js";import{c as m}from"./chunk-DFDIFHTJ.js";import"./chunk-VF2LHfxc.js";import"./chunk-BmSI4Fww.js";import"./chunk-CVevwmbB.js";import"./chunk-CNpwfz3n.js";import"./chunk-CmA2CWkd.js";import"./chunk-Cgv-mfVR.js";import"./chunk-fiALBYsU.js";/* empty css              *//* empty css              */import"./chunk-D3Yr0q6g.js";import"./chunk-CKSHq_s9.js";import"./chunk-GmA6ITIw.js";import"./chunk-BvVqAYuT.js";import"./chunk-DbeWnEfh.js";import"./chunk-BurK_taE.js";import"./chunk-BVvUx4OK.js";import"./chunk-B3S1iNVp.js";import"./chunk-ei4kQ0Q2.js";import"./chunk-B_VbuTrp.js";import"./chunk-DAUSXQgp.js";import"./chunk-RtNBUybj.js";import"./chunk-CrSVf9D1.js";import"./chunk-Cgo1rCBn.js";import"./chunk-DQcwr13S.js";/* empty css              */import"./chunk-ITMKy72C.js";import"./chunk-e2Lvd1W2.js";import"./chunk-mrHSz1EB.js";/* empty css              */import"./chunk-CFcfonrM.js";import"./chunk-CblELM-r.js";import"./chunk-CEm4-sWZ.js";import"./chunk-CeuMhN-M.js";/* empty css              */const d=s.lazy(()=>e(()=>import("./chunk-OI9ZLLgZ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55]))),j=({language:e})=>{const{t:j}=s.useContext(t),{points:p,highscores:k,finalSeconds:f}=i(e=>e.questions),{mode:g}=i(e=>e.difficulty),x=+(100*p/300).toFixed(1),v=m(),[S,y]=s.useState(!1),[N,E]=s.useState(!1),[_,b]=s.useState(""),[q,z]=s.useState(""),[L,w]=s.useState(""),[F,A]=s.useState(""),C=f%60,H=Math.floor(f/60),O=c(),P=i(e=>{var s;return null==(s=e.auth)?void 0:s.user});let M;switch(s.useEffect(()=>{O(o())},[]),s.useEffect(()=>{0===f&&v("/portfolio/quiz")},[]),s.useEffect(()=>{(!P&&0!==p&&0!==f||void 0===f)&&localStorage.setItem("quiz-highscores",JSON.stringify(k)),((null==P?void 0:P._id)&&0!==p&&0!==f||(null==P?void 0:P._id)&&void 0!==f)&&O(n(P._id)).then(e=>{if(null===e){const e={highscores:{...k,[g]:{score:p,time:f}},user:P._id};O(u(j("NewHighscore"),!1,3)),O(h(e)).then(e=>{O(l(P._id)).then(e=>{})})}else if(null!==e&&e.highscores[g].score<=p){const s={highscores:{...e.highscores,[g]:{score:p,time:e.highscores[g].time}},user:P._id};e.highscores[g].score<p?(O(u(j("NewHighscore"),!1,3)),s.highscores[g].time=f):e.highscores[g].score===p&&e.highscores[g].time>f&&(O(u(j("FasterThanBefore"),!1,3)),s.highscores[g].time=f),O(h(s)).then(e=>{})}})},[]),!0){case 100===x:M=j("Perfect");break;case x>=80&&x<100:M=j("Excellent");break;case x>=50&&x<80:M=j("GoodJob");break;case x>=0&&x<50:M=j("BadLuck");break;default:M=""}s.useEffect(()=>{const e=null==document?void 0:document.querySelector(".login-wrap .open"),s=null==document?void 0:document.querySelector(".login-wrap .close"),r=null==document?void 0:document.querySelector(".register-wrap .open"),i=null==document?void 0:document.querySelector(".register-wrap .close");null==e||e.addEventListener("click",()=>{y(!0)}),null==s||s.addEventListener("click",()=>{y(!1)}),null==r||r.addEventListener("click",()=>{E(!0)}),null==i||i.addEventListener("click",()=>{E(!1)})},[]);return r.jsx(r.Fragment,{children:0!==f&&r.jsx(r.Fragment,{children:r.jsx("section",{className:`card ${a.top}`,children:r.jsxs("div",{children:[r.jsxs("div",{className:`${a.quiz}`,children:[r.jsx("h1",{className:a.h1,children:r.jsxs("a",{href:"#",onClick:()=>{v("/portfolio/quiz")},children:["« ",j("QuizApp")]})}),r.jsx("h2",{children:M}),r.jsxs("p",{className:"result",children:[j("YouScored")," ",r.jsx("strong",{children:p})," ",j("OutOf300Points")," (",x,"%)"]}),r.jsxs("p",{children:[j("Difficulty"),":"," ",(()=>{switch(g){case"easy":return j("Easy");case"medium":return j("Medium");case"hard":return j("Hard");default:return g}})()]}),r.jsx("p",{children:0===f?r.jsxs(r.Fragment,{children:[j("Speed"),": ",j("NA")]}):r.jsxs(r.Fragment,{children:[j("Speed"),": ",H<10&&"0",H,":",C<10&&"0",C]})}),r.jsxs("p",{className:"highscore",children:["(",j("Highscore"),": ",k[g].score," ",j("Points"),")"]}),r.jsxs("div",{className:`${a.reset}`,children:[r.jsx("button",{className:"btn",onClick:()=>v("/portfolio/quiz"),children:j("BackToMenu")}),r.jsx("button",{className:"btn",onClick:()=>v(`/portfolio/quiz/difficulty/${g}`),children:j("TryAgain")})]})]}),r.jsx(s.Suspense,{fallback:r.jsxs("div",{className:"flex center margin0auto textcenter",children:[j("Loading"),"..."]}),children:r.jsx(d,{language:e,user:P,highscoresLocal:k,text:"quizfinish"})})]})})})})};export{j as default};
