import{a as s,j as t}from"./chunk-CAff-kf5.js";import{s as e}from"./chunk-DQcwr13S.js";import{c as r}from"./chunk-BsEC4zEh.js";import{u as i,a as n,L as a,b as c,o,j as d}from"../entries/src_pages.8IG4k9ME.js";import"./chunk-BmSI4Fww.js";import"./chunk-ei4kQ0Q2.js";import"./chunk-CVevwmbB.js";import"./chunk-CNpwfz3n.js";import"../entries/entry-client-routing.Bbnd9vHe.js";import"./chunk-VF2LHfxc.js";/* empty css              *//* empty css              */import"./chunk-D3Yr0q6g.js";import"./chunk-CKSHq_s9.js";import"./chunk-GmA6ITIw.js";import"./chunk-DFDIFHTJ.js";import"./chunk-BvVqAYuT.js";import"./chunk-Xgiuglox.js";import"./chunk-CmA2CWkd.js";import"./chunk-Cgv-mfVR.js";import"./chunk-fiALBYsU.js";import"./chunk-DbeWnEfh.js";import"./chunk-BurK_taE.js";import"./chunk-BVvUx4OK.js";import"./chunk-B3S1iNVp.js";import"./chunk-B_VbuTrp.js";import"./chunk-DAUSXQgp.js";import"./chunk-RtNBUybj.js";import"./chunk-CrSVf9D1.js";import"./chunk-Cgo1rCBn.js";/* empty css              */import"./chunk-ITMKy72C.js";import"./chunk-e2Lvd1W2.js";import"./chunk-mrHSz1EB.js";/* empty css              */import"./chunk-CFcfonrM.js";import"./chunk-CblELM-r.js";import"./chunk-CEm4-sWZ.js";import"./chunk-CeuMhN-M.js";/* empty css              */const l=({language:l,paidStatus:u,itemStatus:h,splitToLines:j,info:p})=>{var m,x,k,g;const f=i(),v=n(),{t:b}=s.useContext(a),y=c(),S=o(),[D,L]=s.useState(null),[A,I]=s.useState(""),[N,q]=s.useState(!1),w=async(s=A)=>{var t,e;q(!0);try{const t=await r.getOrderByOrderID(l,s),e={...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)};L(e),q(!1)}catch(i){(null==(e=null==(t=i.response)?void 0:t.data)?void 0:e.message)?y(d(i.response.data.message,!0,8)):y(d(i.message,!0,8)),q(!1)}};return s.useEffect(()=>{if(!f||!v)return;const s=new URLSearchParams(v.location.search).get("orderID");s&&(I(s),w(s))},[f]),t.jsxs("div",{className:`${e["order-wrap"]} ${S?e.light:""}`,children:[t.jsxs("form",{onSubmit:s=>{s.preventDefault(),w()},children:[t.jsx("div",{className:"input-wrap",children:t.jsxs("label",{children:[t.jsx("input",{type:"text",required:!0,name:"orderID",value:A,onChange:s=>I(s.target.value)}),t.jsx("span",{className:"label",children:b("OrderID")})]})}),t.jsx("button",{type:"submit",disabled:N,children:b("Submit")})]}),D&&t.jsxs("div",{children:[t.jsx("h2",{children:D.orderID}),t.jsxs("div",{className:e["order-items"],children:[null==(m=D.items)?void 0:m.map(s=>t.jsxs("div",{className:e["order-item"],children:[t.jsxs("h3",{children:[s.name,"misc-quote"===s.id?"":` x ${s.quantity}`]}),t.jsx("p",{children:s.description}),t.jsxs("p",{children:[t.jsxs("strong",{children:[b("Price"),":"]})," ","misc-quote"===s.id?s.price+" €":s.price+" x "+s.quantity+" = "+s.quantity*s.price+" €"]}),t.jsxs("p",{children:[t.jsxs("strong",{children:[b("Info"),":"]})," ",t.jsx("br",{})," ",j(s.details)]}),t.jsxs("p",{children:[t.jsxs("strong",{children:[b("Status"),":"]})," ",h(s.status)," "]}),"misc-quote"===s.id?null:t.jsxs("p",{children:[t.jsxs("strong",{children:[b("PaymentState"),":"]})," ",u[s.paid]]},s.id)]},s.id))," "]}),t.jsxs("div",{className:e["info-wrap"],children:[t.jsxs("table",{className:`${e["info-table"]}`,children:[t.jsx("caption",{children:b("Info")}),t.jsx("tbody",{children:Object.keys(D.info).map(s=>{var e;return"_id"===s?null:null!==D.info[s]&&""!==(null==(e=D.info[s])?void 0:e.trim())&&t.jsxs("tr",{children:[t.jsxs("th",{children:[p(s),":"]}),t.jsx("td",{children:D.info[s]})]},s)})})]}),t.jsx("p",{children:D.extra}),t.jsxs("p",{children:[b("Total"),": ",t.jsxs("big",{children:[D.total," € "]}),t.jsx("br",{})]}),t.jsxs("p",{children:[b("Status"),": ",h(D.status)]}),t.jsxs("p",{children:[b("PaymentState"),":"," ",u[D.items.every(s=>"full"===s.paid)?"full":D.items.every(s=>"none"===s.paid)?"none":"partial"]]}),t.jsxs("p",{children:[t.jsxs("strong",{children:[b("Ordered"),": "]}),null==(x=D.createdAt)?void 0:x.toLocaleDateString()," ",null==(k=D.createdAt)?void 0:k.toLocaleTimeString()," ",t.jsx("br",{}),t.jsxs("strong",{children:[b("LastUpdated"),": "]}),D.updatedAt.toLocaleDateString()," ",null==(g=D.updatedAt)?void 0:g.toLocaleTimeString()]})]})]})]})};export{l as default};
