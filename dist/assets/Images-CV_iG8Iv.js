const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/WordCloud-CO_u7gV7.js","assets/react-kX_YxI4E.js","assets/dom-to-image-more-CfDXlNbO.js","assets/index-EIBSd4Hj.js","assets/react-dom-B5MLDbn_.js","assets/scheduler-CzFDRTuY.js","assets/react-redux-BEmJlIGA.js","assets/hoist-non-react-statics-DQogQWOa.js","assets/react-is-DUDD-a5e.js","assets/use-sync-external-store-BPp6CH6k.js","assets/@reduxjs-DhFEcpJw.js","assets/immer-C0GRqQ_d.js","assets/redux-CE3tqztX.js","assets/@babel-DF5_wy6Y.js","assets/redux-thunk-CY0Q9z1Q.js","assets/axios-CCb-kr4I.js","assets/react-icons-D7bD3W54.js","assets/react-router-dom-StiqOUIT.js","assets/react-router-DUuhLvki.js","assets/@remix-run-DTnHqtaE.js","assets/index-Dgb_yWai.css","assets/WordCloud-XAYHoXfe.css","assets/Image-wcD0uxJt.js","assets/poems-BTHfb147.js","assets/Video-CoKsrHMd.js"])))=>i.map(i=>d[i]);
import{gu as C,_ as q,u as We,f_ as qe,gv as Ge,gw as Ue,gx as Ke,gy as Qe,gz as y,gA as S,q as Xe,o as $,gB as g,e$ as V,gC as a,gD as Ye,ac as le,gE as Je,gF as Ze,gG as F,gH as H,gI as es,e as P,gJ as ss,gK as ts,gL as W,gM as as,bA as u,gN as rs,gO as is,gP as os,gQ as cs,V as ns,gR as ls,gS as ds,gT as hs,gU as ps,gV as ms,gW as us,d as vs,gX as xs,gY as G,gZ as U,g_ as K,g$ as de,h0 as he,bM as fs,h1 as js}from"./index-EIBSd4Hj.js";import{r,j as t}from"./react-kX_YxI4E.js";import{a as bs}from"./axios-CCb-kr4I.js";import{aK as ys,aL as Ss,aM as _s,aN as Es}from"./react-icons-D7bD3W54.js";const Ns="http://localhost:4000",ws=`${Ns}/api/images`,Ms=async(e,i)=>{var v,n;try{const o=new URLSearchParams;return o.append("q",i.q),i.type?o.append("image_type",i.type):o.append("image_type","all"),i.video_type&&o.append("video_type",i.video_type),i.orientation?o.append("orientation",i.orientation):o.append("orientation",C.All),i.category&&o.append("category",i.category),i.min_width!==void 0&&i.min_width>=0?o.append("min_width",i.min_width.toString()):o.append("min_width","0"),i.min_height!==void 0&&i.min_height>=0?o.append("min_height",i.min_height.toString()):o.append("min_height","0"),i.colors&&i.colors.length>0&&o.append("colors",i.colors.join(",")),o.append("editors_choice",i.editors_choice?"true":"false"),o.append("safesearch",i.safesearch?"true":"false"),i.order?o.append("order",i.order):o.append("order","popular"),o.append("per_page",i.per_page&&i.per_page>=3&&i.per_page<=200?i.per_page.toString():"200"),(await bs.get(`${ws}/${e}?${o.toString()}`)).data}catch(o){return console.error("Error fetching images:",o),{success:!1,message:((n=(v=o.response)==null?void 0:v.data)==null?void 0:n.message)||`Error fetching images. ${o.message}`,totalHits:0,hits:[]}}},Cs={searchMedia:Ms},Ts=()=>{const[e,i]=r.useState({visible:!1,x:0,y:0}),v=r.useCallback((o,_)=>{i({visible:!0,x:o,y:_})},[]),n=r.useCallback(()=>{i(o=>({...o,visible:!1}))},[]);return{tooltip:e,handleMouseMove:v,handleMouseLeave:n}};var pe=(e=>(e.en="Poem",e.es="Poema",e.fr="Poème",e.de="Gedicht",e.pt="Poema",e.cs="Báseň",e.fi="Runo",e))(pe||{});const $s=r.lazy(()=>q(()=>import("./WordCloud-CO_u7gV7.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]))),gs=G.map(e=>({text:e,weight:e==="design"?50:U.includes(e)?Math.floor(Math.random()*10)+30:K.includes(e)?Math.floor(Math.random()*5)+15:Math.floor(Math.random()*10)+15})),Ps=G.map(e=>({text:e,weight:e==="design"?33:U.includes(e)?Math.floor(Math.random()*10)+16:K.includes(e)?Math.floor(Math.random()*5)+14:Math.floor(Math.random()*6)+15})),Os=G.map(e=>({text:e,weight:e==="design"?28:U.includes(e)?Math.floor(Math.random()*10)+13:K.includes(e)?Math.floor(Math.random()*5)+14:Math.floor(Math.random()*5)+15})),ks=r.lazy(()=>q(()=>import("./Image-wcD0uxJt.js"),__vite__mapDeps([22,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,23]))),Ls=r.lazy(()=>q(()=>import("./Video-CoKsrHMd.js"),__vite__mapDeps([24,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,23]))),As=({language:e})=>{const i=We(),{show:v}=qe(),[n,o]=r.useState([]),[_,Q]=r.useState(!1),[X,T]=r.useState(""),[x,Y]=r.useState("imagination"),[f,me]=r.useState("photo"),[E,ue]=r.useState("all"),[O,ve]=r.useState(C.All),[k,xe]=r.useState("poem"),fe=["all","photo","illustration","vector","video"],je=["all","film","animation"],be=[C.All,C.Horizontal,C.Vertical],J=[{label:pe[e],value:"poem"},{label:Ge[e],value:"quote"}],ye=Object.values(Ue),Se=Object.values(Ke),_e=Object.values(Qe),Z=y(je,e),ee=y(_e,e),se=y(fe,e),te=y(be.map(s=>s),e),L=y(ye,e);L.unshift({label:S[e],value:""});const Ee=y(Se,e),[A,Ne]=r.useState(void 0),[N,we]=r.useState([]),[b,Me]=r.useState([]),[R,Ce]=r.useState(!1),[D,Te]=r.useState(!0),[I,$e]=r.useState("popular"),[w,Rs]=r.useState(100),[d,j]=r.useState(1),[m,ge]=r.useState(20),[h,ae]=r.useState(1),[M,Pe]=r.useState(1),[Ds,Oe]=r.useState(0),[ke,Le]=r.useState(!1),re=r.useRef(!0),[l,z]=r.useState(1),ie=[{label:"10",value:10},{label:"20",value:20},{label:"50",value:50},{label:"100",value:100}],{windowWidth:p}=Xe(),{tooltip:B,handleMouseMove:Ae,handleMouseLeave:Re}=Ts(),De=s=>{const c=s.currentTarget.getBoundingClientRect(),Fe=s.clientX-c.left-50,He=s.clientY-c.top+30;Ae(Fe,He)},oe=async s=>{Q(!0),T("");const c=await Cs.searchMedia(e,s);c.success?(o(c.hits),Oe(c.totalHits),ae(Math.ceil(c.hits.length<m?1:c.hits.length/m)),Pe(Math.ceil(c.totalHits<w?1:c.totalHits/w)),V("image-container")):(i($(c.message||"Error fetching images.",!0,6)),T(c.message||"Error fetching images.")),Q(!1)};r.useEffect(()=>{const s=N==null?void 0:N.map(c=>c.value);Me(s)},[N]);const Ie=s=>{if(s.preventDefault(),x.trim()===""){i($(g[e],!0,6)),T(g[e]);return}j(1),Le(!0);const c={q:x,type:f,video_type:E!=="all"?E:void 0,orientation:O,category:A,colors:b&&b.length>0?b:void 0,editors_choice:R,safesearch:D,order:I,per_page:w,page:l};oe(c)};r.useEffect(()=>{if(re.current){re.current=!1;return}if(!ke)return;if(x.trim()===""){i($(g[e],!0,6)),T(g[e]);return}j(1),V("image-container");const s={q:x,type:f,video_type:E!=="all"?E:void 0,orientation:O,category:A,colors:b&&b.length>0?b:void 0,editors_choice:R,safesearch:D,order:I,per_page:w,page:l};oe(s)},[l]),r.useEffect(()=>{ae(Math.ceil(n.length<m?1:n.length/m))},[n,m]);const ze=n.slice((d-1)*m,d*m),ce=()=>n.length===0?t.jsx(t.Fragment,{}):h===1?t.jsx(t.Fragment,{}):t.jsxs("div",{className:a["pagination-wrap"],children:[t.jsxs("button",{className:"tooltip-wrap",disabled:d===1,onClick:()=>j(1),children:[t.jsx(ys,{}),t.jsx("span",{className:"scr",children:de[e]}),t.jsx("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:de[e]})]}),t.jsxs("button",{className:"tooltip-wrap",onClick:()=>j(s=>Math.max(s-1,1)),disabled:d===1,children:[t.jsx(Ss,{}),t.jsx("span",{className:"scr",children:F[e]}),t.jsx("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:F[e]})]}),t.jsxs("span",{children:[le[e]," ",d," / ",h]}),t.jsxs("button",{className:"tooltip-wrap",onClick:()=>j(s=>Math.min(s+1,h)),disabled:d===h,children:[t.jsx(_s,{}),t.jsx("span",{className:"scr",children:H[e]}),t.jsx("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:H[e]})]}),t.jsxs("button",{className:"tooltip-wrap",disabled:d===h,onClick:()=>j(h),children:[t.jsx(Es,{}),t.jsxs("span",{className:"scr",children:[he[e]," (",h,")"]}),t.jsxs("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:[he[e]," (",h,")"]})]})]}),Be=Array.from({length:M},(s,c)=>c+1).map((s,c)=>t.jsx(r.Fragment,{children:t.jsxs("button",{onClick:()=>{j(1),z(s)},className:`tooltip-wrap ${a["fetch-page-button"]} ${s===l?a.active:""}`,"data-current":s===l?Ye[e]:"",disabled:c===l-1||s>M,children:[s,t.jsxs("span",{className:"tooltip above narrow2",children:[le[e]," ",s]})]})},s)),ne=t.jsxs(t.Fragment,{children:[t.jsxs("p",{className:a["batch-paragraph"],children:[Je[e]," ",w," ",Ze[e],":"]}),t.jsxs("div",{id:`${a["fetch-btn-wrap"]}`,className:a["fetch-page-buttons-wrap"],children:[l!==1&&t.jsxs("button",{className:`reset ${a["fetch-more-btn"]}`,onClick:()=>z(s=>s-1),children:["« ",F[e]]}),Be,l!==M&&t.jsxs("button",{className:`reset ${a["fetch-more-btn"]}`,onClick:()=>z(s=>s+1),children:[H[e]," »"]}),d===h&&l>=M&&t.jsx("p",{className:`${a["end-message"]}`,children:es[e]})]})]}),Ve=s=>{Y(s),V("search-container","start"),i($(`${fs[e]}: ${js[e]}: ${s}`,!1,4))};return t.jsxs("div",{id:"search-container",className:a["search-container"],children:[t.jsx("section",{className:`card ${a["settings-section"]}`,children:t.jsxs("div",{children:[t.jsxs("div",{className:`tooltip-wrap ${a["wordcloud-wrap"]}`,onMouseMove:De,onMouseLeave:Re,children:[t.jsx(r.Suspense,{fallback:t.jsxs("div",{className:"flex center margin0auto textcenter",children:[P[e],"..."]}),children:t.jsx($s,{language:e,title:ss[e],onClick:Ve,words:p>700?gs:p>500?Ps:Os,width:p<300?p-20:p<600?p-80:p-p/100*30,height:p<300?900:p<500?800:500})}),B.visible&&t.jsx("span",{className:"tooltip narrow",style:{top:B.y,left:B.x,right:"unset"},children:ts[e]})]}),t.jsxs("form",{onSubmit:Ie,children:[t.jsxs("div",{className:a["search-wrap"],children:[t.jsx("h2",{children:W[e]}),t.jsxs("div",{className:a.column,children:[t.jsx("div",{className:`input-wrap ${a["input-wrap"]}`,children:t.jsxs("label",{children:[t.jsx("input",{name:"search",type:"text",maxLength:100,value:x,onChange:s=>Y(s.target.value),placeholder:as[e]}),t.jsx("span",{children:W[e]})]})}),f!=="video"&&t.jsx(u,{z:8,id:"colors",className:`${a.select} ${a.colors}`,multiple:!0,instructions:rs[e],value:N,onChange:s=>we(s),options:Ee,language:e})]}),t.jsxs("div",{className:a["controls-wrap"],children:[t.jsx(u,{z:7,id:"result-type",className:`${a.select} ${a["result-type"]}`,hideDelete:!0,instructions:is[e],value:se.find(s=>s.value===f)||{label:S[e],value:"all"},onChange:s=>me(s==null?void 0:s.value),options:se,language:e}),f==="video"?t.jsx(u,{z:6,id:"result-type",className:`${a.select} ${a["result-type"]}`,hideDelete:!0,instructions:os[e],value:Z.find(s=>s.value===E)||{label:S[e],value:"all"},onChange:s=>ue(s==null?void 0:s.value),options:Z,language:e}):t.jsx(u,{z:5,id:"orientation",className:`${a.select} ${a.orientation}`,instructions:cs[e],hideDelete:!0,value:te.find(s=>s.value===O)||{label:S[e],value:"all"},onChange:s=>ve(s==null?void 0:s.value),options:te,language:e}),t.jsx(u,{z:4,id:"category",className:`${a.select} ${a.category}`,hideDelete:!0,instructions:ns[e],value:L.find(s=>s.value===A)||{label:S[e],value:""},onChange:s=>Ne(s==null?void 0:s.value),options:L,language:e}),t.jsx(u,{z:3,id:"order-by",className:`${a.select} ${a["order-by"]}`,hideDelete:!0,instructions:ls[e],value:ee.find(s=>s.value===I)||{label:"Popular",value:"popular"},onChange:s=>$e(s==null?void 0:s.value),options:ee,language:e})]})]}),t.jsxs("div",{className:`${a["checkbox-wrap"]}`,children:[t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:R,onChange:s=>Ce(s.target.checked)}),ds[e]," (Pixabay)"]}),t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:D,onChange:s=>Te(s.target.checked)}),hs[e]]})]}),t.jsxs("div",{className:a["submit-wrap"],children:[t.jsx(u,{z:2,id:"text-type",className:`${a.select} ${a["text-type"]}`,hideDelete:!0,instructions:ps[e],value:J.find(s=>s.value===k)||{label:S[e],value:""},onChange:s=>xe(s==null?void 0:s.value),options:J,language:e}),t.jsx(u,{z:1,id:"images-per-page",className:`${a.select} ${a["images-per-page"]}`,hideDelete:!0,instructions:ms[e],value:ie.find(s=>s.value===m)||{label:"20",value:20},onChange:s=>{ge(Number(s==null?void 0:s.value))},options:ie,language:e}),t.jsx("button",{type:"submit",disabled:_,children:f==="video"?us[e]:W[e]})]}),f==="vector"&&t.jsxs("p",{className:`textcenter flex center   ${a.note}`,children:[vs[e]," ",xs[e]]})]})]})}),n.length>0&&t.jsx("section",{className:`card ${a["image-section"]}`,children:t.jsxs("div",{children:[_&&t.jsxs("p",{className:"textcenter flex center margin0auto textcenter",children:[P[e],"..."]}),X&&t.jsx("p",{className:a.error,children:X}),ce(),t.jsx("div",{id:"image-container",className:a["image-container"],children:ze.map(s=>t.jsx(r.Fragment,{children:"videos"in s?t.jsx(r.Suspense,{fallback:t.jsxs("div",{className:"flex center margin0auto textcenter",style:{width:"100%",height:"auto",aspectRatio:s.videos.small.width/s.videos.small.height},children:[P[e],"..."]},`key-${s.id}`),children:t.jsx(Ls,{video:s,language:e,show:v,searchTerm:x,textType:k},s.id)}):t.jsx(r.Suspense,{fallback:t.jsxs("div",{className:"flex center margin0auto textcenter",style:{width:"100%",height:`${s.previewHeight}px`,aspectRatio:s.previewWidth/s.previewHeight},children:[P[e],"..."]},`key-${s.id}`),children:t.jsx(ks,{image:s,language:e,show:v,searchTerm:x,textType:k},s.id)})},s.id))}),ce(),d===1&&l>1&&ne,d===h&&l<=M&&ne]})})]})},Hs=Object.freeze(Object.defineProperty({__proto__:null,default:As},Symbol.toStringTag,{value:"Module"}));export{Hs as I,Ts as u};
