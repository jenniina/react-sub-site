const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Image-DNPgRtVs.js","assets/react-A9DAvxly.js","assets/hoist-non-react-statics-D5aJipOz.js","assets/index-BU3I52F2.js","assets/react-dom-CxfJ6lHP.js","assets/scheduler-CzFDRTuY.js","assets/react-redux-C4cSaZU-.js","assets/react-is-DUDD-a5e.js","assets/use-sync-external-store-DEc9BFqZ.js","assets/@reduxjs-DhFEcpJw.js","assets/immer-C0GRqQ_d.js","assets/redux-CE3tqztX.js","assets/@babel-DF5_wy6Y.js","assets/redux-thunk-CY0Q9z1Q.js","assets/axios-CCb-kr4I.js","assets/react-icons-atCsfckx.js","assets/react-router-dom-CYs6befe.js","assets/react-router-S1Hdk0kP.js","assets/@remix-run-DTnHqtaE.js","assets/index-DX_DGQHx.css","assets/poems-C3fwek3a.js","assets/Video-DAdEwrzv.js"])))=>i.map(i=>d[i]);
import{gI as X,K as $e,bR as Ye,ae as Ne,gJ as we,W as R,gK as Se,gL as ge,gM as Ze,fI as Te,gg as Pe,gN as We,gO as et,gP as tt,gQ as st,gR as q,gS as G,gT as P,fg as ce,gU as r,gV as at,bK as Ce,gW as it,gX as rt,bJ as oe,bL as he,gY as nt,gZ as ct,g_ as ot,g$ as le,h0 as ht,S as A,h1 as lt,h2 as dt,h3 as pt,h4 as ut,h5 as xt,h6 as mt,h7 as ft,h8 as yt,h9 as vt,ha as bt,hb as jt,co as wt,hc as St,ag as de,hd as pe,he as ue,hf as xe,hg as Ee,hh as _e,cu as gt,hi as Ct}from"./index-BU3I52F2.js";import{r as n,j as s}from"./react-A9DAvxly.js";import{a as Et}from"./axios-CCb-kr4I.js";import{P as _t,a$ as $t,b0 as Nt,Q as Tt}from"./react-icons-atCsfckx.js";const Mt="http://localhost:4000",kt=`${Mt}/api/images`,Ot=async(e,c)=>{var b,x;try{const o=new URLSearchParams;return o.append("q",c.q),c.type?o.append("image_type",c.type):o.append("image_type","all"),c.video_type&&o.append("video_type",c.video_type),c.orientation?o.append("orientation",c.orientation):o.append("orientation",X.All),c.category&&o.append("category",c.category),c.min_width!==void 0&&c.min_width>=0?o.append("min_width",c.min_width.toString()):o.append("min_width","0"),c.min_height!==void 0&&c.min_height>=0?o.append("min_height",c.min_height.toString()):o.append("min_height","0"),c.colors&&c.colors.length>0&&o.append("colors",c.colors.join(",")),o.append("editors_choice",c.editors_choice?"true":"false"),o.append("safesearch",c.safesearch?"true":"false"),c.order?o.append("order",c.order):o.append("order","popular"),o.append("per_page",c.per_page&&c.per_page>=3&&c.per_page<=200?c.per_page.toString():"200"),(await Et.get(`${kt}/${e}?${o.toString()}`)).data}catch(o){return console.error("Error fetching images:",o),{success:!1,message:((x=(b=o.response)==null?void 0:b.data)==null?void 0:x.message)||`Error fetching images. ${o.message}`,totalHits:0,hits:[]}}},At={searchMedia:Ot},Rt="_cloud_1ami1_1",Lt="_word_1ami1_29",W={"cloud-wrap":"_cloud-wrap_1ami1_1",cloud:Rt,word:Lt},It=({language:e,title:c,onClick:b,words:x,width:o=600,height:j=400})=>{const N=$e(),[Y,L]=n.useState([]),f=Ye(),{windowWidth:w}=Ne(),y=n.useRef(null),ee=(a,l)=>{const i=document.createElement("canvas").getContext("2d");if(i){i.font=`${l}px Arial`;const u=i.measureText(a).width+2,E=l*.65,_=l*.2,D=E+_;return{width:u,height:D,ascent:E,descent:_}}return{width:0,height:0,ascent:0,descent:0}},I=(a,l)=>{const{width:h,height:i,ascent:d}=ee(a.text,l);return{width:h,height:i,ascent:d}},te=(a,l)=>{const h=[],i=l.width*Ze(.2,.4),d=l.height*.2;return h.push({x:a.x+i,y:a.y-l.height}),h.push({x:a.x+i,y:a.y+a.height}),h.push({x:a.x+a.width,y:a.y+d}),h.push({x:a.x+a.width-i,y:a.y-l.height}),h.push({x:a.x+a.width-i,y:a.y+a.height}),h.push({x:a.x-l.width,y:a.y+d}),h.push({x:a.x-l.width,y:a.y+a.height}),w<500&&h.push({x:a.x-l.width,y:a.y-l.height}),w<500&&h.push({x:a.x-i,y:a.y+a.height*2}),w<500&&h.push({x:a.x-i,y:a.y-a.height*2}),w<500&&h.push({x:a.x+i,y:a.y+a.height*3}),w<500&&h.push({x:a.x+i,y:a.y-a.height*3}),w<500&&h.push({x:a.x-i,y:a.y+a.height*3}),w<500&&h.push({x:a.x-i,y:a.y-a.height*3}),h},Q=(a,l,h,i,d)=>d.some(u=>a<u.x+u.width&&a+h>u.x&&l<u.y+u.height&&l+i>u.y),H=async a=>{var h,i;const l=a;if(b)b(a);else if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(l).then(()=>{N(R(Se[e],!1,3))},d=>{N(R(`${ge[e]}`,!0,3)),console.error("Failed to copy:",d)});else{const d=document.createElement("textarea");d.value=l,(h=y.current)==null||h.appendChild(d),d.focus(),d.select();try{document.execCommand("copy"),N(R(Se[e],!1,3))}catch(u){console.error("Failed to copy:",u),N(R(`${ge[e]}`,!0,3))}(i=y.current)==null||i.removeChild(d)}};return n.useEffect(()=>{if(x.length===0){L([]);return}const a=[...x].sort((i,d)=>d.weight!==i.weight?d.weight-i.weight:i.text.length-d.text.length),l=[],h=[];a.forEach((i,d)=>{const u=i.weight,{width:E,height:_,ascent:D}=I(i,u);let T=!1;const Z=30;let z=0;if(d===0){const $=(o-E)/2,M=(j+D-_)/2;l.push({x:$,y:M,width:E,height:_}),h.push(s.jsx("text",{x:$,y:M+D,fontSize:u,fontFamily:"Arial, sans-serif",fill:`hsl(${d*110%360}, 100%, ${f?"20":"70"}%)`,className:W.word,style:{cursor:"pointer"},onClick:()=>{H(i.text)},tabIndex:0,onKeyDown:V=>{(V.key==="Enter"||V.key===" ")&&H(i.text)},"aria-label":c??`${we[e]}: ${i.text}`,children:i.text},i.text)),T=!0}for(;!T&&z<Z;){for(let $=0;$<l.length&&!T;$++){const M=l[$],V=te(M,{width:E,height:_});for(let B of V){const m={x:B.x,y:B.y,width:E,height:_};if(!(m.x<0||m.y<0||m.x+m.width>o||m.y+m.height>j)&&!Q(m.x,m.y,m.width,m.height,l)){l.push(m),h.push(s.jsx("text",{x:m.x,y:m.y+D,fontSize:u,fontFamily:"Arial, sans-serif",fill:`hsl(${d*110%360}, 100%, ${f?"20":"70"}%)`,style:{cursor:"pointer"},className:W.word,onClick:()=>H(i.text),tabIndex:0,onKeyDown:k=>{(k.key==="Enter"||k.key===" ")&&H(i.text)},"aria-label":c??`${we[e]}: ${i.text}`,children:i.text},i.text)),T=!0;break}}}z++}T||console.warn(`Could not place word after ${z} attempts:: ${i.text}`)}),L(h)},[x,o,j,e,f,N]),s.jsx("div",{ref:y,className:W["cloud-wrap"],children:s.jsx("svg",{width:o,height:j,className:W.cloud,children:Y})})},Dt=()=>{const[e,c]=n.useState({visible:!1,x:0,y:0}),b=n.useCallback((o,j)=>{c({visible:!0,x:o,y:j})},[]),x=n.useCallback(()=>{c(o=>({...o,visible:!1}))},[]);return{tooltip:e,handleMouseMove:b,handleMouseLeave:x}};var Me=(e=>(e.en="Poem",e.es="Poema",e.fr="Poème",e.de="Gedicht",e.pt="Poema",e.cs="Báseň",e.fi="Runo",e))(Me||{});const Ft=pe.map(e=>({text:e,weight:e==="design"?50:ue.includes(e)?Math.floor(Math.random()*10)+30:xe.includes(e)?Math.floor(Math.random()*5)+15:Math.floor(Math.random()*10)+15})),Ht=pe.map(e=>({text:e,weight:e==="design"?33:ue.includes(e)?Math.floor(Math.random()*10)+16:xe.includes(e)?Math.floor(Math.random()*5)+14:Math.floor(Math.random()*6)+15})),zt=pe.map(e=>({text:e,weight:e==="design"?28:ue.includes(e)?Math.floor(Math.random()*10)+13:xe.includes(e)?Math.floor(Math.random()*5)+14:Math.floor(Math.random()*5)+15})),Vt=n.lazy(()=>Te(()=>import("./Image-DNPgRtVs.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]))),Bt=n.lazy(()=>Te(()=>import("./Video-DAdEwrzv.js"),__vite__mapDeps([21,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]))),Kt=({language:e})=>{const c=$e(),{show:b}=Pe(),[x,o]=n.useState([]),[j,N]=n.useState(!1),[Y,L]=n.useState(""),[f,w]=n.useState("imagination"),[y,ee]=n.useState("photo"),[I,te]=n.useState("all"),[Q,H]=n.useState(X.All),[a,l]=n.useState("poem"),h=["all","photo","illustration","vector","video"],i=["all","film","animation"],d=[X.All,X.Horizontal,X.Vertical],u=[{label:Me[e],value:"poem"},{label:We[e],value:"quote"}],E=Object.values(et),_=Object.values(tt),D=Object.values(st),T=q(i,e),Z=q(D,e),z=q(h,e),$=q(d.map(t=>t),e),M=q(E,e);M.unshift({label:G[e],value:""});const V=q(_,e),[B,m]=n.useState(void 0),[k,ke]=n.useState([]),[K,Oe]=n.useState([]),[se,Ae]=n.useState(!1),[ae,Re]=n.useState(!0),[ie,Le]=n.useState("popular"),[U,qt]=n.useState(100),[S,F]=n.useState(1),[O,Ie]=n.useState(20),[g,me]=n.useState(1),[J,De]=n.useState(1),[Gt,Fe]=n.useState(0),[He,ze]=n.useState(!1),fe=n.useRef(!0),[v,re]=n.useState(1),ye=[{label:"10",value:10},{label:"20",value:20},{label:"50",value:50},{label:"100",value:100}],{windowWidth:C}=Ne(),{tooltip:ne,handleMouseMove:Ve,handleMouseLeave:Be}=Dt(),Ke=t=>{const p=t.currentTarget.getBoundingClientRect(),Je=t.clientX-p.left-50,Xe=t.clientY-p.top+30;Ve(Je,Xe)},ve=async t=>{N(!0),L("");const p=await At.searchMedia(e,t);p.success?(o(p.hits),Fe(p.totalHits),me(Math.ceil(p.hits.length<O?1:p.hits.length/O)),De(Math.ceil(p.totalHits<U?1:p.totalHits/U)),ce("image-container")):(c(R(p.message||"Error fetching images.",!0,6)),L(p.message||"Error fetching images.")),N(!1)};n.useEffect(()=>{const t=k==null?void 0:k.map(p=>p.value);Oe(t)},[k]);const qe=t=>{if(t.preventDefault(),f.trim()===""){c(R(P[e],!0,6)),L(P[e]);return}F(1),ze(!0);const p={q:f,type:y,video_type:I!=="all"?I:void 0,orientation:Q,category:B,colors:K&&K.length>0?K:void 0,editors_choice:se,safesearch:ae,order:ie,per_page:U,page:v};ve(p)};n.useEffect(()=>{if(fe.current){fe.current=!1;return}if(!He)return;if(f.trim()===""){c(R(P[e],!0,6)),L(P[e]);return}F(1),ce("image-container");const t={q:f,type:y,video_type:I!=="all"?I:void 0,orientation:Q,category:B,colors:K&&K.length>0?K:void 0,editors_choice:se,safesearch:ae,order:ie,per_page:U,page:v};ve(t)},[v]),n.useEffect(()=>{me(Math.ceil(x.length<O?1:x.length/O))},[x,O]);const Ge=x.slice((S-1)*O,S*O),be=()=>x.length===0?s.jsx(s.Fragment,{}):g===1?s.jsx(s.Fragment,{}):s.jsxs("div",{className:r["pagination-wrap"],children:[s.jsxs("button",{className:"tooltip-wrap",disabled:S===1,onClick:()=>F(1),children:[s.jsx(_t,{}),s.jsx("span",{className:"scr",children:Ee[e]}),s.jsx("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:Ee[e]})]}),s.jsxs("button",{className:"tooltip-wrap",onClick:()=>F(t=>Math.max(t-1,1)),disabled:S===1,children:[s.jsx($t,{}),s.jsx("span",{className:"scr",children:oe[e]}),s.jsx("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:oe[e]})]}),s.jsxs("span",{children:[Ce[e]," ",S," / ",g]}),s.jsxs("button",{className:"tooltip-wrap",onClick:()=>F(t=>Math.min(t+1,g)),disabled:S===g,children:[s.jsx(Nt,{}),s.jsx("span",{className:"scr",children:he[e]}),s.jsx("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:he[e]})]}),s.jsxs("button",{className:"tooltip-wrap",disabled:S===g,onClick:()=>F(g),children:[s.jsx(Tt,{}),s.jsxs("span",{className:"scr",children:[_e[e]," (",g,")"]}),s.jsxs("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:[_e[e]," (",g,")"]})]})]}),Qe=Array.from({length:J},(t,p)=>p+1).map((t,p)=>s.jsx(n.Fragment,{children:s.jsxs("button",{onClick:()=>{F(1),re(t)},className:`tooltip-wrap ${r["fetch-page-button"]} ${t===v?r.active:""}`,"data-current":t===v?at[e]:"",disabled:p===v-1||t>J,children:[t,s.jsxs("span",{className:"tooltip above narrow2",children:[Ce[e]," ",t]})]})},t)),je=s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:r["batch-paragraph"],children:[it[e]," ",U," ",rt[e],":"]}),s.jsxs("div",{id:`${r["fetch-btn-wrap"]}`,className:r["fetch-page-buttons-wrap"],children:[v!==1&&s.jsxs("button",{className:`reset ${r["fetch-more-btn"]}`,onClick:()=>re(t=>t-1),children:["« ",oe[e]]}),Qe,v!==J&&s.jsxs("button",{className:`reset ${r["fetch-more-btn"]}`,onClick:()=>re(t=>t+1),children:[he[e]," »"]}),S===g&&v>=J&&s.jsx("p",{className:`${r["end-message"]}`,children:nt[e]})]})]}),Ue=t=>{w(t),ce("search-container","start"),c(R(`${gt[e]}: ${Ct[e]}: ${t}`,!1,4))};return s.jsxs("div",{id:"search-container",className:r["search-container"],children:[s.jsx("section",{className:`card ${r["settings-section"]}`,children:s.jsxs("div",{children:[s.jsxs("div",{className:`tooltip-wrap ${r["wordcloud-wrap"]}`,onMouseMove:Ke,onMouseLeave:Be,children:[s.jsx(It,{language:e,title:ct[e],onClick:Ue,words:C>700?Ft:C>500?Ht:zt,width:C<300?C-20:C<600?C-80:C-C/100*30,height:C<300?900:C<500?800:500}),ne.visible&&s.jsx("span",{className:"tooltip narrow",style:{top:ne.y,left:ne.x,right:"unset"},children:ot[e]})]}),s.jsxs("form",{onSubmit:qe,children:[s.jsxs("div",{className:r["search-wrap"],children:[s.jsx("h2",{children:le[e]}),s.jsxs("div",{className:r.column,children:[s.jsx("div",{className:`input-wrap ${r["input-wrap"]}`,children:s.jsxs("label",{children:[s.jsx("input",{name:"search",type:"text",maxLength:100,value:f,onChange:t=>w(t.target.value),placeholder:ht[e]}),s.jsx("span",{children:le[e]})]})}),y!=="video"&&s.jsx(A,{z:8,id:"colors",className:`${r.select} ${r.colors}`,multiple:!0,instructions:lt[e],value:k,onChange:t=>ke(t),options:V,language:e})]}),s.jsxs("div",{className:r["controls-wrap"],children:[s.jsx(A,{z:7,id:"result-type",className:`${r.select} ${r["result-type"]}`,hideDelete:!0,instructions:dt[e],value:z.find(t=>t.value===y)||{label:G[e],value:"all"},onChange:t=>ee(t==null?void 0:t.value),options:z,language:e}),y==="video"?s.jsx(A,{z:6,id:"result-type",className:`${r.select} ${r["result-type"]}`,hideDelete:!0,instructions:pt[e],value:T.find(t=>t.value===I)||{label:G[e],value:"all"},onChange:t=>te(t==null?void 0:t.value),options:T,language:e}):s.jsx(A,{z:5,id:"orientation",className:`${r.select} ${r.orientation}`,instructions:ut[e],hideDelete:!0,value:$.find(t=>t.value===Q)||{label:G[e],value:"all"},onChange:t=>H(t==null?void 0:t.value),options:$,language:e}),s.jsx(A,{z:4,id:"category",className:`${r.select} ${r.category}`,hideDelete:!0,instructions:xt[e],value:M.find(t=>t.value===B)||{label:G[e],value:""},onChange:t=>m(t==null?void 0:t.value),options:M,language:e}),s.jsx(A,{z:3,id:"order-by",className:`${r.select} ${r["order-by"]}`,hideDelete:!0,instructions:mt[e],value:Z.find(t=>t.value===ie)||{label:"Popular",value:"popular"},onChange:t=>Le(t==null?void 0:t.value),options:Z,language:e})]})]}),s.jsxs("div",{className:`${r["checkbox-wrap"]}`,children:[s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:se,onChange:t=>Ae(t.target.checked)}),ft[e]," (Pixabay)"]}),s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:ae,onChange:t=>Re(t.target.checked)}),yt[e]]})]}),s.jsxs("div",{className:r["submit-wrap"],children:[s.jsx(A,{z:2,id:"text-type",className:`${r.select} ${r["text-type"]}`,hideDelete:!0,instructions:vt[e],value:u.find(t=>t.value===a)||{label:G[e],value:""},onChange:t=>l(t==null?void 0:t.value),options:u,language:e}),s.jsx(A,{z:1,id:"images-per-page",className:`${r.select} ${r["images-per-page"]}`,hideDelete:!0,instructions:bt[e],value:ye.find(t=>t.value===O)||{label:"20",value:20},onChange:t=>{Ie(Number(t==null?void 0:t.value))},options:ye,language:e}),s.jsx("button",{type:"submit",disabled:j,children:y==="video"?jt[e]:le[e]})]}),y==="vector"&&s.jsxs("p",{className:`textcenter flex center   ${r.note}`,children:[wt[e]," ",St[e]]})]})]})}),x.length>0&&s.jsx("section",{className:`card ${r["image-section"]}`,children:s.jsxs("div",{children:[j&&s.jsxs("p",{className:"textcenter flex center margin0auto textcenter",children:[de[e],"..."]}),Y&&s.jsx("p",{className:r.error,children:Y}),be(),s.jsx("div",{id:"image-container",className:r["image-container"],children:Ge.map(t=>s.jsx(n.Fragment,{children:"videos"in t?s.jsx(n.Suspense,{fallback:s.jsxs("div",{className:"flex center margin0auto textcenter",style:{width:"100%",height:"auto",aspectRatio:t.videos.small.width/t.videos.small.height},children:[de[e],"..."]},`key-${t.id}`),children:s.jsx(Bt,{video:t,language:e,show:b,searchTerm:f,textType:a},t.id)}):s.jsx(n.Suspense,{fallback:s.jsxs("div",{className:"flex center margin0auto textcenter",style:{width:"100%",height:`${t.previewHeight}px`,aspectRatio:t.previewWidth/t.previewHeight},children:[de[e],"..."]},`key-${t.id}`),children:s.jsx(Vt,{image:t,language:e,show:b,searchTerm:f,textType:a},t.id)})},t.id))}),be(),S===1&&v>1&&je,S===g&&v<=J&&je]})})]})},Zt=Object.freeze(Object.defineProperty({__proto__:null,default:Kt},Symbol.toStringTag,{value:"Module"}));export{Zt as I,Dt as u};
