import{K as E,r as n,j as s,cj as P,ck as v,cl as b,cm as y,bi as C,V as d,cn as U,co as N,cp as S,bh as _,cq as q,cr as D}from"./index-DmCUPrzn.js";import{s as R}from"./edit.module-Tb44_we2.js";const T=({user:i,language:e})=>{const t=E(),[c,p]=n.useState(""),[o,l]=n.useState(""),[m,u]=n.useState(""),j=async a=>{a.preventDefault();try{if(o.trim()!==m.trim()){t(d(U[e],!0,5));return}else if(o.length<10){t(d(N[e],!0,5));return}const f={_id:i._id,passwordOld:c,password:o,language:e};i&&t(S(f)).then(r=>{r&&(r.success===!1?t(d(`${r.message||_[e]}`,!0,5)):(t(d(`${r.message||q[e]}`,!1,5)),p(""),l(""),u("")))}).catch(r=>{var w,x;console.error(r),r.code==="ERR_BAD_REQUEST"&&((x=(w=r.response)==null?void 0:w.data)!=null&&x.message)?t(d(`${r.response.data.message}`,!0,5)):setTimeout(()=>{t(d(D[e],!0,5))},2e3)})}catch(h){console.error("error",h)}};return s.jsx(s.Fragment,{children:i?s.jsxs(s.Fragment,{children:[s.jsx("h2",{children:P[e]}),s.jsxs("form",{onSubmit:j,className:R["edit-user"],children:[s.jsx("div",{className:"input-wrap",children:s.jsxs("label",{children:[s.jsx("input",{required:!0,type:"password",name:"old-password",id:"old-password",value:c,onChange:({target:a})=>p(a.value.trim())}),s.jsx("span",{children:v[e]})]})}),s.jsx("div",{className:"input-wrap",children:s.jsxs("label",{children:[s.jsx("input",{required:!0,type:"password",name:"password",id:"password-edit",value:o,onChange:({target:a})=>l(a.value.trim())}),s.jsx("span",{children:b[e]})]})}),s.jsx("div",{className:"input-wrap",children:s.jsxs("label",{children:[s.jsx("input",{required:!0,type:"password",name:"confirmPassword",id:"confirmPassword",value:m,onChange:({target:a})=>u(a.value.trim())}),s.jsx("span",{children:y[e]})]})}),s.jsx("button",{type:"submit",children:C[e]})]})]}):s.jsx(s.Fragment,{})})};export{T as default};
