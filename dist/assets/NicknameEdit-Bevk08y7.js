import{K as U,r as x,j as s,cD as b,cE as u,cF as w,cG as y,ck as v,bi as $,cA as k,V as n,bh as j,cq as C,cB as _,cC as S,bz as D,cr as F}from"./index-DmCUPrzn.js";import{s as d}from"./edit.module-Tb44_we2.js";const q=({user:e,language:t})=>{const i=U(),[c,E]=x.useState((e==null?void 0:e.name)||""),[o,m]=x.useState(""),f=async r=>{r.preventDefault();try{const N={_id:e._id,name:c,passwordOld:o,language:t};e&&i(k(N)).then(a=>{a&&(a.success===!1?i(n(`${j[t]}: ${a.message}`,!0,5)):(i(n(`${a.message??C[t]}`,!1,5)),i(_(a.user)).then(()=>{i(S(e==null?void 0:e._id)).then(()=>i(D()))}),m("")))}).catch(a=>{var l,h;console.error(a),a.code==="ERR_BAD_REQUEST"&&((h=(l=a.response)==null?void 0:l.data)!=null&&h.message)?i(n(`${j[t]}: ${a.response.data.message}`,!0,5)):setTimeout(()=>{i(n(F[t],!0,5))},2e3)})}catch(p){console.error("error",p)}};return s.jsx(s.Fragment,{children:e?s.jsxs(s.Fragment,{children:[s.jsx("h2",{children:b[t]}),s.jsxs("p",{className:d.p,children:[u[t],": ",s.jsx("strong",{children:e==null?void 0:e.name})]}),s.jsx("p",{className:`${d.p} ${d["p-last"]}`,children:w[t]}),s.jsxs("form",{onSubmit:f,className:d["edit-user"],children:[s.jsx("div",{className:"input-wrap",children:s.jsxs("label",{children:[s.jsx("input",{required:!0,type:"text",name:"name",id:"name-edit",value:c,onChange:({target:r})=>E(r.value)}),s.jsx("span",{children:y[t]})]})}),s.jsx("div",{className:"input-wrap",children:s.jsxs("label",{children:[s.jsx("input",{required:!0,type:"password",name:"old-password",id:"old-password-user",value:o,onChange:({target:r})=>m(r.value.trim())}),s.jsx("span",{children:v[t]})]})}),s.jsx("button",{type:"submit",children:$[t]})]})]}):s.jsx(s.Fragment,{})})};export{q as default};
