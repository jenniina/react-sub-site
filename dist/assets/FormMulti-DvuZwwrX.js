const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MessageForm-h4kd92Ji.js","assets/react-kX_YxI4E.js","assets/dom-to-image-more-CfDXlNbO.js","assets/FormWrapper-BzohrTZr.js","assets/index-B_tELgeU.js","assets/react-dom-B5MLDbn_.js","assets/scheduler-CzFDRTuY.js","assets/react-redux-BEmJlIGA.js","assets/hoist-non-react-statics-DQogQWOa.js","assets/react-is-DUDD-a5e.js","assets/use-sync-external-store-BPp6CH6k.js","assets/@reduxjs-DhFEcpJw.js","assets/immer-C0GRqQ_d.js","assets/redux-CE3tqztX.js","assets/@babel-DF5_wy6Y.js","assets/redux-thunk-CY0Q9z1Q.js","assets/axios-CCb-kr4I.js","assets/react-icons-CzVo0GbG.js","assets/react-router-dom-StiqOUIT.js","assets/react-router-DUuhLvki.js","assets/@remix-run-DTnHqtaE.js","assets/index-DWYw7b3r.css","assets/ExtrasForm-DFgLR0Qq.js","assets/InitialForm-BVQCizD4.js"])))=>i.map(i=>d[i]);
import{_,L as P,u as D,E as F,e as C}from"./index-B_tELgeU.js";import{r as s,j as e}from"./react-kX_YxI4E.js";import{R as O}from"./react-icons-CzVo0GbG.js";import{a as z}from"./axios-CCb-kr4I.js";function Y(r){const[t,l]=s.useState(0);function n(){l(i=>i>=r.length-1?i:i+1)}function u(){l(i=>i<=0?i:i-1)}function c(i){l(i)}return{currentStepIndex:t,step:r[t],steps:r,isFirstStep:t===0,isLastStep:t===r.length-1,goTo:c,next:n,back:u}}const E={firstName:"",lastName:"",encouragement:"",color:"#FFFFFF",dark:"",light:"",email:"",message:"",gdpr:"",select:"",selectmulti:"",clarification:""},V="_wrapper_1exrd_1",W="_steps_1exrd_13",B="_hiddenform_1exrd_25",$="_subfield_1exrd_67",J="_btns_1exrd_151",q="_submit_1exrd_167",G="_dropdownsingle_1exrd_177",H="_dropdownmultiple_1exrd_179",a={wrapper:V,steps:W,hiddenform:B,subfield:$,btns:J,submit:q,dropdownsingle:G,dropdownmultiple:H},K="http://localhost:4000",Q=async r=>(await z.post(`${K}/api/send-email-form`,r)).data,y=s.lazy(()=>_(()=>import("./MessageForm-h4kd92Ji.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]))),U=s.lazy(()=>_(()=>import("./ExtrasForm-DFgLR0Qq.js"),__vite__mapDeps([22,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]))),N=s.lazy(()=>_(()=>import("./InitialForm-BVQCizD4.js"),__vite__mapDeps([23,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21])));function X({language:r}){const{t}=s.useContext(P),l=s.useRef(),[n,u]=s.useState(E),[c,i]=s.useState(!1),v=D();function d(x){u(h=>({...h,...x}))}const{steps:k,currentStepIndex:T,step:w,isFirstStep:f,isLastStep:o,back:L,next:b,goTo:I}=Y([e.jsx(s.Suspense,{fallback:e.jsxs("div",{className:"flex center margin0auto textcenter",children:[t("Loading"),"..."]}),children:s.createElement(N,{...n,updateFields:d,key:"InitialForm",language:r})}),e.jsx(s.Suspense,{fallback:e.jsxs("div",{className:"flex center margin0auto textcenter",children:[t("Loading"),"..."]}),children:s.createElement(y,{...n,updateFields:d,key:"MessageForm",language:r})}),e.jsx(s.Suspense,{fallback:e.jsxs("div",{className:"flex center margin0auto textcenter",children:[t("Loading"),"..."]}),children:s.createElement(U,{...n,updateFields:d,key:"ExtrasForm",language:r})})]);async function M(x){if(x.preventDefault(),!o)return b();if(l.current)try{i(!0),await Q(n).then(()=>{i(!1),I(0),u(E),S(!0),setTimeout(()=>{S(!1)},1e5),v(C(t("ThankYouForYourMessage"),!1,8))})}catch(h){console.error("error",h),alert(t("ThereWasAnErrorSendingTheMessage"))}}function A(){f&&(n.firstName==null||n.firstName==""||n.lastName==null||n.lastName=="")?(m(!0),setTimeout(()=>{m(!1)},3e3)):!f&&!o&&(n.email==null||n.email.trim()==""||n.message==null||n.message.trim()=="")?(m(!0),setTimeout(()=>{m(!1)},3e3)):b()}const[g,m]=s.useState(!1),[R,S]=s.useState(!1),p=s.useRef(),j=s.useRef();return s.useEffect(()=>{if(!(p.current==null||j.current==null))return p.current.style.top="-2em",()=>{}},[g]),e.jsxs("div",{className:a.wrapper,children:[r!==F.fi&&r!==F.en&&e.jsx("p",{children:t("PleaseNoteThatTheAuthorJenniinaLaineSpeaksOnlyEnglishAndFinnishSo")}),e.jsxs("form",{ref:l,onSubmit:M,"aria-labelledby":"steps",children:[e.jsxs("span",{id:"steps",className:a.steps,children:[t("ContactForm")," ",t("Part")," ",e.jsxs("span",{children:[T+1," / ",k.length]})]}),e.jsx("div",{className:a.hiddenform,children:o?e.jsxs(e.Fragment,{children:[" ",e.jsx(s.Suspense,{fallback:e.jsxs("div",{className:"flex center margin0auto textcenter",children:[t("Loading"),"..."]}),children:s.createElement(N,{...n,updateFields:d,language:r,key:"InitialForm2"})}),e.jsx(s.Suspense,{fallback:e.jsxs("div",{className:"flex center margin0auto textcenter",children:[t("Loading"),"..."]}),children:s.createElement(y,{...n,updateFields:d,language:r,key:"MessageForm2"})})]}):""}),w,e.jsxs("div",{className:a.btns,style:{position:"relative"},children:[!f&&e.jsxs("button",{type:"button",onClick:L,children:[e.jsx("span",{"aria-hidden":"true",children:"«"})," ",t("Back")]}),!o&&e.jsxs("button",{ref:j,type:"button",className:o?a.submit:a.next,onClick:A,children:[t(c?"SendingEmail":"Next")," ",e.jsx("span",{"aria-hidden":"true",children:"»"})]}),o&&e.jsxs("button",{className:o?a.submit:a.next,type:"submit",disabled:c,children:[t(c?"SendingEmail":"Send")," ",e.jsx(O,{})]}),g&&e.jsx("div",{ref:p,"aria-live":"assertive",style:{position:"absolute",fontWeight:"bold",color:"inherit",letterSpacing:"0.04em"},children:t("PleaseFillInTheFields")}),R&&e.jsx("div",{ref:p,"aria-live":"polite",style:{position:"absolute",top:"-1.4em",fontWeight:"bold",color:"inherit",letterSpacing:"0.04em"},children:t("ThankYouForYourMessage")})]})]})]})}const ne=Object.freeze(Object.defineProperty({__proto__:null,default:X},Symbol.toStringTag,{value:"Module"}));export{ne as F,a as s};
