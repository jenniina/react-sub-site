import{j as e,r as i}from"./react-A9DAvxly.js";import{aZ as Z,H as z,ax as Q,cr as X,cs as _,eI as G,eJ as g,eK as ee,d7 as se,eL as te,eM as re,eN as ie,eO as ae,eP as le,eQ as oe,eR as f,a9 as M,f as ce,eS as ne,eT as de,dO as I,eU as B,eV as D,eW as W,eX as me,eY as he,eZ as pe,e_ as k,e$ as j,f0 as L,f1 as fe,f2 as ue,f3 as Ee,f4 as $,f5 as xe,f6 as je,f7 as Se,f8 as ve,f9 as be,fa as Te,fb as ye,fc as Ne,fd as Ae,a0 as Oe,K as we,fe as Ce,ff as Fe,fg as Me,fh as Ie,fi as H,ct as Be,D as De,fj as We,fk as ke,b0 as S}from"./index-nWW9Io9b.js";import{a as Le}from"./axios-BimPEqV4.js";import{a as K}from"./form-C1vuQpLD.js";import"./hoist-non-react-statics-D5aJipOz.js";import"./react-dom-yh0erWL-.js";import"./scheduler-CzFDRTuY.js";import"./react-redux-CHm9GgGE.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-DEc9BFqZ.js";import"./@reduxjs-DTZ4pglK.js";import"./immer-BNrqi0cU.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./react-icons-CMyplLKx.js";import"./react-router-dom-BQMcumiI.js";import"./react-router-344DmMNz.js";import"./@remix-run-DTnHqtaE.js";function $e({title:l,description:o,className:u,children:s}){return e.jsx(e.Fragment,{children:e.jsxs("fieldset",{className:u,children:[e.jsxs("legend",{children:[l,o?e.jsxs("p",{children:[" ",o," "]}):e.jsx(e.Fragment,{})]}),s]})})}const He="https://react-bg.braveisland-7060f196.westeurope.azurecontainerapps.io",Ke=`${He}/api`,Pe=async l=>(await Le.post(`${Ke}/send-email-select`,l)).data;function ls({heading:l,text:o,type:u,language:s}){function v(t,r){return t.map(a=>{const F=a[r];return{label:F,value:F}})}const P=v([xe,je,Se,ve,be,Te,ye,Ne,Ae,Oe,we,M,Ce,Fe,Me,Ie],s),n=v([H,Be,De,We,ke],s),[b,T]=i.useState([]),[d,y]=i.useState(n[0]),[q,N]=i.useState(""),[U,R]=i.useState(""),[E,m]=i.useState({language:s,issues:"",favoriteHero:"",clarification:"",email:""}),[Y,h]=i.useState(!1),[A,O]=i.useState(!1),[c,w]=i.useState(null),[V,p]=i.useState(!1),x=Z(),C=i.useRef();async function J(t){if(t.preventDefault(),E.issues==""||E.favoriteHero=="")O(!0),x(S(H[s],!0,5));else if(h(!0),C.current)try{await Pe(E).then(()=>{T([]),y(n[0]),N(""),h(!1),p(!0),setTimeout(()=>{p(!1)},1e5),O(!1),x(S($[s],!1,8))})}catch(r){h(!1),w(r.message),p(!0),setTimeout(()=>{p(!1),w(null)},1e4),console.error("error",c,r);const a=c?`${K[s]}: ${c}`:K[s];x(S(a,!0,12)),h(!1)}}return i.useEffect(()=>{const t=new URLSearchParams(window.location.search);setTimeout(()=>{if(t.get("survey")){const r=document.getElementById("survey");r&&r.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}},1e3)},[]),e.jsxs("div",{className:`select ${u}`,children:[e.jsx(z,{language:s,address:"select",heading:l,text:o}),e.jsx("div",{className:"inner-wrap",children:e.jsx("section",{className:"card",children:e.jsx("div",{children:e.jsxs("div",{className:"medium",children:[e.jsxs(Q,{language:s,text:X[s],className:"features",children:[e.jsx("h2",{children:_[s]}),e.jsxs("ul",{className:"ul",children:[e.jsx("li",{children:G[s]}),e.jsx("li",{children:g[s]}),e.jsx("li",{children:ee[s]})]}),e.jsx("h3",{children:se[s]}),e.jsxs("ul",{className:"ul",children:[e.jsx("li",{children:te[s]}),e.jsx("li",{children:re[s]}),e.jsx("li",{children:ie[s]}),e.jsx("li",{children:ae[s]}),e.jsx("li",{children:le[s]}),e.jsx("li",{children:oe[s]})]})]}),e.jsxs("div",{className:f["selects-container"],children:[e.jsx("h2",{children:M[s]}),e.jsx("form",{ref:C,onSubmit:J,id:"survey",children:e.jsxs($e,{className:"flex",title:ce[s],description:ne[s],children:[e.jsx("h3",{className:"left small margin0 regular",children:de[s]}),e.jsx(I,{language:s,multiple:!0,required:!0,requiredMessage:B[s],validated:!(A&&b.length==0),remove:D[s],clear:W[s],id:"multipleselectdropdown",className:f.prev2,instructions:me[s],options:P,value:b,onChange:t=>{T(t),m(r=>({...r,issues:t==null?void 0:t.map(a=>a==null?void 0:a.value).join(", ")}))}}),e.jsx("h3",{className:"left small margin0 regular",children:he[s]}),e.jsx(I,{language:s,required:!0,requiredMessage:B[s],validated:!(A&&(d==null?void 0:d.label)==n[0].label),remove:D[s],clear:W[s],id:"single",className:`full ${f.prev}`,instructions:`${pe[s]}`,hide:!0,options:n,value:d,onChange:t=>{y(t),m(r=>({...r,favoriteHero:t==null?void 0:t.label}))}}),e.jsx("h3",{className:"left small margin0 regular",children:k[s]}),e.jsx("div",{className:"full",children:e.jsxs("label",{htmlFor:"select-clarification",children:[e.jsx("input",{id:"select-clarification",autoComplete:"off",type:"text",name:"clarification",value:q,onChange:t=>{N(t.target.value),m(r=>({...r,clarification:t.target.value}))},className:"bg"}),e.jsxs("span",{className:"scr",children:[k[s]," (",j[s].toLowerCase(),")"]})]})}),e.jsxs("h3",{className:"left small margin0 regular",children:[L[s]," (",j[s].toLowerCase(),")"]}),e.jsx("div",{className:"full",children:e.jsxs("label",{htmlFor:"select-email",children:[e.jsx("input",{id:"select-email",autoComplete:"email",type:"email",name:"email",value:U,onChange:t=>{R(t.target.value),m(r=>({...r,email:t.target.value.trim()}))},className:"bg"}),e.jsxs("span",{className:"scr",children:[L[s]," (",j[s].toLowerCase(),")"," "]})]})}),e.jsxs("div",{children:[e.jsx("input",{id:"form-gdpr",required:!0,type:"checkbox",name:"gdpr"}),e.jsxs("label",{htmlFor:"form-gdpr",children:[e.jsx("span",{className:"required","aria-hidden":"true",children:"*"})," ",fe[s]," "]})]}),e.jsx("button",{type:"submit",className:`${f.half} `,children:Y?ue[s]:Ee[s]}),V&&e.jsx("div",{"aria-live":"assertive",style:{fontWeight:"bold",color:"inherit",letterSpacing:"0.04em"},children:c||$[s]})]})})]})]})})})})]})}export{ls as default};
