import{r as g,j as e}from"./react-kX_YxI4E.js";import{A as se}from"./AdditionalInfo-BEH2K8B0.js";import{L as te,l as re,u as ne,q as n,E as B,e as m,r as ie,t as le,v as oe,A as ce,T as de}from"./index-kanJP55Y.js";import{c as pe}from"./cart-CgS8CQgD.js";import{L as E}from"./react-router-dom-StiqOUIT.js";import{B as ue}from"./ButtonToggle-3GWWVJ2q.js";import{a as he,t as me,R as xe}from"./react-icons-DF9X557m.js";import"./dom-to-image-more-CfDXlNbO.js";import"./react-dom-B5MLDbn_.js";import"./scheduler-CzFDRTuY.js";import"./react-redux-BEmJlIGA.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-BPp6CH6k.js";import"./@reduxjs-DhFEcpJw.js";import"./immer-C0GRqQ_d.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./axios-CCb-kr4I.js";import"./react-router-DUuhLvki.js";import"./@remix-run-DTnHqtaE.js";import"./react-helmet-async-yKbZhP8U.js";import"./react-fast-compare-DeY8XGN4.js";import"./invariant-BxDqUhCT.js";import"./shallowequal-CbQcWkYp.js";const je="_light_uwfyl_1",ye="_quantity_uwfyl_51",we="_total_uwfyl_129",fe="_gdpr_uwfyl_231",ge="_terms_uwfyl_233",ve="_wrap_uwfyl_393",Ce="_submit_uwfyl_461",t={light:je,"cart-wrap":"_cart-wrap_uwfyl_5","addition-wrap":"_addition-wrap_uwfyl_41",quantity:ye,"quantity-btn":"_quantity-btn_uwfyl_69","item-details":"_item-details_uwfyl_83","textarea-wrap":"_textarea-wrap_uwfyl_99","input-wrap":"_input-wrap_uwfyl_101",total:we,"please-fill":"_please-fill_uwfyl_157","toggle-wrap":"_toggle-wrap_uwfyl_179","clear-btn-wrap":"_clear-btn-wrap_uwfyl_203","send-order-wrap":"_send-order-wrap_uwfyl_225",gdpr:fe,terms:ge,"accordion-wrap":"_accordion-wrap_uwfyl_271","additional-info-wrap":"_additional-info-wrap_uwfyl_285","back-to-store":"_back-to-store_uwfyl_323","cart-form":"_cart-form_uwfyl_375",wrap:ve,"more-info-wrap":"_more-info-wrap_uwfyl_439",submit:Ce},Ze=({language:x,cart:j,addToCart:L,removeFromCart:C,editDetails:J,removeCart:q})=>{const{t:s}=g.useContext(te),O=re(),u=ne(),[k,b]=n("localStorageTotal",0),[i,A]=n("localStorageEmail",""),[l,F]=n("JCartName",""),[y,H]=n("JCartBusiness",!1),[v,M]=n("JCartCompanyName",""),[o,T]=n("JCartCountry",""),[c,P]=n("JCartAddress",""),[d,D]=n("JCartCity",""),[p,S]=n("JCartZip",""),[w,z]=n("JCartPhone",""),[f,G]=n("JCartBusinessID",""),[K,W]=n("JCartDetails",{email:i,name:l,businessID:f,zip:p,city:d,address:c,country:o,phone:w}),[R,Q]=n("JCartExtra",""),[Z,U]=g.useState(!1),[Y,V]=g.useState(!1),[X,h]=g.useState(!1),_=5,I=10,ee=1,N=3;g.useEffect(()=>{W({name:l,companyName:v,email:i,businessID:f,zip:p,city:d,address:c,country:o,phone:w})},[l,v,i,f,p,d,c,o,w]);const $=(a,r)=>{if(r<0&&a&&C(a==null?void 0:a.id),r>0)L(a);else return};return g.useEffect(()=>{b(j.reduce((a,r)=>a+r.price*r.quantity,0))},[j]),e.jsxs("div",{className:`${t["cart-wrap"]} ${O?t.light:""}`,children:[e.jsxs(E,{to:"/store",className:t["back-to-store"],children:[e.jsx("span",{"aria-hidden":!0,children:"«"})," ",e.jsx(he,{})," ",e.jsx("strong",{children:s("BackToStore")})]}),x!==B.fi&&x!==B.en&&e.jsx("p",{children:s("PleaseNoteThatTheAuthorJenniinaLaineSpeaksOnlyEnglishAndFinnishSo")}),e.jsxs("form",{onSubmit:a=>{a.preventDefault(),h(!0),j.length<1&&(u(m(s("PleaseChooseAProduct"),!0,8)),h(!1)),Z?Y?y&&l&&l.trim()!==""&&v&&v.trim()!==""&&f&&f.trim()!==""&&i&&i.trim()!==""&&c&&c.trim()!==""&&p&&p.trim()!==""&&d&&d.trim()!==""&&o&&o.trim()!==""||!y&&l&&l.trim()!==""&&i&&i.trim()!==""&&c&&c.trim()!==""&&p&&p.trim()!==""&&d&&d.trim()!==""&&o&&o.trim()!==""?pe.newOrder(x,{orderID:`${Math.ceil(ie(1e5,999999))}-${le(2,!0)}`,info:K,total:k,extra:R,items:j}).then(r=>{r.success?(u(m(r.message,!1,10)),q(),b(0),h(!1)):(u(m(r.message,!1,10)),h(!1))}).catch(r=>{r.response&&r.response.data&&r.response.data.message?u(m(r.response.data.message,!0,8)):u(m(r.message,!0,8)),h(!1)}):(u(m(s("PleaseFillInTheFields"),!0,8)),h(!1)):(u(m(`${s("Remember")}: ${s("TermsOfService")}`,!0,8)),h(!1)):(u(m(`${s("Remember")}: ${s("GDPRConsent")}`,!0,8)),h(!1))},className:t["cart-form"],children:[j.map((a,r)=>e.jsxs("div",{className:t.wrap,children:[e.jsxs("h2",{children:[e.jsxs("span",{children:[r+1,". "]}),e.jsx("span",{children:a.name})]}),e.jsx("p",{children:oe(a.description)}),e.jsx(se,{type:a.id,language:x,styles:t,isOpen:!0,setIsFormOpen:()=>{},classNameWrap:t["additional-info-wrap"],text:s("Includes")}),e.jsxs("div",{className:`${t.quantity}`,children:[a.id!=="misc-quote"?e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",onClick:()=>{if(a.quantity-1<1)if(window.confirm(`${s("Remove")}: ${a.name}?`)){C(a.id);return}else return;$(a,-1)},className:`tooltip-wrap ${t["quantity-btn"]}`,children:[e.jsx("span",{className:"tooltip above space right narrow2",children:s("SubtractFromCart")}),e.jsx("span",{children:"-1"})]}),e.jsxs("span",{children:[s("Quantity"),": ",a.quantity]}),e.jsxs("button",{type:"button",onClick:()=>{$(a,1)},className:`tooltip-wrap ${t["quantity-btn"]}`,children:[e.jsx("span",{className:"tooltip above space right narrow2",children:s("AddToCart")}),e.jsx("span",{children:"+1"})]})]}):e.jsx("button",{type:"button",onClick:()=>{if(a.quantity-1<1)if(window.confirm(`${s("Remove")}: ${a.name}?`)){C(a.id);return}else return;$(a,-1)},children:e.jsx("span",{children:s("Remove")})}),a.quantity>=I?e.jsxs("span",{children:[s("Total"),": ",a.quantity+N," ",s("Hours")]}):a.quantity>=_?e.jsxs("span",{children:[s("Total"),": ",a.quantity+ee," ",s("Hours")]}):""]}),a.id!=="misc-quote"?e.jsx(e.Fragment,{children:e.jsxs("p",{children:[s("Price"),": ",a.price," € × ",a.quantity," ="," ",e.jsxs("b",{children:[a.price*a.quantity," €"]})]})}):e.jsxs("p",{children:[s("Price"),": ",a.price," €"," "]}),a.id.startsWith("misc")&&a.quantity>=_&&e.jsx("p",{children:e.jsxs("big",{children:[e.jsx(me,{})," ",e.jsx("span",{children:s("FreeHourUnlocked")})," ",a.quantity>=I?e.jsxs(e.Fragment,{children:[e.jsxs("strong",{children:[" × ",N," "]}),e.jsx("span",{children:"—"})," ",e.jsx("span",{children:s("SaveTheFollowingAmountOfMoney")}),e.jsxs("strong",{children:[" ",a.price*N," € "]})]}):a.quantity>=_?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:" —"})," ",e.jsx("span",{children:s("SaveTheFollowingAmountOfMoney")}),e.jsxs("strong",{children:[" ",a.price," € "]})]}):""]})}),e.jsx("div",{className:t["item-details"],children:e.jsx("div",{className:`${t["textarea-wrap"]} textarea-wrap`,children:e.jsxs("label",{htmlFor:`${a.id}-details`,children:[e.jsxs("span",{children:[s("RequestsAndNeeds"),":"]}),e.jsx("textarea",{rows:5,required:!0,id:`details-${a.id}`,name:`details-${a.id}`,placeholder:a.id.startsWith("misc")&&a.id!=="misc-quote"?s("AdditionalInformation"):s("RequestsIdeasAndLinksForInspiration"),onChange:ae=>{J(a.id,ae.target.value)}})]})})})]},`${a.id}-${r}`)),j.length>0?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:t.total,children:e.jsx("big",{children:e.jsxs("span",{children:[s("Total"),": ",k," €"," "]})})}),e.jsxs("div",{className:`${t["please-fill"]}`,children:[e.jsx("div",{className:`${t["toggle-wrap"]}`,children:e.jsx(ue,{id:"business-toggle",className:`${t.toggle}`,name:"company",on:s("Yes"),off:s("No"),equal:!0,isChecked:y,handleToggleChange:()=>H(!y),label:`${s("CompanyOrAssociation")}: `})}),y?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"business-id",children:[e.jsx("input",{type:"text",name:"business-id",id:"business-id",required:!0,value:f,placeholder:s("BusinessID"),onChange:a=>G(a.target.value)}),e.jsxs("span",{children:[s("BusinessID"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"company-name",children:[e.jsx("input",{type:"text",id:"company-name",name:"company",required:!0,value:v,placeholder:`${s("CompanyName")}/${s("AssociationName")}`,onChange:a=>M(a.target.value)}),e.jsxs("span",{children:[s("Company"),"/",s("Association"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"name-cart",children:[e.jsx("input",{type:"text",id:"name-cart",name:"name",required:!0,value:l,placeholder:s("ContactPerson"),onChange:a=>F(a.target.value)}),e.jsxs("span",{children:[s("ContactPerson"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"email-cart",children:[e.jsx("input",{type:"email",name:"email",id:"email-cart",required:!0,value:i,placeholder:s("EmailAddress"),onChange:a=>A(a.target.value)}),e.jsxs("span",{children:[s("Email"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"address-cart",children:[e.jsx("input",{type:"text",id:"address-cart",name:"address",required:!0,value:c,placeholder:s("BillingAddress"),onChange:a=>P(a.target.value)}),e.jsxs("span",{children:[s("BillingAddress"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"zip-cart",children:[e.jsx("input",{type:"text",id:"zip-cart",name:"postal-code",required:!0,value:p,placeholder:s("PostalCode"),onChange:a=>S(a.target.value),onKeyDown:a=>{!/[0-9]/.test(a.key)&&a.key!=="Backspace"&&a.key!=="Delete"&&a.key!=="ArrowLeft"&&a.key!=="ArrowRight"&&a.key!=="Tab"&&a.preventDefault()}}),e.jsxs("span",{children:[s("PostalCode"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"city-cart",children:[e.jsx("input",{id:"city-cart",type:"text",name:"city",required:!0,value:d,placeholder:s("City"),onChange:a=>D(a.target.value)}),e.jsxs("span",{children:[s("City"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"country-cart",children:[e.jsx("input",{type:"text",id:"country-cart",name:"country",required:!0,value:o,placeholder:s("Country"),onChange:a=>T(a.target.value)}),e.jsxs("span",{children:[s("Country"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder not-required ${w&&w.trim()!==""?"filled":"not-filled"}`,children:e.jsxs("label",{htmlFor:"phone-cart",children:[e.jsx("input",{type:"text",id:"phone-cart",name:"phone",value:w,placeholder:s("Phone"),onChange:a=>z(a.target.value),onKeyDown:a=>{!/[0-9]/.test(a.key)&&a.key!=="Backspace"&&a.key!=="Delete"&&a.key!=="ArrowLeft"&&a.key!=="ArrowRight"&&a.key!=="Tab"&&a.key!==" "&&a.preventDefault()}}),e.jsxs("span",{children:[s("Phone")," (",s("Optional").toLowerCase(),"):"]})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"name-cart",children:[e.jsx("input",{type:"text",id:"name-cart",name:"name",required:!0,value:l,placeholder:s("PrivatePerson"),onChange:a=>F(a.target.value)}),e.jsxs("span",{children:[s("Name"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"email-cart",children:[e.jsx("input",{type:"email",name:"email",id:"email-cart",required:!0,value:i,placeholder:s("EmailAddress"),onChange:a=>A(a.target.value)}),e.jsxs("span",{children:[s("Email"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"address-cart",children:[e.jsx("input",{type:"text",id:"address-cart",name:"address",required:!0,value:c,placeholder:s("BillingAddress"),onChange:a=>P(a.target.value)}),e.jsxs("span",{children:[s("BillingAddress"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"zip-cart",children:[e.jsx("input",{type:"text",name:"postal-code",id:"zip-cart",required:!0,value:p,placeholder:s("PostalCode"),onChange:a=>S(a.target.value),onKeyDown:a=>{!/[0-9]/.test(a.key)&&a.key!=="Backspace"&&a.key!=="Delete"&&a.key!=="ArrowLeft"&&a.key!=="ArrowRight"&&a.key!=="Tab"&&a.preventDefault()}}),e.jsxs("span",{children:[s("PostalCode"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"city-cart",children:[e.jsx("input",{type:"text",id:"city-cart",name:"city",required:!0,value:d,placeholder:s("City"),onChange:a=>D(a.target.value)}),e.jsxs("span",{children:[s("City"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"country-cart",children:[e.jsx("input",{type:"text",id:"country-cart",name:"country",required:!0,value:o,placeholder:s("Country"),onChange:a=>T(a.target.value)}),e.jsxs("span",{children:[s("Country"),":"]})]})})]}),e.jsx("div",{className:`${t["textarea-wrap"]} textarea-wrap`,children:e.jsxs("label",{htmlFor:"extra",children:[e.jsxs("span",{children:[s("AdditionalInformation"),":"]}),e.jsx("textarea",{rows:5,id:"extra",value:R,placeholder:`${s("Clarifications")}${y?`, ${s("EG")} ${s("DesiredReference")}`:""}`,onChange:a=>Q(a.target.value)})]})})]}),e.jsxs("div",{className:`${t["send-order-wrap"]} flex center`,children:[e.jsx("div",{className:t.terms,children:e.jsxs("label",{children:[e.jsx("input",{id:"terms-cart",required:!0,type:"checkbox",name:"terms",onChange:a=>{V(a.target.checked)}}),e.jsxs("span",{children:[s("IAcceptThe")," ",e.jsx(E,{to:"/terms",children:s("TermsOfServiceLink")})]})]})}),e.jsx("div",{className:t.gdpr,children:e.jsxs("label",{className:"radio-checkbox",children:[e.jsx("input",{id:"gdpr-cart",required:!0,type:"checkbox",name:"gdpr",onChange:a=>{U(a.target.checked)}}),e.jsx("span",{children:s("ItIsAlrightToSendTheEnteredInformationToJenniina")})]})}),e.jsxs("button",{className:t.submit,type:"submit",disabled:X,children:[e.jsx("span",{children:s("SubmitOrder")})," ",e.jsx(xe,{})]}),e.jsx(ce,{className:"cart-accordion grayer",text:s("TermsRelatedToProducts"),language:x,wrapperClass:t["more-info-wrap"],children:e.jsx(de,{language:x})})]}),e.jsx("div",{className:`${t["clear-btn-wrap"]} flex center`,children:e.jsx("button",{type:"button",onClick:()=>{window.confirm(`${s("Remove")}: ${s("Cart")}?`)&&(q(),b(0))},className:"danger delete",children:s("ClearCart")})})]}):e.jsx(e.Fragment,{children:e.jsxs("p",{className:"flex center",children:["[ ",s("EmptyCart")," ]"]})})," "]})]})};export{Ze as default};
