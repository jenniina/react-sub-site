const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CardTypeButton-B-DJLOup.js","assets/react-kX_YxI4E.js","assets/dom-to-image-more-CfDXlNbO.js","assets/react-icons-DhcENkY1.js","assets/index-De2CRixK.js","assets/react-dom-B5MLDbn_.js","assets/scheduler-CzFDRTuY.js","assets/react-redux-BEmJlIGA.js","assets/hoist-non-react-statics-DQogQWOa.js","assets/react-is-DUDD-a5e.js","assets/use-sync-external-store-BPp6CH6k.js","assets/@reduxjs-DhFEcpJw.js","assets/immer-C0GRqQ_d.js","assets/redux-CE3tqztX.js","assets/@babel-DF5_wy6Y.js","assets/redux-thunk-CY0Q9z1Q.js","assets/axios-CCb-kr4I.js","assets/react-router-dom-StiqOUIT.js","assets/react-router-DUuhLvki.js","assets/@remix-run-DTnHqtaE.js","assets/index-v7Vbp00O.css","assets/GridSizeButton-CI4S06Up.js","assets/PlayerAmountButton-CkZfjRh1.js","assets/GameGrid-DMSIEbOF.js"])))=>i.map(i=>d[i]);
import{L as _e,_ as Q,u as De,K as Le,l as Ae,q as ce,j as Ie,e as G,M as Oe,A as Te}from"./index-De2CRixK.js";import{r as l,j as e}from"./react-kX_YxI4E.js";import{D as J,E as Me,J as Be,K as Re,L as Ue,N as Ge,O as Ke,Q as We,S as qe,U as Ve,V as Ye,W as Je,X as Qe,Y as Xe,Z as Ze,_ as es,$ as ss,a0 as as,a1 as ts,a2 as rs,a3 as ns,a4 as is,a5 as cs,a6 as os,a7 as ls,a8 as ds,a9 as hs,aa as ms,ab as fe,ac as us,ad as xs,ae as ps,af as gs,ag as js,ah as _s,ai as fs,aj as ys,ak as vs,al as Es,am as Ss,an as $s,ao as bs,ap as Fs,aq as Ns,ar as ws,as as zs,at as Cs,au as Hs,av as Ps,aw as ks,ax as Ds,j as Ls,ay as As,az as Is,aA as Os,aB as Ts}from"./react-icons-DhcENkY1.js";import{a as I}from"./axios-CCb-kr4I.js";import{a as Ms}from"./react-redux-BEmJlIGA.js";const Bs="_sectioncard_zxrpy_21",Rs="_game_zxrpy_53",Us="_container_zxrpy_69",Gs="_modal_zxrpy_71",Ks="_settings_zxrpy_85",Ws="_size8_zxrpy_129",qs="_size10_zxrpy_131",Vs="_light_zxrpy_183",Ys="_grid_zxrpy_121",Js="_card_zxrpy_229",Qs="_flipped_zxrpy_289",Xs="_front_zxrpy_289",Zs="_flip_zxrpy_289",ea="_back_zxrpy_301",sa="_header_zxrpy_497",aa="_time_zxrpy_865",ta="_select_zxrpy_937",ra="_active_zxrpy_1083",na="_finish_zxrpy_1225",ia="_close_zxrpy_1261",ca="_big_zxrpy_1275",h={"game-container":"_game-container_zxrpy_1",sectioncard:Bs,game:Rs,container:Us,modal:Gs,settings:Ks,"player-names-wrap":"_player-names-wrap_zxrpy_111","grid-wrap":"_grid-wrap_zxrpy_121",size8:Ws,size10:qs,light:Vs,grid:Ys,card:Js,flipped:Qs,front:Xs,flip:Zs,back:ea,"flip-back":"_flip-back_zxrpy_1","flipped-over":"_flipped-over_zxrpy_313",header:sa,"game-over":"_game-over_zxrpy_513","high-scores":"_high-scores_zxrpy_525","new-score":"_new-score_zxrpy_637","title-svg":"_title-svg_zxrpy_787","title-icon":"_title-icon_zxrpy_795","time-wrap":"_time-wrap_zxrpy_865",time:aa,"delete-btn":"_delete-btn_zxrpy_907","delete-name-form":"_delete-name-form_zxrpy_915",select:ta,"player-names":"_player-names_zxrpy_111","set-card-type":"_set-card-type_zxrpy_961","set-players":"_set-players_zxrpy_979","set-grid":"_set-grid_zxrpy_981",active:ra,"set-handedness":"_set-handedness_zxrpy_1097",finish:na,"edit-wrap":"_edit-wrap_zxrpy_1231",close:ia,big:ca};var C=(n=>(n.letters="letters",n.numbers="numbers",n.icons="icons",n))(C||{}),B=(n=>(n.solo="solo",n.duet="duet",n))(B||{});const oa=(n,s)=>{const[_,g]=l.useState(0),R=l.useCallback(()=>{g(0)},[]);return l.useEffect(()=>{let k;if(n){g(0);const w=100,v=.1;k=setInterval(()=>{g(K=>{const T=K+v;return parseFloat(T.toFixed(1))})},w)}return()=>{k&&clearInterval(k)}},[n,s]),{timer:_,resetTimer:R}},la="http://localhost:4000",O=`${la}/api/highscores`,da=async(n,s)=>(await I.post(`${O}/${n}/key/${s.levelKey}`,s)).data,ha=async(n,s)=>(await I.get(`${O}/${n}/key/${s}`)).data,ma=async n=>(await I.get(`${O}/${n}`)).data,ua=async(n,s)=>(await I.delete(`${O}/${n}/id/${s}`)).data,xa=async(n,s,_)=>(await I.put(`${O}/${n}/id/${s._id}?userID=${_}`,s)).data,pa=async(n,s,_)=>(await I.delete(`${O}/${n}/player/${s}?userID=${_}`)).data,ga=async(n,s)=>(await I.post(`${O}/${n}/cleanup/${s}`)).data,ja=async(n,s,_,g)=>(await I.put(`${O}/${n}/player?userID=${g}`,{oldName:s,newName:_})).data,M={addHighScore:da,getHighScoresByLevel:ha,getAllHighScores:ma,deleteHighScore:ua,updateHighScore:xa,deleteHighScoresByPlayerName:pa,changePlayerName:ja,cleanUpHighScores:ga},pe=localStorage.getItem("AppLanguage"),A=pe?pe.replace(/"/g,""):"en",_a=()=>{const{t:n}=l.useContext(_e),[s,_]=l.useState({}),[g,R]=l.useState(!0),[k,w]=l.useState(null);l.useEffect(()=>{(async()=>{try{const o=await M.getAllHighScores(A),r={};o.forEach(i=>{const[c,...y]=i.levelKey.split("_"),d=y.join("_");r[c]||(r[c]={}),r[c][d]||(r[c][d]=[]),r[c][d].push(i)}),Object.keys(r).forEach(i=>{Object.keys(r[i]).forEach(c=>{r[i][c]=r[i][c].sort((y,d)=>y.time-d.time).slice(0,5)})}),_(r)}catch(o){console.error(n("EErrorRetrievingHighScores"),o),w(n("EErrorRetrievingHighScores"))}finally{R(!1)}})()},[A]);const v=async f=>{try{const o=await M.addHighScore(A,f);if(o.highScore){const[r,...i]=o.highScore.levelKey.split("_"),c=i.join("_");return _(y=>{const d={...y};d[r]||(d[r]={}),d[r][c]||(d[r][c]=[]);const j=d[r][c]||[],z=j.findIndex(F=>{var P;return F._id===((P=o.highScore)==null?void 0:P._id)});let S;return z!==-1?(S=[...j],o.highScore&&(S[z]=o.highScore)):o.highScore?S=[...j,o.highScore]:S=[...j],S=S.sort((F,P)=>F.time-P.time).slice(0,5),d[r][c]=S,d}),await N(),o.highScore}else return}catch{w("Failed to add high score.");return}},K=async f=>{try{const o=await M.getHighScoresByLevel(A,f);return o.sort((r,i)=>r.time-i.time),o.slice(0,5)}catch(o){return console.error(n("EErrorRetrievingHighScores"),o),w(n("EErrorRetrievingHighScores")),[]}},T=async f=>{try{const o=await M.deleteHighScore(A,f);o.success?_(r=>{const i={};return Object.keys(r).forEach(c=>{i[c]={...r[c]},Object.keys(i[c]).forEach(y=>{i[c][y]=i[c][y].filter(d=>d._id!==f)})}),i}):console.error(n("EErrorDeletingHighScore"),o.message)}catch(o){console.error(n("EErrorDeletingHighScore"),o),w(n("EErrorDeletingHighScore"))}},$=async(f,o)=>{try{const r=await M.updateHighScore(A,f,o);if(r.success&&r.highScore){const i=r.highScore,[c,...y]=i.levelKey.split("_"),d=y.join("_");_(j=>{j[c]||(j[c]={}),j[c][d]||(j[c][d]=[]);const z=j[c][d]||[],S=z.findIndex(F=>F._id===i._id);if(S!==-1){const F=[...z];F[S]=i;const P=F.sort((ee,q)=>ee.time-q.time).slice(0,5);return{...j,[c]:{...j[c],[d]:P}}}return j}),console.log(n("EHighScoreUpdatedSuccessfully"))}else console.error(n("EErrorUpdatingHighScore"),r.message)}catch(r){console.error(n("EErrorUpdatingHighScore"),r),w(n("EErrorUpdatingHighScore"))}},X=async(f,o)=>{try{const r=await M.deleteHighScoresByPlayerName(A,f,o);r.success?_(i=>{const c={};return Object.keys(i).forEach(y=>{c[y]={},Object.keys(i[y]).forEach(d=>{c[y][d]=i[y][d].filter(j=>!j.players.some(z=>z.name===f))})}),c}):console.error(n("EErrorDeletingHighScore"),r.message)}catch(r){console.error(n("EErrorDeletingHighScore"),r),w(n("EErrorDeletingHighScore"))}},Z=f=>{const r=[...f.players].sort((i,c)=>i.name.localeCompare(c.name)).map(i=>`${i.name}:${i.score}`).join("-");return`${f.levelKey}_${f.time}-${r}`},N=async()=>{const f=Object.values(s).flatMap(r=>Object.values(r)).flat(),o={};f.forEach(r=>{const i=Z(r);o[i]||(o[i]=[]),o[i].push(r)});for(const r in o){const i=o[r];if(i.length>1){i.sort((d,j)=>new Date(j.createdAt??0).getTime()-new Date(d.createdAt??0).getTime());const[c,...y]=i;for(const d of y)d._id&&await T(d._id)}}};return{highScores:s,addHighScore:v,getHighScoresByLevel:K,deleteHighScore:T,updateHighScore:$,deleteHighScoresByPlayerName:X,changePlayerName:async(f,o,r)=>{try{await M.changePlayerName(A,f,o,r),_(i=>{const c={};return Object.keys(i).forEach(y=>{c[y]={},Object.keys(i[y]).forEach(d=>{c[y][d]=i[y][d].map(j=>{const z=j.players.map(S=>S.name===f?{...S,name:o}:S);return{...j,players:z}})})}),c})}catch(i){console.error("Failed to change player name.",i)}},loading:g,error:k}},ge=l.memo(({timer:n})=>e.jsxs("span",{children:[n.toFixed(1),"s"]})),fa=l.lazy(()=>Q(()=>import("./CardTypeButton-B-DJLOup.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]))),ya=l.lazy(()=>Q(()=>import("./GridSizeButton-CI4S06Up.js"),__vite__mapDeps([21,1,2,4,5,6,7,8,9,10,11,12,13,14,15,16,3,17,18,19,20]))),va=l.lazy(()=>Q(()=>import("./PlayerAmountButton-CkZfjRh1.js"),__vite__mapDeps([22,1,2,4,5,6,7,8,9,10,11,12,13,14,15,16,3,17,18,19,20]))),Ea=l.lazy(()=>Q(()=>import("./GameGrid-DMSIEbOF.js"),__vite__mapDeps([23,1,2,4,5,6,7,8,9,10,11,12,13,14,15,16,3,17,18,19,20]))),je=[e.jsx(Re,{}),e.jsx(Ue,{}),e.jsx(Ge,{}),e.jsx(Ke,{}),e.jsx(We,{}),e.jsx(qe,{}),e.jsx(Ve,{}),e.jsx(Ye,{}),e.jsx(Je,{}),e.jsx(Qe,{}),e.jsx(Xe,{}),e.jsx(Ze,{}),e.jsx(es,{}),e.jsx(ss,{}),e.jsx(as,{}),e.jsx(ts,{}),e.jsx(rs,{}),e.jsx(ns,{}),e.jsx(is,{}),e.jsx(cs,{}),e.jsx(os,{}),e.jsx(ls,{}),e.jsx(ds,{}),e.jsx(hs,{}),e.jsx(ms,{}),e.jsx(fe,{}),e.jsx(us,{}),e.jsx(xs,{}),e.jsx(ps,{}),e.jsx(gs,{}),e.jsx(js,{}),e.jsx(_s,{}),e.jsx(fs,{}),e.jsx(ys,{}),e.jsx(vs,{}),e.jsx(Es,{}),e.jsx(Ss,{}),e.jsx($s,{}),e.jsx(bs,{}),e.jsx(Fs,{}),e.jsx(Ns,{}),e.jsx(ws,{}),e.jsx(zs,{}),e.jsx(Cs,{}),e.jsx(Hs,{}),e.jsx(Ps,{}),e.jsx(ks,{}),e.jsx(Ds,{}),e.jsx(Ls,{}),e.jsx(As,{}),e.jsx(Is,{})],Sa=["solo","duet"],$a=({language:n})=>{const{t:s}=l.useContext(_e),_=De(),g=Ms(a=>{var t;return(t=a.auth)==null?void 0:t.user}),{show:R}=Le(),k=Ae();l.useEffect(()=>{},[]);const w=[{value:C.icons,label:s("EIcons")},{value:C.numbers,label:s("ENumbers")},{value:C.letters,label:s("ELetters")}],[v,K]=ce("memoryCardType",w[0]),T=[{value:4,icon:"4 × 4",label:`${s("EBeginner")}`},{value:6,icon:"6 × 6",label:`${s("EUsual")}`},{value:8,icon:"8 × 8",label:`${s("EAdvanced")}`},{value:10,icon:"10 × 10",label:`${s("EExpert")}`}],[$,X]=ce("memoryGrid",T[1]),Z=[1,2],[N,W]=ce("memoryPlayers",[{id:1,name:`${s("EPlayer")} 1`,score:0}]),[f,o]=l.useState(""),[r,i]=l.useState(0),[c,y]=l.useState([]),[d,j]=l.useState([]),[z,S]=l.useState([]),[F,P]=l.useState([]),[ee,q]=l.useState(!1),[D,se]=l.useState(!1),[ye,oe]=l.useState(!1),{timer:ae,resetTimer:ve}=oa(ye,"1ms"),{highScores:V,addHighScore:Ee,deleteHighScore:Se,updateHighScore:ba,deleteHighScoresByPlayerName:$e,changePlayerName:be,loading:te,error:Y}=_a(),[Fe,le]=l.useState(!1),[re,Ne]=l.useState(!1),[de,we]=l.useState(null),{windowWidth:U}=Ie(),he=()=>{let a=[];const t=$?Number($.value)*Number($.value)/2:0;if((v==null?void 0:v.value)===C.letters){const u=Array.from({length:t},(p,x)=>{const b=65+x%26;return Math.floor(x/26)%2===0?String.fromCharCode(b):String.fromCharCode(b+32)});a=[...u,...u]}else if((v==null?void 0:v.value)===C.numbers){const u=Array.from({length:t},(p,x)=>x.toString());a=[...u,...u]}else if((v==null?void 0:v.value)===C.icons){const p=[...je].sort(()=>Math.random()-.5).slice(0,t);a=[...p,...p]}const m=a.map((u,p)=>({value:u,id:p})).sort(()=>Math.random()-.5).slice(0,$?Number($.value)*Number($.value):0);y(m),j([]),P([]),se(!0),oe(!0),ve(),W(u=>u.map(p=>({...p,score:0}))),i(0),le(!1)},me=(a,t,m)=>`${m}_${a}x${a}_${t}`,ze=async()=>{le(!0),se(!1);const a=N.length===1?"solo":"duet",m={levelKey:me(Number($.value),v.value,a),time:ae,players:N,size:Number($.value),type:v.value},u=await Ee(m);u&&(we(u._id||null),Ne(!0)),S([])};l.useEffect(()=>{if(re){const a=N.length===1?"solo":"duet",t=me(Number($.value),v.value,a);setTimeout(()=>{const[m,...u]=t.split("_");u.join("_"),R({title:s("EYouMadeItToTheHighScores"),className:"",children:e.jsxs("div",{id:"high-scores",className:`${h.modal} ${k?h.light:""}`,children:[e.jsx("h3",{children:s("EYouMadeItToTheHighScores")}),e.jsx("div",{className:`${h["high-scores"]}`,children:(()=>{const p=N.length===1?B.solo:B.duet;let x="";return p===B.solo?x=s("ESolo"):p===B.duet&&(x=s("EDuet")),e.jsxs(e.Fragment,{children:[e.jsx("h4",{children:x},p),te&&e.jsxs("p",{className:"flex center margin0auto textcenter",children:[s("ELoading"),"..."]}),Y&&e.jsxs("p",{children:[Y," — ",s("ETryWithADifferentBrowser")]}),Object.keys(V[p]||{}).sort().map(b=>{var E,L;return e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("h5",{children:ue(`${b}`)}),e.jsx("ol",{children:(L=(E=V[p])==null?void 0:E[b])==null?void 0:L.map((H,ne)=>e.jsx("li",{className:H._id===de?h["new-score"]:"",children:e.jsxs("div",{children:[e.jsx("span",{children:H.players.map(ie=>e.jsxs("span",{children:[ie.name,": ",ie.score," "]},ie.id))}),e.jsxs("i",{className:h.time,children:[H.time.toFixed(1),"s"]})]})},H._id||`${ne}-${H.time.toFixed(1)}`))})]})},`${p}-${b}`)})]})})()})]})})},0)}else re||G(s("EGoodJob"),!1,5)},[V,re,de,te,Y]);const Ce=a=>{if(!(ee||d.includes(a)||F.includes(a))&&(j(t=>[...t,a]),d.length===1)){q(!0);const t=d[0],m=a,u=c[t],p=c[m];u.value===p.value?(P(x=>[...x,t,m]),W(x=>x.map((b,E)=>E===r?{...b,score:b.score+1}:b)),j([]),q(!1)):setTimeout(()=>{j([]),S(x=>[...x,t,m]),q(!1),i(x=>(x+1)%N.length)},800)}};l.useEffect(()=>{D&&F.length===c.length&&c.length>0&&!Fe&&(oe(!1),setTimeout(()=>{ze()},1e3))},[D,F,c]);const He=a=>(v==null?void 0:v.value)===C.icons?a.value:e.jsx("span",{children:a.value}),Pe=(a,t)=>{if(/[^\p{L}0-9 ]/gu.test(t)){_(G(s("ESpecialCharactersNotAllowed"),!0,5));return}const p=t.replace(/[^\p{L}0-9 ]/gu,"").trim();W(x=>x.map((b,E)=>E===a?{...b,name:p||`${s("EPlayer")} ${E+1}`}:b))},ke=a=>{W(t=>Array.from({length:a},(u,p)=>{const x=t[p];return x?{...x,id:p+1}:{id:p+1,name:`${s("EPlayer")} ${p+1}`,score:0}})),i(0)};l.useEffect(()=>{const a=je.map(m=>m.type.displayName||m.type.name),t=a.filter((m,u)=>a.indexOf(m)!==u);t.length>0&&console.log("Duplicate Icons Found:",t)},[]);const ue=a=>{const t=a.split("_");let m="",u=e.jsx(e.Fragment,{});return t[1]===C.numbers?(u=e.jsx("span",{className:h["title-svg"],children:e.jsx(Os,{"aria-hidden":"true"})}),m=s("ENumbers")):t[1]===C.letters?(u=e.jsx("span",{className:h["title-svg"],children:e.jsx(Ts,{"aria-hidden":"true"})}),m=s("ELetters")):t[1]===C.icons&&(u=e.jsx("span",{className:h["title-icon"],children:e.jsx(fe,{"aria-hidden":"true"})}),m=s("EIcons")),e.jsxs(e.Fragment,{children:[t[0]," ",u," ",e.jsx("br",{}),m]})};l.useEffect(()=>{D&&Oe("game")},[D]);const xe=15;return e.jsxs("div",{id:h["game-container"],className:`${h.container} ${k?h.light:""}`,children:[!D&&F.length===c.length&&c.length>0&&e.jsx("section",{className:`card ${h.sectioncard}`,children:e.jsx("div",{children:e.jsxs("div",{className:h["game-over"],children:[e.jsx("h2",{children:s("EDone")}),e.jsxs("p",{children:[s("ETimeTaken"),": ",e.jsx(ge,{timer:ae})]}),e.jsxs("div",{children:[e.jsxs("h3",{children:[s("EScores"),":"]}),N.map(a=>e.jsxs("p",{children:[a.name,": ",a.score]},a.id))]}),e.jsx("button",{onClick:he,children:s("EPlayAgain")})]})})}),!D&&e.jsx("section",{className:`card ${h.sectioncard}`,children:e.jsx("div",{children:e.jsxs("div",{id:"settings",className:h.settings,children:[e.jsx("h2",{className:"scr",children:s("ESettings")}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("h3",{children:s("ECardType")}),e.jsx("div",{className:h["set-card-type"],children:w.map((a,t)=>e.jsx(l.Suspense,{fallback:e.jsxs("div",{className:"flex center margin0auto textcenter",children:[s("ELoading"),"..."]}),children:e.jsx(fa,{option:a,isActive:(v==null?void 0:v.value)===a.value,onClick:()=>K(a)},a.value)},t))})]}),e.jsxs("div",{children:[e.jsx("h3",{children:s("EGridSize")}),e.jsx("div",{className:h["set-grid"],children:T.map((a,t)=>e.jsx(l.Suspense,{fallback:e.jsxs("div",{className:"flex center margin0auto textcenter",children:[s("ELoading"),"..."]}),children:e.jsx(ya,{option:a,isActive:($==null?void 0:$.value)===a.value,onClick:()=>X(a)},a.value)},t))})]}),e.jsxs("div",{className:h["player-names-wrap"],children:[e.jsx("h3",{children:s("EPlayers")}),e.jsx("div",{className:h["set-players"],children:e.jsx(e.Fragment,{children:Z.map((a,t)=>e.jsx(l.Suspense,{fallback:e.jsxs("div",{className:"flex center margin0auto textcenter",children:[s("ELoading"),"..."]}),children:e.jsx(va,{language:n,value:a,isActive:N.length===a,onClick:()=>ke(a)},a)},t))})}),e.jsxs("div",{className:h["player-names"],children:[e.jsxs("small",{children:[s("EPleaseUseGoodTasteWhenChoosingYourNickname"),"."," ",s("EProfanityWillBeRemovedByTheAdmin")]}),N.map((a,t)=>e.jsxs("div",{className:"input-wrap",children:[e.jsxs("label",{children:[e.jsx("input",{type:"text",name:`player-${t}`,value:a.name,onChange:m=>Pe(t,m.target.value),maxLength:xe,placeholder:`${s("EPlayer")} ${t+1}`}),e.jsx("span",{children:`${s("EPlayer")} ${t+1} ${s("EName").toLowerCase()}:`})]}),e.jsxs("small",{children:[a.name.length,"/",xe]})]},a.id))]})]})]}),e.jsx("button",{className:h.big,onClick:he,children:s("EStartGame")})]})})}),!D&&e.jsx("section",{className:`card ${h.sectioncard} ${h["scores-wrap"]}`,children:e.jsx("div",{children:e.jsxs("div",{id:"high-scores",children:[e.jsxs("h2",{children:[U>400&&e.jsx(J,{"aria-hidden":"true",style:{transform:"scale(0.8, 0.8)"}}),s("EHighScores")," ",U>400&&e.jsx(J,{"aria-hidden":"true",style:{transform:"scale(-0.8, 0.8)"}})]}),e.jsxs("p",{className:"textcenter margin0auto",children:[U>200&&e.jsx("span",{"aria-hidden":"true",children:"— "}),s("EFastestTime"),U>200&&e.jsx("span",{"aria-hidden":"true",children:" —"})]}),e.jsx("div",{className:h["high-scores"],children:Sa.map(a=>{let t="";return a===B.solo?t=s("ESolo"):a===B.duet&&(t=s("EDuet")),e.jsxs(l.Fragment,{children:[e.jsxs("h3",{children:[U>200&&e.jsx(J,{"aria-hidden":"true",style:{transform:"scale(0.8)"}}),t,U>200&&e.jsx(J,{"aria-hidden":"true",style:{transform:"scale(-0.8)"}})]}),te&&e.jsxs("p",{className:"flex center margin0auto textcenter",children:[s("ELoading"),"..."]}),Y&&e.jsxs("p",{children:[Y," — ",s("ETryWithADifferentBrowser")]}),Object.keys(V[a]||{}).sort().map(m=>{var u,p;return e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("h4",{children:ue(`${m}`)}),e.jsx("ol",{children:(p=(u=V[a])==null?void 0:u[m])==null?void 0:p.map((x,b)=>e.jsx("li",{children:e.jsxs("div",{children:[e.jsx("span",{children:x.players.map(E=>e.jsxs(l.Fragment,{children:[e.jsxs("span",{children:[E.name," ",x.players.length>1?`: ${E.score}`:""," "]}),g&&g.role&&g.role>1&&e.jsx(Te,{hideBrackets:!0,language:n,id:`edit-${x._id}`,className:"edit",wrapperClass:`${h["edit-wrap"]}`,text:e.jsx(e.Fragment,{children:e.jsx(Me,{"aria-hidden":"true"})}),isOpen:!1,closeClass:h.close,setIsFormOpen:()=>{},tooltip:s("EEdit"),y:"above",children:e.jsx("form",{onSubmit:L=>{L.preventDefault();const H=E.name,ne=L.target.name;be(H,ne,g==null?void 0:g._id)},children:e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{children:[e.jsx("input",{type:"text",name:"name",required:!0}),e.jsxs("span",{children:[s("ENewName")," (",E.name,"):"]})]})})})})]},E.id))}),e.jsxs("span",{className:`flex ${h["time-wrap"]}`,children:[e.jsxs("i",{className:h.time,children:[x.time.toFixed(1),"s"]}),g&&g.role&&g.role>1&&e.jsx(e.Fragment,{children:e.jsxs("button",{type:"button",className:`danger small tooltip-wrap ${h["delete-btn"]}`,onClick:()=>{x._id&&window.confirm(s("EDeleteHighScore"))&&Se(x._id).catch(E=>{var L,H;console.error(E),(H=(L=E.response)==null?void 0:L.data)!=null&&H.message?_(G(E.response.data.message,!0,8)):_(G(E.message,!0,5))})},children:[e.jsx("span",{"aria-hidden":"true",children:e.jsx(Be,{"aria-hidden":"true"})}),e.jsx("span",{className:"tooltip above narrow2",children:s("EDelete")})]})})]})]})},`${a}-${m}-${b}-${x.time.toFixed(1)}`))})]})},`${a}-${m}`)})]},a)})}),g&&g.role&&g.role>1&&e.jsxs("form",{className:`${h["delete-name-form"]}`,onSubmit:a=>{a.preventDefault(),window.confirm(s("EDeletePlayersHighScores"))&&$e(f,g==null?void 0:g._id).then(()=>{o("")}).catch(t=>{var m,u;console.error(t),(u=(m=t.response)==null?void 0:m.data)!=null&&u.message?_(G(t.response.data.message,!0,8)):_(G(t.message,!0,5))})},children:[e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{children:[e.jsx("input",{type:"text",name:"name",value:f,required:!0,onChange:a=>o(a.target.value)}),e.jsxs("span",{children:[s("EName")," (",s("EPlayer"),"):"]})]})}),e.jsx("button",{type:"submit",className:"danger",children:s("EDelete")})]})]})})}),D&&e.jsx("section",{className:`card ${h.sectioncard} ${h.game}`,children:e.jsx("div",{children:e.jsxs("div",{id:"game",children:[e.jsxs("div",{className:h.header,children:[e.jsxs("div",{children:[s("ETime"),": ",e.jsx(ge,{timer:ae})]}),e.jsxs("div",{children:[s("EPlayer"),": ",N[r].name," | ",s("EScore"),":"," ",N[r].score]})]}),e.jsx(l.Suspense,{fallback:e.jsxs("div",{className:"flex center margin0auto textcenter",children:[s("ELoading"),"..."]}),children:e.jsx(Ea,{language:n,setGameStarted:se,gridSize:$.value,cards:c,cardType:v,flippedCards:d,flippedOverCards:z,matchedCards:F,handleCardClick:Ce,renderCardContent:He})})]})})})]})},Ha=Object.freeze(Object.defineProperty({__proto__:null,default:$a},Symbol.toStringTag,{value:"Module"}));export{C,Ha as M,h as s};
