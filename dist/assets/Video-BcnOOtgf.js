import{r as l,j as e}from"./react-A9DAvxly.js";import{is as C,it as p,i0 as u,ip as N,b0 as v,gx as c,iu as L}from"./index-Bhl207lb.js";import{u as P}from"./Images-BS9-bflH.js";import{Q as R,P as q,g as O}from"./poems-CyKotpPB.js";import"./hoist-non-react-statics-D5aJipOz.js";import"./react-dom-yh0erWL-.js";import"./scheduler-CzFDRTuY.js";import"./react-redux-CHm9GgGE.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-DEc9BFqZ.js";import"./@reduxjs-DhFEcpJw.js";import"./immer-C0GRqQ_d.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./axios-CCb-kr4I.js";import"./react-icons-CrVlm7qW.js";import"./react-router-dom-CYs6befe.js";import"./react-router-S1Hdk0kP.js";import"./@remix-run-DTnHqtaE.js";const Q=({video:t,language:s,searchTerm:n,textType:r})=>{const{tooltip:i,handleMouseMove:h,handleMouseLeave:f}=P(),[x,j]=l.useState({quote:"",category:"",author:""}),[w,b]=l.useState({title:"",author:"",lines:[],linecount:"0"}),m=async o=>{const a=await O(s,o);b(a[0])},d=async()=>{const o=await N(s,n);j(o)};l.useEffect(()=>{const o=Math.floor(Math.random()*5)+2;r==="poem"?m(o):r==="quote"?d():Math.floor(Math.random()*2)+1===1?m(o):d()},[s,n,r]);const M=()=>{if(window.confirm(v[s]+"?")){const o=document.createElement("a");o.href=t.videos.medium.url,o.download=`video_${t.id}.mp4`,o.target="_blank",o.rel="noreferrer",document.body.appendChild(o),o.click(),document.body.removeChild(o)}},E=o=>{const a=o.currentTarget.getBoundingClientRect(),k=o.clientX-a.left+10,y=o.clientY-a.top+10;h(k,y)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"tooltip-wrap",onMouseMove:E,onMouseLeave:f,children:[e.jsx("video",{src:Number(t.videos.large.size)>0?t.videos.large.url:t.videos.medium.url,title:t.tags,style:{width:"100%",height:"auto",maxHeight:"100%",borderRadius:"8px",cursor:"pointer"},onClick:M,controls:!0}),i.visible&&e.jsx("span",{className:"tooltip center narrow",style:{top:i.y,left:i.x,right:"unset"},children:C[s]})]}),r==="quote"?e.jsx(R,{quote:x,language:s,url:t.pageURL,title:e.jsxs(e.Fragment,{children:[p[s]," (",u[s],": ",t.user,")"]})}):e.jsx(q,{poem:w,language:s})]})},Z=({video:t,language:s,show:n,searchTerm:r,textType:i})=>e.jsxs("div",{className:`tooltip-wrap ${c["video-wrap"]}`,children:[e.jsx("img",{src:t.videos.small.thumbnail,alt:t.tags,className:`${c["video-small"]}`,style:{width:"100%",height:"auto",borderRadius:"8px",cursor:"pointer"},onClick:()=>{n({title:t.tags,className:c["video-modal"],children:e.jsx(Q,{video:t,language:s,searchTerm:r,textType:i})})}}),e.jsx("span",{className:"tooltip above narrow2",children:L[s]}),e.jsx("p",{children:e.jsx("small",{children:e.jsxs("a",{href:t.pageURL,target:"_blank",rel:"noreferrer",children:[p[s]," (",u[s],": ",t.user,")"]})})})]},t.id);export{Z as default};
