import{r as o,j as e}from"./react-kX_YxI4E.js";import{L,u as q,l as N,w as n,e as D}from"./index-kanJP55Y.js";import{c as P}from"./cart-CgS8CQgD.js";import"./dom-to-image-more-CfDXlNbO.js";import"./react-dom-B5MLDbn_.js";import"./scheduler-CzFDRTuY.js";import"./react-redux-BEmJlIGA.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-BPp6CH6k.js";import"./@reduxjs-DhFEcpJw.js";import"./immer-C0GRqQ_d.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./axios-CCb-kr4I.js";import"./react-icons-DF9X557m.js";import"./react-router-dom-StiqOUIT.js";import"./react-router-DUuhLvki.js";import"./@remix-run-DTnHqtaE.js";import"./react-helmet-async-yKbZhP8U.js";import"./react-fast-compare-DeY8XGN4.js";import"./invariant-BxDqUhCT.js";import"./shallowequal-CbQcWkYp.js";const se=({language:S,paidStatus:c,itemStatus:l,splitToLines:v,info:y})=>{var m,j,f,g;const{t}=o.useContext(L),p=q(),w=N(),[s,I]=o.useState(null),[h,u]=o.useState(""),[A,d]=o.useState(!1),x=async(r=h)=>{var i,b;d(!0);try{const a=await P.getOrderByOrderID(S,r),O={...a,createdAt:new Date(a.createdAt),updatedAt:new Date(a.updatedAt)};I(O),d(!1)}catch(a){(b=(i=a.response)==null?void 0:i.data)!=null&&b.message?p(D(a.response.data.message,!0,8)):p(D(a.message,!0,8)),d(!1)}};return o.useEffect(()=>{const i=new URLSearchParams(window.location.search).get("orderID");i&&(u(i),x(i))},[]),e.jsxs("div",{className:`${n["order-wrap"]} ${w?n.light:""}`,children:[e.jsxs("form",{onSubmit:r=>{r.preventDefault(),x()},children:[e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{children:[e.jsx("input",{type:"text",required:!0,name:"orderID",value:h,onChange:r=>u(r.target.value)}),e.jsx("span",{className:"label",children:t("OrderID")})]})}),e.jsx("button",{type:"submit",disabled:A,children:t("Submit")})]}),s&&e.jsxs("div",{children:[e.jsx("h2",{children:s.orderID}),e.jsxs("div",{className:n["order-items"],children:[(m=s.items)==null?void 0:m.map(r=>e.jsxs("div",{className:n["order-item"],children:[e.jsxs("h3",{children:[r.name,r.id==="misc-quote"?"":` x ${r.quantity}`]}),e.jsx("p",{children:r.description}),e.jsxs("p",{children:[e.jsxs("strong",{children:[t("Price"),":"]})," ",r.id==="misc-quote"?r.price+" €":r.price+" x "+r.quantity+" = "+r.quantity*r.price+" €"]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[t("Info"),":"]})," ",e.jsx("br",{})," ",v(r.details)]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[t("Status"),":"]})," ",l(r.status)," "]}),r.id==="misc-quote"?null:e.jsxs("p",{children:[e.jsxs("strong",{children:[t("PaymentState"),":"]})," ",c[r.paid]]},r.id)]},r.id))," "]}),e.jsxs("div",{className:n["info-wrap"],children:[e.jsxs("table",{className:`${n["info-table"]}`,children:[e.jsx("caption",{children:t("Info")}),e.jsx("tbody",{children:Object.keys(s.info).map(r=>{var i;return r==="_id"?null:s.info[r]!==null&&((i=s.info[r])==null?void 0:i.trim())!==""&&e.jsxs("tr",{children:[e.jsxs("th",{children:[y(r),":"]}),e.jsx("td",{children:s.info[r]})]},r)})})]}),e.jsx("p",{children:s.extra}),e.jsxs("p",{children:[t("Total"),": ",e.jsxs("big",{children:[s.total," € "]}),e.jsx("br",{})]}),e.jsxs("p",{children:[t("Status"),": ",l(s.status)]}),e.jsxs("p",{children:[t("PaymentState"),":"," ",c[s.items.every(r=>r.paid==="full")?"full":s.items.every(r=>r.paid==="none")?"none":"partial"]]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[t("Ordered"),": "]}),(j=s.createdAt)==null?void 0:j.toLocaleDateString()," ",(f=s.createdAt)==null?void 0:f.toLocaleTimeString()," ",e.jsx("br",{}),e.jsxs("strong",{children:[t("LastUpdated"),": "]}),s.updatedAt.toLocaleDateString()," ",(g=s.updatedAt)==null?void 0:g.toLocaleTimeString()]})]})]})]})};export{se as default};
