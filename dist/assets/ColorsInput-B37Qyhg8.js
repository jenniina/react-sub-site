import{r as g,j as t}from"./react-kX_YxI4E.js";import{s as m}from"./AccessibleColors-DjJzodKg.js";import{L as Q,u as X,S as Y,e as Z}from"./index-De2CRixK.js";import"./dom-to-image-more-CfDXlNbO.js";import"./react-icons-DhcENkY1.js";import"./react-router-dom-StiqOUIT.js";import"./react-router-DUuhLvki.js";import"./@remix-run-DTnHqtaE.js";import"./react-dom-B5MLDbn_.js";import"./scheduler-CzFDRTuY.js";import"./react-redux-BEmJlIGA.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-BPp6CH6k.js";import"./@reduxjs-DhFEcpJw.js";import"./immer-C0GRqQ_d.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./axios-CCb-kr4I.js";const $s=({language:M,block:r,fontSize:j,updateColor:c,width:V,hexToRGB:H,hslToRGB:I,rgbToHex:W,rgbToHSL:R})=>{const{t:L}=g.useContext(Q),U=X(),O=/^hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/i,q=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,J=/^#([0-9A-F]{3}){1,2}$/i,B=[{value:"hsl",label:"HSL"},{value:"rgb",label:"RGB"},{value:"hex",label:"Hex"}],[h,K]=g.useState(B.find(s=>s.value===r.colorFormat)||B[0]),[C,f]=g.useState(""),[u,N]=g.useState(0),[o,v]=g.useState(0),[x,y]=g.useState(0),[$,F]=g.useState(0),[d,S]=g.useState(0),[b,E]=g.useState(0);g.useEffect(()=>{switch(r.colorFormat){case"hex":{f(r.color);const{r:s,g:e,b:n}=H(r.color);N(s),v(e),y(n);const{h:a,s:i,l}=R(s,e,n);F(a),S(i),E(l);break}case"rgb":{const s=r.color.match(q);if(s){const e=Number(s[1]),n=Number(s[2]),a=Number(s[3]);N(e),v(n),y(a);const{h:i,s:l,l:p}=R(e,n,a);F(i),S(l),E(p)}break}case"hsl":{const s=r.color.match(O);if(s){const e=Number(s[1]),n=Number(s[2]),a=Number(s[3]);F(e),S(n),E(a);const{r:i,g:l,b:p}=I(e,n,a);N(i),v(l),y(p);const w=W(i,l,p);f(w)}break}}},[r.color,r.colorFormat]);const P=s=>{try{let e;if(s==="hex")if(J.test(C)){e=C.toUpperCase(),c(r.id,e,"hex");const{r:n,g:a,b:i}=H(e);N(n),v(a),y(i);const{h:l,s:p,l:w}=R(n,a,i);F(l),S(p),E(w),c(r.id,C,"hex")}else throw new Error("Invalid Hex format.");else if(s==="rgb")if(u>=0&&u<=255&&o>=0&&o<=255&&x>=0&&x<=255){e=`rgb(${u}, ${o}, ${x})`,c(r.id,e,"rgb");const n=W(u,o,x);f(n);const{h:a,s:i,l}=R(u,o,x);F(a),S(i),E(l),c(r.id,`rgb(${u}, ${o}, ${x})`,"rgb")}else throw new Error("Invalid RGB values.");else if(s==="hsl")if($>=0&&$<=360&&d>=0&&d<=100&&b>=0&&b<=100){e=`hsl(${$}, ${d}%, ${b}%)`,c(r.id,e,"hsl");const{r:n,g:a,b:i}=I($,d,b);N(n),v(a),y(i);const l=W(n,a,i);f(l),c(r.id,`hsl(${$}, ${d}%, ${b}%)`,"hsl")}else throw new Error("Invalid HSL values.");else throw new Error("Unsupported color format.")}catch(e){console.error(e.message),U(Z(L("EError")+" "+e.message,!0,4))}},D=s=>{s.preventDefault(),P(h==null?void 0:h.value)},G=(s,e)=>{s==="h"&&F(e),s==="s"&&S(e),s==="l"&&E(e);const n=s==="h"?e:$,a=s==="s"?e:d,i=s==="l"?e:b;if(n>=0&&n<=360&&a>=0&&a<=100&&i>=0&&i<=100){const{r:l,g:p,b:w}=I(n,a,i);N(l),v(p),y(w),c(r.id,`hsl(${n}, ${a}%, ${i}%)`,"hsl"),f(W(l,p,w))}},A=(s,e)=>{s==="r"&&N(e),s==="g"&&v(e),s==="b"&&y(e);const n=s==="r"?e:u,a=s==="g"?e:o,i=s==="b"?e:x;if([n,a,i].every(l=>l>=0&&l<=255)){const{h:l,s:p,l:w}=R(n,a,i);F(l),S(p),E(w),c(r.id,`rgb(${n}, ${a}, ${i})`,"rgb"),f(W(n,a,i))}};return t.jsxs(t.Fragment,{children:[t.jsx(Y,{hideDelete:!0,id:"color-select",className:m["color-select"],language:M,instructions:L("ESelectColorFormat"),hide:!0,options:B,value:h,z:1,onChange:s=>{if(K(s),(s==null?void 0:s.value)==="hex"){const e=W(u,o,x);f(e),c(r.id,e,"hex")}else(s==null?void 0:s.value)==="rgb"?(N(u),v(o),y(x),c(r.id,`rgb(${u}, ${o}, ${x})`,"rgb")):(s==null?void 0:s.value)==="hsl"&&(F($),S(d),E(b),c(r.id,`hsl(${$}, ${d}%, ${b}%)`,"hsl"))}}),(h==null?void 0:h.value)==="hex"&&t.jsxs("form",{className:m.form,onSubmit:D,children:[t.jsx("div",{className:`${m.inputs} ${m["hex-input"]}`,children:t.jsxs("label",{children:[t.jsx("span",{children:"Hex: "}),t.jsx("input",{name:`hex-input-${r.id}`,type:"text",value:C,onChange:s=>f(s.target.value),className:m["color-input"],style:{maxWidth:`${V}`,fontSize:j},placeholder:"#FFFFFF"})]})}),t.jsx("button",{style:{minWidth:"calc(100% - 4px)",maxWidth:"calc(100% - 4px)",fontSize:j},type:"submit",className:`${m["color-format-submit"]} small gray`,children:L("ESubmit")})]}),(h==null?void 0:h.value)==="rgb"&&t.jsxs("form",{className:`${m.inputs} ${m["rgb-inputs"]}`,onSubmit:D,children:[t.jsxs("label",{children:[t.jsx("span",{children:"R: "}),t.jsx("input",{name:`r-input-${r.id}`,type:"number",value:u,onChange:s=>A("r",Number(s.target.value)),min:0,max:255,className:m["color-input"],style:{maxWidth:`${V}`,fontSize:j}})]}),t.jsxs("label",{children:[t.jsx("span",{children:"G: "}),t.jsx("input",{name:`g-input-${r.id}`,type:"number",value:o,onChange:s=>A("g",Number(s.target.value)),min:0,max:255,className:m["color-input"],style:{maxWidth:`${V}`,fontSize:j}})]}),t.jsxs("label",{children:[t.jsx("span",{children:"B: "}),t.jsx("input",{name:`b-input-${r.id}`,type:"number",value:x,onChange:s=>A("b",Number(s.target.value)),min:0,max:255,className:m["color-input"],style:{maxWidth:`${V}`,fontSize:j}})]})]}),(h==null?void 0:h.value)==="hsl"&&t.jsxs("form",{className:`${m.inputs} ${m["hsl-inputs"]}`,onSubmit:D,children:[t.jsxs("label",{children:[t.jsx("span",{children:"H: "}),t.jsx("input",{name:`h-input-${r.id}`,type:"number",value:$,onChange:s=>G("h",Number(s.target.value)),min:0,max:360,className:m["color-input"],style:{maxWidth:`${V}`,fontSize:j}})]}),t.jsxs("label",{children:[t.jsx("span",{children:"S: "}),t.jsx("input",{name:`s-input-${r.id}`,type:"number",value:d,onChange:s=>G("s",Number(s.target.value)),min:0,max:100,className:m["color-input"],style:{maxWidth:`${V}`,fontSize:j}})]}),t.jsxs("label",{children:[t.jsx("span",{children:"L: "}),t.jsx("input",{name:`l-input-${r.id}`,type:"number",value:b,onChange:s=>G("l",Number(s.target.value)),min:0,max:100,className:m["color-input"],style:{maxWidth:`${V}`,fontSize:j}})]})]})]})};export{$s as default};
