import{r as _,j as t}from"./react-A9DAvxly.js";import{K as Ve,S as Be,f3 as st,f4 as nt,W as he,bd as we,u as pe,f5 as Me,f6 as ve,f7 as He,f8 as ye,f9 as _e,fa as lt,c$ as at,fb as it,fc as ct,fd as mt,fe as dt,ff as ut,fg as ht,fh as pt,fi as gt,fj as ft,fk as xt,fl as $t,z as At,A as Ct,fm as bt,fn as _t,ap as wt,fo as vt,fp as yt,fq as jt,fr as Nt,fs as Rt,ft as Et,fu as It,fv as Tt,fw as We,d9 as St,fx as Ft,fy as Ut,ax as Dt,ay as Ot,fz as kt,fA as Lt,fB as Mt,fC as Wt,bC as Ge,Y as de}from"./index-DqyI83MJ.js";import{a2 as Je,a3 as Gt,a4 as Jt}from"./react-icons-BXtkaQB_.js";import"./hoist-non-react-statics-D5aJipOz.js";import"./react-dom-yh0erWL-.js";import"./scheduler-CzFDRTuY.js";import"./react-redux-CHm9GgGE.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-DEc9BFqZ.js";import"./@reduxjs-DhFEcpJw.js";import"./immer-C0GRqQ_d.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./axios-CCb-kr4I.js";import"./react-router-dom-CYs6befe.js";import"./react-router-S1Hdk0kP.js";import"./@remix-run-DTnHqtaE.js";const Vt="_light_159i2_39",Bt="_drag_159i2_221",Ht="_overflow_159i2_235",Pt="_indicator_159i2_343",zt="_tooltip_159i2_343",Kt="_form_159i2_511",qt="_remove_159i2_539",Xt="_inputs_159i2_569",d={"color-container":"_color-container_159i2_1",light:Vt,"color-picker":"_color-picker_159i2_57","width-wrap":"_width-wrap_159i2_109","btn-wrap":"_btn-wrap_159i2_123","info-wrap":"_info-wrap_159i2_141","color-blocks":"_color-blocks_159i2_189",drag:Bt,overflow:Ht,"block-wrap":"_block-wrap_159i2_243","color-wrap":"_color-wrap_159i2_261","color-block":"_color-block_159i2_189","compliance-indicators":"_compliance-indicators_159i2_321",indicator:Pt,tooltip:zt,"indicator-aaa":"_indicator-aaa_159i2_373","indicator-null":"_indicator-null_159i2_381","compliance-info":"_compliance-info_159i2_389","toggle-controls":"_toggle-controls_159i2_397","color-edit-container":"_color-edit-container_159i2_427","color-select":"_color-select_159i2_429","mode-container":"_mode-container_159i2_485",form:Kt,"color-format-submit":"_color-format-submit_159i2_537",remove:qt,"color-name":"_color-name_159i2_553",inputs:Xt,"hex-input":"_hex-input_159i2_593"},Yt=(l,n)=>{const[E,L]=_.useState(!1),[V,re]=_.useState(l);_.useEffect(()=>{re(l)},[l]);const P=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",N=_.useMemo(()=>n==null?void 0:n.map(h=>`${P?"local-":""}DnD-${h}`),[n,P]),B=_.useCallback(()=>n==null?void 0:n.reduce((h,p,$)=>{const C=JSON.parse(localStorage.getItem(N[$])||"[]");return h[p]={items:C.length>0?C:l.filter(r=>r.status===p),setItems:r=>{localStorage.setItem(N[$],JSON.stringify(r)),X(A=>({...A,[p]:{...A[p],items:r}}))},removeItems:()=>{localStorage.removeItem(N[$]),X(r=>({...r,[p]:{...r[p],items:[]}}))}},h},{}),[n,N]),Y=(h,p)=>JSON.stringify(h)===JSON.stringify(p),[u,X]=_.useState(B),z=_.useRef(!0);_.useEffect(()=>{if(z.current){z.current=!1;return}n.forEach((h,p)=>{var w;const $=((w=u[h])==null?void 0:w.items)||[],C=l.filter(c=>c.status===h),r=new Map(C.map(c=>[c.id,c])),A=$.map(c=>{const F=r.get(c.id);return F&&JSON.stringify(c)!==JSON.stringify(F)?F:c}),f=new Set($.map(c=>c.id)),a=C.filter(c=>!f.has(c.id)),g=[...A,...a];Y($,g)||u[h].setItems(g)}),n.forEach((h,p)=>{var C;const $=((C=u[h])==null?void 0:C.items)||[];localStorage.setItem(N[p],JSON.stringify($))})},[l,n,N,u,Y]),_.useEffect(()=>{n.forEach((h,p)=>{var w;const $=((w=u[h])==null?void 0:w.items)||[],C=l.filter(c=>c.status===h),r=new Map(C.map(c=>[c.id,c])),A=$.map(c=>{const F=r.get(c.id);return F&&JSON.stringify(c)!==JSON.stringify(F)?F:c}),f=new Set($.map(c=>c.id)),a=C.filter(c=>!f.has(c.id)),g=[...A,...a];Y($,g)||u[h].setItems(g)}),n.forEach((h,p)=>{var C;const $=((C=u[h])==null?void 0:C.items)||[];localStorage.setItem(N[p],JSON.stringify($))})},[l,n,N,u,Y]),_.useEffect(()=>{re(n.flatMap(h=>{var p;return((p=u[h])==null?void 0:p.items)||[]}))},[u]),_.useEffect(()=>{n.forEach((h,p)=>{var C;const $=((C=u[h])==null?void 0:C.items)||[];localStorage.setItem(N[p],JSON.stringify($))})},[V,n,N,u]);const ee=_.useCallback((h,p,$)=>{var g,w,c,F,W,O,H,x,i,I;const C=(g=Object.keys(u))==null?void 0:g.find(e=>{var m,j;return(j=(m=u==null?void 0:u[e])==null?void 0:m.items)==null?void 0:j.find(y=>(y==null?void 0:y.id)===h)});if(!C)return;const r=(c=(w=u==null?void 0:u[C])==null?void 0:w.items)==null?void 0:c.find(e=>(e==null?void 0:e.id)===h),A=(W=(F=u==null?void 0:u[p])==null?void 0:F.items)==null?void 0:W.findIndex(e=>(e==null?void 0:e.id)===$);if(!r)return;r.status=p;const f=(H=(O=u==null?void 0:u[C])==null?void 0:O.items)==null?void 0:H.filter(e=>e.id!==h);(x=u==null?void 0:u[C])==null||x.setItems(f);let a=[...(i=u==null?void 0:u[p])==null?void 0:i.items];return a=a.filter(e=>e.id!==r.id),a.splice(A>=0?A:a.length,0,r),(I=u==null?void 0:u[p])==null||I.setItems(a),X(e=>({...e,[C]:{...e[C],items:f},[p]:{...e[p],items:a}})),a},[u,X]),M=_.useCallback((h,p)=>{if(h===p)return;const $=n==null?void 0:n.indexOf(h);if($===-1){console.error(`Old status "${h}" not found in statuses array`);return}const C=N[$],r=`${P?"local-":""}DnD-${p}`,A=u[h].items.map(f=>({...f,status:p}));X(f=>({...f,[h]:{...f[h],items:[]},[p]:{...f[p],items:A}})),localStorage.setItem(r,JSON.stringify(A)),localStorage.removeItem(C)},[u,N,n]);return{isDragging:E,listItemsByStatus:u,handleUpdate:ee,handleRenameStatus:M,handleDragging:h=>L(h)}},Qt=({language:l,block:n,fontSize:E,updateColor:L,width:V,hexToRGB:re,hslToRGB:P,rgbToHex:N,rgbToHSL:B})=>{const Y=Ve(),u=/^hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/i,X=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,z=/^#([0-9A-F]{3}){1,2}$/i,ee=[{value:"hsl",label:"HSL"},{value:"rgb",label:"RGB"},{value:"hex",label:"Hex"}],[M,se]=_.useState(ee.find(e=>e.value===n.colorFormat)||ee[0]),[h,p]=_.useState(""),[$,C]=_.useState(0),[r,A]=_.useState(0),[f,a]=_.useState(0),[g,w]=_.useState(0),[c,F]=_.useState(0),[W,O]=_.useState(0);_.useEffect(()=>{switch(n.colorFormat){case"hex":{p(n.color);const{r:e,g:m,b:j}=re(n.color);C(e),A(m),a(j);const{h:y,s:T,l:D}=B(e,m,j);w(y),F(T),O(D);break}case"rgb":{const e=n.color.match(X);if(e){const m=Number(e[1]),j=Number(e[2]),y=Number(e[3]);C(m),A(j),a(y);const{h:T,s:D,l:G}=B(m,j,y);w(T),F(D),O(G)}break}case"hsl":{const e=n.color.match(u);if(e){const m=Number(e[1]),j=Number(e[2]),y=Number(e[3]);w(m),F(j),O(y);const{r:T,g:D,b:G}=P(m,j,y);C(T),A(D),a(G);const te=N(T,D,G);p(te)}break}}},[n.color,n.colorFormat]);const H=e=>{try{let m;if(e==="hex")if(z.test(h)){m=h.toUpperCase(),L(n.id,m,"hex");const{r:j,g:y,b:T}=re(m);C(j),A(y),a(T);const{h:D,s:G,l:te}=B(j,y,T);w(D),F(G),O(te),L(n.id,h,"hex")}else throw new Error("Invalid Hex format.");else if(e==="rgb")if($>=0&&$<=255&&r>=0&&r<=255&&f>=0&&f<=255){m=`rgb(${$}, ${r}, ${f})`,L(n.id,m,"rgb");const j=N($,r,f);p(j);const{h:y,s:T,l:D}=B($,r,f);w(y),F(T),O(D),L(n.id,`rgb(${$}, ${r}, ${f})`,"rgb")}else throw new Error("Invalid RGB values.");else if(e==="hsl")if(g>=0&&g<=360&&c>=0&&c<=100&&W>=0&&W<=100){m=`hsl(${g}, ${c}%, ${W}%)`,L(n.id,m,"hsl");const{r:j,g:y,b:T}=P(g,c,W);C(j),A(y),a(T);const D=N(j,y,T);p(D),L(n.id,`hsl(${g}, ${c}%, ${W}%)`,"hsl")}else throw new Error("Invalid HSL values.");else throw new Error("Unsupported color format.")}catch(m){console.error(m.message),Y(he(we[l]+" "+m.message,!0,4))}},x=e=>{e.preventDefault(),H(M==null?void 0:M.value)},i=(e,m)=>{e==="h"&&w(m),e==="s"&&F(m),e==="l"&&O(m);const j=e==="h"?m:g,y=e==="s"?m:c,T=e==="l"?m:W;if(j>=0&&j<=360&&y>=0&&y<=100&&T>=0&&T<=100){const{r:D,g:G,b:te}=P(j,y,T);C(D),A(G),a(te),L(n.id,`hsl(${j}, ${y}%, ${T}%)`,"hsl"),p(N(D,G,te))}},I=(e,m)=>{e==="r"&&C(m),e==="g"&&A(m),e==="b"&&a(m);const j=e==="r"?m:$,y=e==="g"?m:r,T=e==="b"?m:f;if([j,y,T].every(D=>D>=0&&D<=255)){const{h:D,s:G,l:te}=B(j,y,T);w(D),F(G),O(te),L(n.id,`rgb(${j}, ${y}, ${T})`,"rgb"),p(N(j,y,T))}};return t.jsxs(t.Fragment,{children:[t.jsx(Be,{hideDelete:!0,id:"color-select",className:d["color-select"],language:l,instructions:st[l],hide:!0,options:ee,value:M,z:1,onChange:e=>{if(se(e),(e==null?void 0:e.value)==="hex"){const m=N($,r,f);p(m),L(n.id,m,"hex")}else(e==null?void 0:e.value)==="rgb"?(C($),A(r),a(f),L(n.id,`rgb(${$}, ${r}, ${f})`,"rgb")):(e==null?void 0:e.value)==="hsl"&&(w(g),F(c),O(W),L(n.id,`hsl(${g}, ${c}%, ${W}%)`,"hsl"))}}),(M==null?void 0:M.value)==="hex"&&t.jsxs("form",{className:d.form,onSubmit:x,children:[t.jsx("div",{className:`${d.inputs} ${d["hex-input"]}`,children:t.jsxs("label",{children:[t.jsx("span",{children:"Hex: "}),t.jsx("input",{name:`hex-input-${n.id}`,type:"text",value:h,onChange:e=>p(e.target.value),className:d["color-input"],style:{maxWidth:`${V}`,fontSize:E},placeholder:"#FFFFFF"})]})}),t.jsx("button",{style:{minWidth:"calc(100% - 4px)",maxWidth:"calc(100% - 4px)",fontSize:E},type:"submit",className:`${d["color-format-submit"]} small gray`,children:nt[l]})]}),(M==null?void 0:M.value)==="rgb"&&t.jsxs("form",{className:`${d.inputs} ${d["rgb-inputs"]}`,onSubmit:x,children:[t.jsxs("label",{children:[t.jsx("span",{children:"R: "}),t.jsx("input",{name:`r-input-${n.id}`,type:"number",value:$,onChange:e=>I("r",Number(e.target.value)),min:0,max:255,className:d["color-input"],style:{maxWidth:`${V}`,fontSize:E}})]}),t.jsxs("label",{children:[t.jsx("span",{children:"G: "}),t.jsx("input",{name:`g-input-${n.id}`,type:"number",value:r,onChange:e=>I("g",Number(e.target.value)),min:0,max:255,className:d["color-input"],style:{maxWidth:`${V}`,fontSize:E}})]}),t.jsxs("label",{children:[t.jsx("span",{children:"B: "}),t.jsx("input",{name:`b-input-${n.id}`,type:"number",value:f,onChange:e=>I("b",Number(e.target.value)),min:0,max:255,className:d["color-input"],style:{maxWidth:`${V}`,fontSize:E}})]})]}),(M==null?void 0:M.value)==="hsl"&&t.jsxs("form",{className:`${d.inputs} ${d["hsl-inputs"]}`,onSubmit:x,children:[t.jsxs("label",{children:[t.jsx("span",{children:"H: "}),t.jsx("input",{name:`h-input-${n.id}`,type:"number",value:g,onChange:e=>i("h",Number(e.target.value)),min:0,max:360,className:d["color-input"],style:{maxWidth:`${V}`,fontSize:E}})," "]}),t.jsxs("label",{children:[t.jsx("span",{children:"S: "}),t.jsx("input",{name:`s-input-${n.id}`,type:"number",value:c,onChange:e=>i("s",Number(e.target.value)),min:0,max:100,className:d["color-input"],style:{maxWidth:`${V}`,fontSize:E}})]}),t.jsxs("label",{children:[t.jsx("span",{children:"L: "}),t.jsx("input",{name:`l-input-${n.id}`,type:"number",value:W,onChange:e=>i("l",Number(e.target.value)),min:0,max:100,className:d["color-input"],style:{maxWidth:`${V}`,fontSize:E}})]})]})]})},me="colors",ue="hsl",$e=[{id:1,color:"hsl(200, 50%, 10%)",luminance:.011540526030345211,status:me,colorFormat:ue,compliantColors:{AAA_RegularText:[4,5],AA_UIComponents:[3,4,5],AA_RegularText:[3,4,5]}},{id:2,color:"hsl(200, 50%, 35%)",luminance:.12179747967530058,status:me,colorFormat:ue,compliantColors:{AAA_RegularText:[],AA_UIComponents:[4,5],AA_RegularText:[5]}},{id:3,color:"hsl(200, 50%, 55%)",luminance:.3071249100459835,status:me,colorFormat:ue,compliantColors:{AAA_RegularText:[],AA_UIComponents:[1],AA_RegularText:[1]}},{id:4,color:"hsl(200, 50%, 75%)",luminance:.5493970089199802,status:me,colorFormat:ue,compliantColors:{AAA_RegularText:[1],AA_UIComponents:[1,2],AA_RegularText:[1]}},{id:5,color:"hsl(200, 50%, 90%)",luminance:.800081557105977,status:me,colorFormat:ue,compliantColors:{AAA_RegularText:[1],AA_UIComponents:[1,2],AA_RegularText:[1,2]}}],Zt=l=>{const[n,E,L]=pe("Jenniina-colorsAccessibility",$e),[V,re]=pe("Jenniina-currentColor","#7D7D7D"),[P,N]=pe("Jenniina-idCounter",$e.length+1),[B,Y]=_.useState(l),[u,X]=_.useState(!1),z=_.useCallback(r=>r.map(A=>{const f=ee(A,r);return{...A,compliantColors:f}}),[]),ee=(r,A)=>{let f=[],a=[],g=[];return A.forEach(w=>{if(w.id===r.id)return;const c=Me(r,w);c.isAAARegularTextCompliant&&f.push(w.id),c.isAARegularTextCompliant&&g.push(w.id),c.isAAUIComponentsCompliant&&a.push(w.id)}),{AAA_RegularText:Array.from(new Set(f)),AA_RegularText:Array.from(new Set(g)),AA_UIComponents:Array.from(new Set(a))}},M=_.useCallback(()=>{const{r,g:A,b:f}=ve(V),{h:a,s:g,l:w}=He(r,A,f),c=_e(r,A,f),F={id:P,color:`hsl(${a}, ${g}%, ${w}%)`,luminance:c,status:"colors",colorFormat:"hsl",compliantColors:{AA_RegularText:[],AAA_RegularText:[],AA_UIComponents:[]}},W=[...n,F],O=z(W);E(O),N(H=>H+1)},[V,P,z,E,N,n]),se=_.useCallback(r=>{const A=n.filter(a=>a.id!==r).map(a=>({...a,compliantColors:{AAA_RegularText:a.compliantColors.AAA_RegularText.filter(g=>g!==r),AA_RegularText:a.compliantColors.AA_RegularText.filter(g=>g!==r),AA_UIComponents:a.compliantColors.AA_UIComponents.filter(g=>g!==r)}})),f=z(A);E(f)},[n,z,E]),h=_.useCallback((r,A,f)=>{try{let a,g,w,c;if(f==="hsl"){const x=A.match(/^hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/i);if(!x)throw new Error("Invalid HSL format");const i=Number(x[1]),I=Number(x[2]),e=Number(x[3]);if(i<0||i>360||I<0||I>100||e<0||e>100)throw new Error("HSL values out of range");a=`hsl(${i}, ${I}%, ${e}%)`;const m=ye(i,I,e);g=m.r,w=m.g,c=m.b}else if(f==="rgb"){const x=A.match(/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i);if(!x)throw new Error("Invalid RGB format");const i=Number(x[1]),I=Number(x[2]),e=Number(x[3]);if([i,I,e].some(m=>m<0||m>255))throw new Error("RGB values must be between 0 and 255");a=`rgb(${i}, ${I}, ${e})`,g=i,w=I,c=e}else if(f==="hex"){if(!/^#([0-9A-F]{3}){1,2}$/i.test(A))throw new Error("Invalid Hex format");a=A.toUpperCase();const x=ve(a);g=x.r,w=x.g,c=x.b}else throw new Error("Unsupported color format");const F=_e(g,w,c),W=n.map(x=>x.id===r?{...x,color:a,colorFormat:f,luminance:F,compliantColors:{AAA_RegularText:[],AA_RegularText:[],AA_UIComponents:[]}}:x),O=W.map(x=>{if(x.id===r)return x;const i=W.find(e=>e.id===r);if(!i)return x;const I=Me(x,i);return{...x,compliantColors:{AAA_RegularText:I.isAAARegularTextCompliant?[...new Set([...x.compliantColors.AAA_RegularText,r])]:x.compliantColors.AAA_RegularText.filter(e=>e!==r),AA_RegularText:I.isAARegularTextCompliant?[...new Set([...x.compliantColors.AA_RegularText,r])]:x.compliantColors.AA_RegularText.filter(e=>e!==r),AA_UIComponents:I.isAAUIComponentsCompliant?[...new Set([...x.compliantColors.AA_UIComponents,r])]:x.compliantColors.AA_UIComponents.filter(e=>e!==r)}}}),H=O.find(x=>x.id===r);if(H){const x=ee(H,O),i=O.map(I=>I.id===r?{...I,compliantColors:x}:I);E(i)}else E(O)}catch(a){console.error("Error updating color:",a)}},[n,E]),p=_.useCallback(()=>{L(),E($e),N($e.length+1)},[L,E,N]),$=_.useCallback(()=>{L(),E([]),N(1)},[L,E,N]),C=_.useCallback(()=>{const r=lt(n,B,u);let A=P;const f=r.map(g=>{const w=ye(g[0],g[1],g[2]),c=_e(w.r,w.g,w.b);return{id:A++,color:`hsl(${g[0]}, ${g[1]}%, ${g[2]}%)`,luminance:c,status:me,colorFormat:"hsl",compliantColors:{AA_RegularText:[],AAA_RegularText:[],AA_UIComponents:[]}}});let a=[...n,...f];a=z(a),E(a),N(A),X(!1)},[n,B,u,z,E,N]);return _.useEffect(()=>{u&&n.length===0&&C()},[u,n]),{colors:n,setColors:E,setColorsReset:X,addColor:M,removeColor:se,updateColor:h,resetColors:p,clearColors:$,currentColor:V,setCurrentColor:re,mode:B,setMode:Y,makeColorPalette:C}},ce=Wt(5);var eo=(l=>(l.AA_RegularText="AA_RegularText",l.AAA_RegularText="AAA_RegularText",l.AA_UIComponents="AA_UIComponents",l))(eo||{});const q="colors",bo=({language:l})=>{var Ne,Re,Ee,Ie,Te;const{colors:n,setColors:E,addColor:L,removeColor:V,updateColor:re,currentColor:P,setCurrentColor:N,resetColors:B,clearColors:Y,mode:u,setMode:X,makeColorPalette:z,setColorsReset:ee}=Zt("analogous"),M=_.useMemo(()=>[q],[]),se=Ve(),h=at(),p=it(),[$,C]=_.useState(!0),[r,A]=pe("Jenniina-showColorNames",!0),{isDragging:f,listItemsByStatus:a,handleDragging:g,handleUpdate:w}=Yt(n,M),c=_.useRef(0),[F,W]=_.useState(0),O=8,[H,x]=pe("Jenniina-color-block-width",O),i=`${H}em`,I=H/O,e={tooltip:`${.7*I}em`,colorName:`${.7*I}em`,input:`${.8*I}em`},m=[{value:"analogous",label:ct[l]},{value:"complementary",label:mt[l]},{value:"monochromatic",label:dt[l]},{value:"triad",label:ut[l]},{value:"tetrad",label:ht[l]}];let j=Math.floor(Math.random()*m.length);const[y,T]=_.useState(m[j]);_.useEffect(()=>{X(y==null?void 0:y.value)},[y]);const D=()=>{a[q].removeItems(),ee(!0),Y()},G=(s,b)=>{if(b==="hex"){if(/^#([A-Fa-f0-9]{6})$/.test(s))return s.toUpperCase();throw new Error(`Invalid HEX color format: ${s}`)}else if(b==="rgb"){const v=s.match(/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i);if(v){const o=Number(v[1]),S=Number(v[2]),k=Number(v[3]);if([o,S,k].every(U=>U>=0&&U<=255))return We(o,S,k);throw new Error(`RGB values out of range in color: ${s}`)}else throw new Error(`Invalid RGB color format: ${s}`)}else if(b==="hsl"){const v=s.match(/^hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/i);if(v){let o=de(0,Number(v[1]),360),S=de(0,Number(v[2]),100),k=de(0,Number(v[3]),100);return o=(o+360)%360,S=de(0,S,100),k=de(0,k,100),`hsl(${o}, ${S}%, ${k}%)`}else throw new Error(`Invalid HSL color format: ${s}`)}else throw new Error(`Unsupported color format: ${b}`)},te={AA_RegularText:({xPosition:s,yIndicator:b,blockWidth:v,indicatorSize:o,otherColor:S,blockColor:k,colorFormatBlock:U,colorFormatOther:R})=>{const Q=G(k,U),J=G(S,R);return`
 <circle
  cx="${s+v/2}"
  cy="${b+o/2}"
  r="${o*.32}"
  fill="${Q}"
  stroke="${J}"
  stroke-width="${o*.1}"
/>
`},AA_UIComponents:({xPosition:s,yIndicator:b,blockWidth:v,indicatorSize:o,otherColor:S,blockColor:k,colorFormatBlock:U,colorFormatOther:R})=>{const Q=G(k,U),J=G(S,R);return`
    <rect
  x="${s+v/2-o*.2}"
  y="${b+o/2-o*.15}"
  width="${o*.3}"
  height="${o*.3}"
  fill="${Q}"
  stroke="${J}"
  stroke-width="${o*.1}"
/>
`},AAA_RegularText:({xPosition:s,yIndicator:b,blockWidth:v,indicatorSize:o,otherColor:S,blockColor:k,colorFormatBlock:U,colorFormatOther:R})=>{const Q=G(S,R);return`
<circle
  cx="${s+v/2}"
  cy="${b+o/2}"
  r="${o/2}"
  fill="${Q}"
  stroke="none"
/>
`}},je=()=>{var Fe;const s=H*20,b=s,v=b/3,o=v/1.5,S=s/4,k=v/20,U=b/10,R=((Fe=a[q])==null?void 0:Fe.items)||[],J=(R==null?void 0:R.length)*(v+o)-o+S*2,le=r?U+S:0,ge=R.length*b,Ce=J+le*1.6,Qe=R==null?void 0:R.map((K,ae)=>{const ie=ae*b;let ne;try{ne=G(K.color,K.colorFormat)}catch(oe){console.error(oe),se(he(`${we[l]}: ${oe.message}`,!0,4)),ne="#000000"}const xe=`
        <rect
          x="${ie}"
          y="0"
          width="${b}"
          height="${J}"
          fill="${ne}"
          stroke="none"
        />
      `,Z=r?`
        <!-- Text Background -->
        <rect
          x="${ie}"
          y="${J-.5}"
          width="${b}"
          height="${le}"
          fill="${ne}"
          stroke="none"
        />
        <!-- Color Text Label -->
        <text
          x="${ie+b/2}"
          y="${J+le/2+U/3}"
          font-size="${U}"
          font-family="Arial"
          text-anchor="middle"
          dominant-baseline="middle"
          fill="${K.luminance>.179?"#000000":"#FFFFFF"}"
          stroke="none"
        >
          ${K.color}
        </text>
      `:"";return`
        <g>
          <!-- Color Block -->
          ${xe}
          <!-- Color Text Label -->
          ${Z}
        </g>
      `}).join(""),Ze=R==null?void 0:R.map((K,ae)=>{const ne=S+ae*(v+o)+(v-k)/2,xe=G(K.color,K.colorFormat);return`
        <rect
          x="0"
          y="${ne}"
          width="${ge}"
          height="${k}"
          fill="${xe}"
          stroke="none"
        />
      `}).join(""),et=R==null?void 0:R.map((K,ae)=>{const ie=ae*b,ne=Z=>{var oe,Ue,De,Oe,ke,Le;return(Ue=(oe=K.compliantColors)==null?void 0:oe.AAA_RegularText)!=null&&Ue.includes(Z)?"AAA_RegularText":(Oe=(De=K.compliantColors)==null?void 0:De.AA_RegularText)!=null&&Oe.includes(Z)?"AA_RegularText":(Le=(ke=K.compliantColors)==null?void 0:ke.AA_UIComponents)!=null&&Le.includes(Z)?"AA_UIComponents":null};return`
        <g>
          <!-- Compliance Indicators -->
          ${R==null?void 0:R.filter((Z,oe)=>oe!==ae).map(Z=>{const oe=ne(Z.id);return oe?te[oe]({xPosition:ie,yIndicator:S+R.indexOf(Z)*(v+o),blockWidth:b,indicatorSize:v,otherColor:Z.color,blockColor:K.color,colorFormatBlock:K.colorFormat,colorFormatOther:Z.colorFormat}):""}).join("")}
        </g>
      `}).join(""),be=10,tt=ge-be,Se=Ce-be*1.5,fe="https://colors.jenniina.fi",ot=`
      <a href="${fe}" target="_blank" rel="noopener noreferrer">
        <text
          x="${tt}"
          y="${Se}"
          font-size="${U}"
          font-family="Arial"
          text-anchor="end"
          fill="#000000"
          stroke="none"
        >
          ${fe}
        </text>
      </a>
    `,rt=`
      <a href="${fe}" target="_blank" rel="noopener noreferrer">
        <text
          x="${be}"
          y="${Se}"
          font-size="${U}"
          font-family="Arial"
          text-anchor="start"
          fill="#FFFFFF"
          stroke="none"
        >
          ${fe}
        </text>
      </a>
    `;return{svgContent:`
    <svg xmlns="http://www.w3.org/2000/svg" width="${ge}" height="${Ce}">
      <!-- Color Blocks -->
      <g>
        ${Qe}
      </g>
      <!-- Lines -->
      <g>
        ${Ze}
      </g>
      <!-- Compliance Indicators -->
      <g>
        ${et}
      </g>
      <!-- Source Link -->
      <g>
        ${rt}
      </g>
      <g>
        ${ot}
      </g>
    </svg>
  `,svgWidth:ge,svgHeight:Ce}},Pe=()=>{const{svgContent:s}=je(),b=new Blob([s],{type:"image/svg+xml;charset=utf-8"}),v=URL.createObjectURL(b),o=document.createElement("a");o.href=v,o.download="color-blocks.svg",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(v),se(he(Ge[l],!1,5))},ze=()=>{const{svgContent:s,svgWidth:b,svgHeight:v}=je(),o=new Image;o.width=b,o.height=v;const S=new Blob([s],{type:"image/svg+xml;charset=utf-8"}),k=URL.createObjectURL(S);o.onload=()=>{const U=document.createElement("canvas");U.width=b,U.height=v;const R=U.getContext("2d");R==null||R.drawImage(o,0,0);const Q=U.toDataURL("image/png"),J=document.createElement("a");J.href=Q,J.download="color-blocks.png",document.body.appendChild(J),J.click(),document.body.removeChild(J),URL.revokeObjectURL(k),se(he(Ge[l],!1,5))},o.onerror=U=>{console.error("Error loading SVG into image for PNG conversion:",U),URL.revokeObjectURL(k),se(he(we[l],!0,4))},o.src=k},Ke=(s,b)=>{s.dataTransfer.setData("text/plain",JSON.stringify({type:"item",id:b}))},qe=(s,b)=>{s.preventDefault(),W(b),c.current=b},Xe=s=>{s.preventDefault(),g(!0)},Ye=s=>{const b=JSON.parse(s.dataTransfer.getData("text/plain"));b.type==="item"&&(w(b.id,q,F),setTimeout(()=>{var v;E((v=a[q])==null?void 0:v.items)},200),g(!1))};_.useEffect(()=>{var s,b;(!((s=a[q])!=null&&s.items)||((b=a[q])==null?void 0:b.items.length)<1)&&B()},[]);const Ae=.04;return t.jsxs("div",{id:d["color-container"],className:`${d["color-container"]} ${h?d.light:""}`,style:{"--font-size":e.input},children:[t.jsx("div",{id:"info",className:d["info-wrap"],children:t.jsxs("ul",{children:[t.jsxs("li",{children:[t.jsx("div",{style:{display:"inline-block",backgroundColor:"var(--color-primary-20)",borderRadius:"50%",width:"2em",height:"2em"}}),t.jsx("span",{children:pt[l]})]}),t.jsxs("li",{children:[t.jsx("div",{style:{display:"inline-block",backgroundColor:"transparent",outline:"0.3em solid var(--color-primary-20)",outlineOffset:"-0.3em",borderRadius:"50%",width:"1.7em",height:"1.7em",margin:"0 0.2em 0 0.2em "}}),t.jsx("span",{children:gt[l]})]}),t.jsxs("li",{children:[t.jsx("div",{style:{display:"inline-block",backgroundColor:"transparent",outline:"0.3em solid var(--color-primary-20)",outlineOffset:"-0.26em",borderRadius:"0",width:"0.9em",height:"0.9em",margin:"0 0.65em 0 0.65em"}}),t.jsx("span",{children:ft[l]})]})]})}),t.jsxs("div",{className:d["btn-wrap"],children:[((Re=(Ne=a[q])==null?void 0:Ne.items)==null?void 0:Re.length)>0&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{type:"button",onClick:ze,className:"gray small",children:[xt[l],"  ",t.jsx(Je,{})]}),t.jsxs("button",{type:"button",onClick:Pe,className:"gray small",children:[$t[l],"  ",t.jsx(Je,{})]})]}),t.jsx("button",{onClick:p,className:"gray small",children:h?t.jsxs(t.Fragment,{children:[At[l],"  ",t.jsx(Gt,{})]}):t.jsxs(t.Fragment,{children:[Ct[l],"  ",t.jsx(Jt,{})," "]})})]}),t.jsxs("div",{className:d["color-picker"],children:[t.jsxs("label",{htmlFor:"color-input",className:" ",children:[bt[l],":"]}),t.jsx("input",{id:"color-input",type:"color",value:P,onChange:s=>N(s.target.value)}),t.jsx("button",{className:"gray small",type:"button",onClick:L,children:_t[l]}),t.jsx("button",{className:"gray small",type:"button",onClick:B,children:wt[l]}),t.jsx("button",{className:"gray small",type:"button",onClick:()=>{a[q].removeItems(),Y()},children:vt[l]}),t.jsxs("div",{className:`${d["color-edit-container"]} ${d["mode-container"]}`,children:[t.jsx(Be,{options:m,value:y,onChange:s=>T(s),id:"color-mode",instructions:yt[l],className:`${d["color-select"]}`,hide:!0,hideDelete:!0,tooltip:!0,y:"above narrow2",z:3}),t.jsxs("button",{className:"gray small tooltip-wrap",type:"button",onClick:z,children:[jt[l],t.jsx("span",{className:"tooltip above narrow2",children:Nt[l]})]}),t.jsx("button",{className:"gray small",type:"button",onClick:D,children:Rt[l]})]})]}),t.jsx("div",{id:"color-blocks",className:`${d["color-blocks"]} ${!r||!$?d.overflow:""} ${f?d.drag:""}`,children:(Ee=a[q])==null?void 0:Ee.items.map(s=>{var b,v;return t.jsx("ul",{className:d["block-wrap"],onDrop:Ye,children:t.jsxs("li",{className:d["color-wrap"],title:`ID: ${s.id}`,"aria-label":`ID: ${s.id}`,style:{width:`${i}`,maxWidth:`${i}`},children:[t.jsx("ul",{children:t.jsx("li",{draggable:"true",onDragStart:o=>Ke(o,s.id),onDragEnter:o=>qe(o,s.id),onDragOver:o=>Xe(o),onDragEnd:()=>g(!1),"data-identity":s.id,className:d["color-block"],style:{"--color":s.color,backgroundColor:s.color,width:`${i}`,maxWidth:`${i}`,height:`calc(calc(${i} * 0.6) * ${(b=a[q])==null?void 0:b.items.length})`},children:t.jsx("div",{className:d["compliance-indicators"],style:{gap:`calc(${i} / 4)`,"--width-full":`${i}`},children:(v=a[q])==null?void 0:v.items.map(o=>{var k,U,R,Q,J,le;if(o.id===s.id)return t.jsx("div",{className:`${d["indicator-null"]} ${d.indicator}`,style:{"--color":o.color,"--width":`calc(${i} / 3)`,"--left":`calc(calc(${i} / 3) * -1)`,backgroundColor:"transparent",width:`calc(${i} / 3)`,height:`calc(${i} / 3)`}},`none-${o.color}-${o.id}`);let S=null;return(U=(k=s.compliantColors)==null?void 0:k.AAA_RegularText)!=null&&U.includes(o.id)?S="AAA_RegularText":(Q=(R=s.compliantColors)==null?void 0:R.AA_RegularText)!=null&&Q.includes(o.id)?S="AA_RegularText":(le=(J=s.compliantColors)==null?void 0:J.AA_UIComponents)!=null&&le.includes(o.id)&&(S="AA_UIComponents"),S==="AAA_RegularText"?t.jsx("div",{tabIndex:0,className:`${d["indicator-aaa"]} ${d.indicator} tooltip-wrap`,style:{"--color":o.color,backgroundColor:o.color,"--left":`calc(calc(${i} / 3) * -1)`,width:`calc(${i} / 3)`,height:`calc(${i} / 3)`},"aria-labelledby":`span-${o.id}-${s.id}-${ce}`,children:t.jsx("span",{id:`span-${o.id}-${s.id}-${ce}`,className:`tooltip below narrow3 ${d.tooltip}`,style:{fontSize:`clamp(0.7rem, ${e.input}, 0.9rem)`,"--tooltip-max-width":i},children:`${Et[l]}: ${o.id}`})},`aaa-${o.color}-${o.id}`):S==="AA_RegularText"?t.jsx("div",{tabIndex:0,className:`${d["indicator-aa"]} ${d.indicator} tooltip-wrap`,style:{"--color":o.color,backgroundColor:s.color,outline:`calc(${i} * ${Ae*1.1}) solid ${o.color}`,outlineOffset:`calc(${i} * -0.013)`,"--left":`calc(calc(${i} / 5) * -2)`,width:`calc(${i} / 5)`,height:`calc(${i} / 5)`,margin:`calc(${i} / 15)`,borderRadius:"50%"},"aria-labelledby":`span-${o.id}-${s.id}-${ce}`,children:t.jsx("span",{id:`span-${o.id}-${s.id}-${ce}`,className:"tooltip below narrow3",style:{fontSize:`clamp(0.7rem, ${e.input}, 0.9rem)`,"--tooltip-max-width":i},children:`${It[l]}: ${o.id}`})},`aa-${o.color}-${o.id}`):S==="AA_UIComponents"?t.jsx("div",{tabIndex:0,className:`${d["indicator-aa-ui"]} ${d.indicator} tooltip-wrap`,style:{"--color":o.color,"--left":`calc(calc(${i} / 7) * -3)`,backgroundColor:s.color,outline:`calc(${i} * ${Ae}) solid ${o.color}`,outlineOffset:`calc(${i} * ${Ae} * -1)`,width:`calc(${i} / 7)`,height:`calc(${i} / 7)`,margin:`calc(${i} / 10.5)`},"aria-labelledby":`span-ui-${o.id}-${s.id}-${ce}`,children:t.jsx("span",{id:`span-ui-${o.id}-${s.id}-${ce}`,className:`tooltip below narrow3 ${d.tooltip}`,style:{fontSize:`clamp(0.7rem, ${e.input}, 0.9rem)`,"--tooltip-max-width":i},children:`${Tt[l]}: ${o.id}`})},`aa-ui-${o.color}-${o.id}`):t.jsx("div",{"aria-hidden":"true",className:`${d["indicator-null"]} ${d.indicator}`,style:{"--color":o.color,backgroundColor:"transparent","--left":`calc(calc(${i} / 3) * -1)`,width:`calc(${i} / 3)`,height:`calc(${i} / 3)`}},`null-${o.color}-${o.id}`)})})})}),r&&t.jsx("div",{style:{backgroundColor:s.color,width:`${i}`,maxWidth:`${i}`,display:"flex",justifyContent:"center",alignItems:"center",padding:"0.5em 0.1em "},className:d["color-name"],children:t.jsx("span",{style:{color:s.luminance<.179?"white":"black",fontSize:`clamp(0.7rem, ${e.input}, 1.2rem)`,textAlign:"center"},children:s.color})}),$&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:d["color-edit-container"],children:t.jsx(Qt,{language:l,block:s,updateColor:re,width:i,hexToRGB:ve,rgbToHSL:He,rgbToHex:We,hslToRGB:ye,fontSize:`clamp(0.75rem, ${e.input}, 1rem)`})}),t.jsx("button",{className:`tooltip-wrap small delete danger gray ${d.remove}`,onClick:()=>V(s.id),style:{margin:"0.8em auto",width:"calc(100% - 4px)",minWidth:"calc(100% - 4px)",fontSize:`clamp(0.75rem, ${e.input}, 2rem)`},children:St[l]})]})]})},`${s.id}`)})}),((Te=(Ie=a[q])==null?void 0:Ie.items)==null?void 0:Te.length)>0&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:d["width-wrap"],children:[t.jsx("label",{htmlFor:"color-block-width",children:Ft[l]}),t.jsx("input",{id:"color-block-width",type:"range",min:6,max:12,step:.5,value:H,onChange:s=>x(Number(s.target.value))})]}),t.jsxs("div",{className:`${d["toggle-controls"]}`,children:[t.jsxs("div",{children:[t.jsx("strong",{children:Ut[l]}),t.jsx("button",{id:"toggle-controls",type:"button",onClick:()=>C(!$),className:"gray small",children:$?Dt[l]:Ot[l]})]}),t.jsxs("div",{children:[t.jsx("strong",{children:kt[l]}),t.jsx("button",{type:"button",onClick:()=>A(!r),className:"gray small",children:r?Lt[l]:Mt[l]})]})]})]})]})};export{eo as ComplianceLevel,bo as default};
