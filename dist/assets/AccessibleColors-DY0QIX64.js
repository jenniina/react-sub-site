import{r as E,j as e}from"./react-A9DAvxly.js";import{K as st,S as nt,f3 as lt,f4 as at,W as le,bd as je,c$ as it,f5 as ct,u as ge,bX as mt,f6 as dt,f7 as ut,f8 as pt,f9 as ht,fa as ft,z as xt,A as At,fb as gt,fc as $t,ap as bt,fd as _t,fe as Ct,ff as wt,fg as yt,fh as Re,fi as Qe,fj as Ze,fk as Se,d9 as vt,fl as jt,fm as Rt,ax as Nt,ay as Tt,fn as Et,fo as It,fp as St,fq as Ft,bC as et,fr as Ut,fs as Dt,ft as Ne,br as tt,fu as Lt,fv as Bt}from"./index-Bd0Isy7S.js";import{a2 as ot,a3 as Wt,a4 as Ht}from"./react-icons-8b918X3F.js";import"./hoist-non-react-statics-D5aJipOz.js";import"./react-dom-yh0erWL-.js";import"./scheduler-CzFDRTuY.js";import"./react-redux-CHm9GgGE.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-DEc9BFqZ.js";import"./@reduxjs-DhFEcpJw.js";import"./immer-C0GRqQ_d.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./axios-CCb-kr4I.js";import"./react-router-dom-CYs6befe.js";import"./react-router-S1Hdk0kP.js";import"./@remix-run-DTnHqtaE.js";const kt="_light_b83f3_39",Gt="_drag_b83f3_221",Ot="_overflow_b83f3_235",Mt="_indicator_b83f3_343",Vt="_tooltip_b83f3_343",Jt="_form_b83f3_485",Pt="_remove_b83f3_513",Xt="_inputs_b83f3_543",l={"color-container":"_color-container_b83f3_1",light:kt,"color-picker":"_color-picker_b83f3_57","width-wrap":"_width-wrap_b83f3_109","btn-wrap":"_btn-wrap_b83f3_123","info-wrap":"_info-wrap_b83f3_141","color-blocks":"_color-blocks_b83f3_189",drag:Gt,overflow:Ot,"block-wrap":"_block-wrap_b83f3_243","color-wrap":"_color-wrap_b83f3_261","color-block":"_color-block_b83f3_189","compliance-indicators":"_compliance-indicators_b83f3_321",indicator:Mt,tooltip:Vt,"indicator-aaa":"_indicator-aaa_b83f3_373","indicator-null":"_indicator-null_b83f3_381","compliance-info":"_compliance-info_b83f3_389","toggle-controls":"_toggle-controls_b83f3_397","color-edit-container":"_color-edit-container_b83f3_427","color-format-select":"_color-format-select_b83f3_429",form:Jt,"color-format-submit":"_color-format-submit_b83f3_511",remove:Pt,"color-name":"_color-name_b83f3_527",inputs:Xt,"hex-input":"_hex-input_b83f3_565"},Yt=({language:m,block:$,fontSize:I,updateColor:P,width:N,hexToRGB:me,hslToRGB:k,rgbToHex:X,rgbToHSL:L})=>{const S=st(),Y=/^hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/i,q=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,B=/^#([0-9A-F]{3}){1,2}$/i,Q=[{value:"hsl",label:"HSL"},{value:"rgb",label:"RGB"},{value:"hex",label:"Hex"}],[v,de]=E.useState(Q.find(r=>r.value===$.colorFormat)||Q[0]),[b,z]=E.useState(""),[be,oe]=E.useState(0),[_e,se]=E.useState(0),[ue,M]=E.useState(0),[Ce,i]=E.useState(0),[ae,W]=E.useState(0),[V,re]=E.useState(0);E.useEffect(()=>{switch($.colorFormat){case"hex":{z($.color);const{r,g:f,b:x}=me($.color);oe(r),se(f),M(x);const{h:y,s:j,l:T}=L(r,f,x);i(y),W(j),re(T);break}case"rgb":{const r=$.color.match(q);if(r){const f=Number(r[1]),x=Number(r[2]),y=Number(r[3]);oe(f),se(x),M(y);const{h:j,s:T,l:G}=L(f,x,y);i(j),W(T),re(G)}break}case"hsl":{const r=$.color.match(Y);if(r){const f=Number(r[1]),x=Number(r[2]),y=Number(r[3]);i(f),W(x),re(y);const{r:j,g:T,b:G}=k(f,x,y);oe(j),se(T),M(G);const Z=X(j,T,G);z(Z)}break}}},[]);const we=r=>{r.preventDefault();const f=v==null?void 0:v.value;try{let x;if(f==="hex")if(B.test(b))x=b.toUpperCase(),P($.id,x,"hex");else throw new Error("Invalid Hex format.");else throw new Error("Unsupported color format.")}catch(x){console.error(x.message),S(le(je[m]+" "+x.message,!0,4))}},pe=(r,f)=>{r==="h"&&i(f),r==="s"&&W(f),r==="l"&&re(f);const x=r==="h"?f:Ce,y=r==="s"?f:ae,j=r==="l"?f:V;if(x>=0&&x<=360&&y>=0&&y<=100&&j>=0&&j<=100){const{r:T,g:G,b:Z}=k(x,y,j);oe(T),se(G),M(Z),P($.id,`hsl(${x}, ${y}%, ${j}%)`,"hsl"),z(X(T,G,Z))}},he=(r,f)=>{r==="r"&&oe(f),r==="g"&&se(f),r==="b"&&M(f);const x=r==="r"?f:be,y=r==="g"?f:_e,j=r==="b"?f:ue;if([x,y,j].every(T=>T>=0&&T<=255)){const{h:T,s:G,l:Z}=L(x,y,j);i(T),W(G),re(Z),P($.id,`rgb(${x}, ${y}, ${j})`,"rgb"),z(X(x,y,j))}};return e.jsxs(e.Fragment,{children:[e.jsx(nt,{hideDelete:!0,id:"color-format-select",className:l["color-format-select"],language:m,instructions:lt[m],hide:!0,options:Q,value:v,onChange:r=>{de(r)}}),(v==null?void 0:v.value)==="hex"&&e.jsxs("form",{className:l.form,onSubmit:we,children:[e.jsx("div",{className:`${l.inputs} ${l["hex-input"]}`,children:e.jsxs("label",{children:[e.jsx("span",{children:"Hex: "}),e.jsx("input",{name:`hex-input-${$.id}`,type:"text",value:b,onChange:r=>z(r.target.value),className:l["color-input"],style:{maxWidth:`${N}`,fontSize:I},placeholder:"#FFFFFF"})]})}),e.jsx("button",{style:{minWidth:"calc(100% - 4px)",maxWidth:"calc(100% - 4px)",fontSize:I},type:"submit",className:`${l["color-format-submit"]} small gray`,children:at[m]})]}),(v==null?void 0:v.value)==="rgb"&&e.jsxs("div",{className:`${l.inputs} ${l["rgb-inputs"]}`,children:[e.jsxs("label",{children:[e.jsx("span",{children:"R: "}),e.jsx("input",{name:`r-input-${$.id}`,type:"number",value:be,onChange:r=>he("r",Number(r.target.value)),min:0,max:255,className:l["color-input"],style:{maxWidth:`${N}`,fontSize:I}})]}),e.jsxs("label",{children:[e.jsx("span",{children:"G: "}),e.jsx("input",{name:`g-input-${$.id}`,type:"number",value:_e,onChange:r=>he("g",Number(r.target.value)),min:0,max:255,className:l["color-input"],style:{maxWidth:`${N}`,fontSize:I}})]}),e.jsxs("label",{children:[e.jsx("span",{children:"B: "}),e.jsx("input",{name:`b-input-${$.id}`,type:"number",value:ue,onChange:r=>he("b",Number(r.target.value)),min:0,max:255,className:l["color-input"],style:{maxWidth:`${N}`,fontSize:I}})]})]}),(v==null?void 0:v.value)==="hsl"&&e.jsxs("div",{className:`${l.inputs} ${l["hsl-inputs"]}`,children:[e.jsxs("label",{children:[e.jsx("span",{children:"H: "}),e.jsx("input",{name:`h-input-${$.id}`,type:"number",value:Ce,onChange:r=>pe("h",Number(r.target.value)),min:0,max:360,className:l["color-input"],style:{maxWidth:`${N}`,fontSize:I}})," "]}),e.jsxs("label",{children:[e.jsx("span",{children:"S: "}),e.jsx("input",{name:`s-input-${$.id}`,type:"number",value:ae,onChange:r=>pe("s",Number(r.target.value)),min:0,max:100,className:l["color-input"],style:{maxWidth:`${N}`,fontSize:I}})]}),e.jsxs("label",{children:[e.jsx("span",{children:"L: "}),e.jsx("input",{name:`l-input-${$.id}`,type:"number",value:V,onChange:r=>pe("l",Number(r.target.value)),min:0,max:100,className:l["color-input"],style:{maxWidth:`${N}`,fontSize:I}})]})]})]})},ce=Ft(5),Ee=(m,$)=>{const I=L=>{let S,Y,q;if(L.colorFormat==="hex")({r:S,g:Y,b:q}=Re(L.color));else if(L.colorFormat==="rgb"){const B=L.color.match(/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i);if(B)S=Number(B[1]),Y=Number(B[2]),q=Number(B[3]);else throw new Error("Invalid RGB format")}else if(L.colorFormat==="hsl"){const B=L.color.match(/^hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/i);if(B){const Q=Number(B[1]),v=Number(B[2]),de=Number(B[3]);({r:S,g:Y,b:q}=Se(Q,v,de))}else throw new Error("Invalid HSL format")}else throw new Error("Unsupported color format");return{r:S,g:Y,b:q}},P=I(m),N=I($),me=Ne(P.r,P.g,P.b),k=Ne(N.r,N.g,N.b),X=Lt(me,k);return{isAAARegularTextCompliant:X>=7,isAARegularTextCompliant:X>=4.5,isAAUIComponentsCompliant:X>=3}},h="colors",$e="hsl",Ie=[{id:1,color:"hsl(200, 50%, 10%)",luminance:.011540526030345211,status:h,colorFormat:$e,compliantColors:{AAA_RegularText:[4,5],AA_UIComponents:[3,4,5],AA_RegularText:[3,4,5]}},{id:2,color:"hsl(200, 50%, 35%)",luminance:.12179747967530058,status:h,colorFormat:$e,compliantColors:{AAA_RegularText:[],AA_UIComponents:[4,5],AA_RegularText:[5]}},{id:3,color:"hsl(200, 50%, 55%)",luminance:.3071249100459835,status:h,colorFormat:$e,compliantColors:{AAA_RegularText:[],AA_UIComponents:[1],AA_RegularText:[1]}},{id:4,color:"hsl(200, 50%, 75%)",luminance:.5493970089199802,status:h,colorFormat:$e,compliantColors:{AAA_RegularText:[1],AA_UIComponents:[1,2],AA_RegularText:[1]}},{id:5,color:"hsl(200, 50%, 90%)",luminance:.800081557105977,status:h,colorFormat:$e,compliantColors:{AAA_RegularText:[1],AA_UIComponents:[1,2],AA_RegularText:[1,2]}}],ho=({language:m})=>{var Fe,Ue,De,Le,Be;const $=st(),I=it(),P=ct(),[N,me]=E.useState(!0),[k,X]=ge("Jenniina-showColorNames",!0),[L,S,Y]=ge("Jenniina-colorsAccessibility",Ie),[q,B]=ge("Jenniina-currentColor","#7D7D7D"),[Q,v]=ge("Jenniina-idCounter",1),{isDragging:de,listItemsByStatus:b,handleDragging:z,handleUpdate:be}=mt(L,[h]),oe=E.useRef(0),[_e,se]=E.useState(0),ue=8,[M,Ce]=ge("Jenniina-color-block-width",ue),i=`${M}em`,ae=M/ue,W={tooltip:`${.7*ae}em`,colorName:`${.7*ae}em`,input:`${.8*ae}em`},V=(t,s)=>{if(s==="hex"){if(/^#([A-Fa-f0-9]{6})$/.test(t))return t.toUpperCase();throw new Error(`Invalid HEX color format: ${t}`)}else if(s==="rgb"){const a=t.match(/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i);if(a){const o=Number(a[1]),c=Number(a[2]),p=Number(a[3]);if([o,c,p].every(d=>d>=0&&d<=255))return Ze(o,c,p);throw new Error(`RGB values out of range in color: ${t}`)}else throw new Error(`Invalid RGB color format: ${t}`)}else if(s==="hsl"){const a=t.match(/^hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/i);if(a){const o=Number(a[1]),c=Number(a[2]),p=Number(a[3]);if([o,c,p].every((d,u)=>u===0?d>=0&&d<=360:d>=0&&d<=100))return Bt(o,c,p);throw new Error(`HSL values out of range in color: ${t}`)}else throw new Error(`Invalid HSL color format: ${t}`)}else throw new Error(`Unsupported color format: ${s}`)},re={AA_RegularText:({xPosition:t,yIndicator:s,blockWidth:a,indicatorSize:o,otherColor:c,blockColor:p,colorFormatBlock:d,colorFormatOther:u})=>{const A=V(p,d),g=V(c,u);return`
 <circle
  cx="${t+a/2}"
  cy="${s+o/2}"
  r="${o*.32}"
  fill="${A}"
  stroke="${g}"
  stroke-width="${o*.1}"
/>
`},AA_UIComponents:({xPosition:t,yIndicator:s,blockWidth:a,indicatorSize:o,otherColor:c,blockColor:p,colorFormatBlock:d,colorFormatOther:u})=>{const A=V(p,d),g=V(c,u);return`
    <rect
  x="${t+a/2-o*.2}"
  y="${s+o/2-o*.15}"
  width="${o*.3}"
  height="${o*.3}"
  fill="${A}"
  stroke="${g}"
  stroke-width="${o*.1}"
/>
`},AAA_RegularText:({xPosition:t,yIndicator:s,blockWidth:a,indicatorSize:o,otherColor:c,blockColor:p,colorFormatBlock:d,colorFormatOther:u})=>{const A=V(c,u);return`
<circle
  cx="${t+a/2}"
  cy="${s+o/2}"
  r="${o/2}"
  fill="${A}"
  stroke="none"
/>
`}},we=()=>{var We,He,ke,Ge,Oe,Me,Ve,Je,Pe;const t=M*20,s=t,a=s/3,o=a/1.5,c=t/4,p=a/20,d=s/10,A=((He=(We=b[h])==null?void 0:We.items)==null?void 0:He.length)*(a+o)-o+c*2,g=k?d+c:0,H=((ke=b[h])==null?void 0:ke.items.length)*s,O=A+g*1.6,n=(Oe=(Ge=b[h])==null?void 0:Ge.items)==null?void 0:Oe.map((D,fe)=>{const ie=fe*s;let te;try{te=V(D.color,D.colorFormat)}catch(xe){console.error(xe),$(le(`${je[m]}: ${xe.message}`,!0,4)),te="#000000"}const ye=`
        <rect
          x="${ie}"
          y="0"
          width="${s}"
          height="${A}"
          fill="${te}"
          stroke="none"
        />
      `,ve=k?`
        <!-- Text Background -->
        <rect
          x="${ie}"
          y="${A-.5}"  
          width="${s}"
          height="${g}"
          fill="${te}"
          stroke="none"
        />
        <!-- Color Text Label -->
        <text
          x="${ie+s/2}"
          y="${A+g/2+d/3}"
          font-size="${d}"
          font-family="Arial"
          text-anchor="middle"
          dominant-baseline="middle"
          fill="${D.luminance>.179?"#000000":"#FFFFFF"}"
          stroke="none"
        >
          ${D.color}
        </text>
      `:"";return`
        <g>
          <!-- Color Block -->
          ${ye} 
          <!-- Color Text Label -->
          ${ve}
        </g>
      `}).join(""),C=(Ve=(Me=b[h])==null?void 0:Me.items)==null?void 0:Ve.map((D,fe)=>{const te=c+fe*(a+o)+(a-p)/2,ye=V(D.color,D.colorFormat);return`
        <rect
          x="0"
          y="${te}"
          width="${H}"
          height="${p}"
          fill="${ye}"
          stroke="none"
        />
      `}).join(""),w=(Pe=(Je=b[h])==null?void 0:Je.items)==null?void 0:Pe.map((D,fe)=>{var ve,xe;const ie=fe*s,te=J=>{var Ae,Xe,Ye,qe,ze,Ke;return(Xe=(Ae=D.compliantColors)==null?void 0:Ae.AAA_RegularText)!=null&&Xe.includes(J)?"AAA_RegularText":(qe=(Ye=D.compliantColors)==null?void 0:Ye.AA_RegularText)!=null&&qe.includes(J)?"AA_RegularText":(Ke=(ze=D.compliantColors)==null?void 0:ze.AA_UIComponents)!=null&&Ke.includes(J)?"AA_UIComponents":null};return`
        <g>
          <!-- Compliance Indicators -->
          ${(xe=(ve=b[h])==null?void 0:ve.items)==null?void 0:xe.filter(J=>J.id!==D.id).map(J=>{const Ae=te(J.id);return Ae?re[Ae]({xPosition:ie,yIndicator:c+(J.id-1)*(a+o),blockWidth:s,indicatorSize:a,otherColor:J.color,blockColor:D.color,colorFormatBlock:D.colorFormat,colorFormatOther:J.colorFormat}):""}).join("")}
        </g>
      `}).join(""),_=10,R=H-_,F=O-_*1.5,U="https://colors.jenniina.fi",ne=`
      <a href="${U}" target="_blank" rel="noopener noreferrer">
        <text
          x="${R}"
          y="${F}"
          font-size="${d}"
          font-family="Arial"
          text-anchor="end"
          fill="#000000"
          stroke="none"
        >
          ${U}
        </text>
      </a>
    `,ee=`
      <a href="${U}" target="_blank" rel="noopener noreferrer">
        <text
          x="${_}"
          y="${F}"
          font-size="${d}"
          font-family="Arial"
          text-anchor="start"
          fill="#FFFFFF"
          stroke="none"
        >
          ${U}
        </text>
      </a>
    `;return{svgContent:`
    <svg xmlns="http://www.w3.org/2000/svg" width="${H}" height="${O}">
      <!-- Color Blocks -->
      <g>
        ${n}
      </g>
      <!-- Lines -->
      <g>
        ${C}
      </g>
      <!-- Compliance Indicators -->
      <g>
        ${w}
      </g>
      <!-- Source Link -->
      <g>
        ${ee}
      </g>
      <g>
        ${ne}
      </g>
    </svg>
  `,svgWidth:H,svgHeight:O}},pe=()=>{const{svgContent:t}=we(),s=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),a=URL.createObjectURL(s),o=document.createElement("a");o.href=a,o.download="color-blocks.svg",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a),$(le(et[m],!1,5))},he=()=>{const{svgContent:t,svgWidth:s,svgHeight:a}=we(),o=new Image;o.width=s,o.height=a;const c=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),p=URL.createObjectURL(c);o.onload=()=>{const d=document.createElement("canvas");d.width=s,d.height=a;const u=d.getContext("2d");u==null||u.drawImage(o,0,0);const A=d.toDataURL("image/png"),g=document.createElement("a");g.href=A,g.download="color-blocks.png",document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(p),$(le(et[m],!1,5))},o.onerror=d=>{console.error("Error loading SVG into image for PNG conversion:",d),URL.revokeObjectURL(p),$(le(je[m],!0,4))},o.src=p},r=()=>{var g,H,O;const{r:t,g:s,b:a}=Re(q),{h:o,s:c,l:p}=Qe(t,s,a),d=Ne(t,s,a),u={id:Q,color:`hsl(${o}, ${c}%, ${p}%)`,luminance:d,status:h,colorFormat:"hsl",compliantColors:{AA_RegularText:[],AAA_RegularText:[],AA_UIComponents:[]}};(H=(g=b[h])==null?void 0:g.items)==null||H.forEach(n=>{var w,_,R,F,U,ne,ee,K;const C=Ee(u,n);C.isAAARegularTextCompliant?((w=u.compliantColors)==null||w.AAA_RegularText.push(n.id),(_=n.compliantColors)==null||_.AAA_RegularText.push(u.id)):C.isAARegularTextCompliant?((R=u.compliantColors)==null||R.AA_RegularText.push(n.id),(F=n.compliantColors)==null||F.AA_RegularText.push(u.id)):C.isAAUIComponentsCompliant&&((ne=(U=u.compliantColors)==null?void 0:U.AA_UIComponents)==null||ne.push(n.id),(K=(ee=n.compliantColors)==null?void 0:ee.AA_UIComponents)==null||K.push(u.id))});const A=(O=b[h])==null?void 0:O.items.map(n=>{var C,w,_;return{...n,compliantColors:{AAA_RegularText:Array.from(new Set((C=n.compliantColors)==null?void 0:C.AAA_RegularText)),AA_RegularText:Array.from(new Set((w=n.compliantColors)==null?void 0:w.AA_RegularText)),AA_UIComponents:Array.from(new Set((_=n.compliantColors)==null?void 0:_.AA_UIComponents))}}});S([...A,u]),v(Q+1)},f=t=>{var s;if(window.confirm(Ut[m])){const a=(s=b[h])==null?void 0:s.items.filter(o=>o.id!==t).map(o=>{var c,p,d,u;return{...o,compliantColors:{AAA_RegularText:(c=o.compliantColors)==null?void 0:c.AAA_RegularText.filter(A=>A!==t),AA_RegularText:(p=o.compliantColors)==null?void 0:p.AA_RegularText.filter(A=>A!==t),AA_UIComponents:(u=(d=o.compliantColors)==null?void 0:d.AA_UIComponents)==null?void 0:u.filter(A=>A!==t)}}});S(a),$(le(Dt[m],!1,5))}},x=(t,s,a)=>{var o;try{let c,p,d,u;if(a==="hsl"){const n=s.match(/^hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/i);if(!n)throw new Error("Invalid HSL format");const C=Number(n[1]),w=Number(n[2]),_=Number(n[3]);if(C<0||C>360||w<0||w>100||_<0||_>100)throw new Error("HSL values out of range");c=`hsl(${C}, ${w}%, ${_}%)`;const R=Se(C,w,_);p=R.r,d=R.g,u=R.b}else if(a==="rgb"){const n=s.match(/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i);if(!n)throw new Error("Invalid RGB format");const C=Number(n[1]),w=Number(n[2]),_=Number(n[3]);if([C,w,_].some(R=>R<0||R>255))throw new Error("RGB values must be between 0 and 255");c=`rgb(${C}, ${w}, ${_})`,p=C,d=w,u=_}else if(a==="hex"){if(!/^#([0-9A-F]{3}){1,2}$/i.test(s))throw new Error("Invalid Hex format");c=s.toUpperCase();const n=Re(c);p=n.r,d=n.g,u=n.b}else throw new Error("Unsupported color format");const A=Ne(p,d,u),g=(o=b[h])==null?void 0:o.items.map(n=>{var C,w,_,R,F,U,ne;if(n.id===t)return{...n,color:c,colorFormat:a,luminance:A,compliantColors:{AAA_RegularText:[],AA_RegularText:[],AA_UIComponents:[]}};{const ee=Ee(n,{id:t,color:c,colorFormat:a,luminance:A,status:n.status,compliantColors:{AAA_RegularText:[],AA_RegularText:[],AA_UIComponents:[]}});return{...n,compliantColors:{AAA_RegularText:ee.isAAARegularTextCompliant?[...new Set([...(C=n.compliantColors)==null?void 0:C.AAA_RegularText,t])]:(w=n.compliantColors)==null?void 0:w.AAA_RegularText.filter(K=>K!==t),AA_RegularText:ee.isAARegularTextCompliant?[...new Set([...(_=n.compliantColors)==null?void 0:_.AA_RegularText,t])]:(R=n.compliantColors)==null?void 0:R.AA_RegularText.filter(K=>K!==t),AA_UIComponents:ee.isAAUIComponentsCompliant?[...new Set([...(F=n.compliantColors)==null?void 0:F.AA_UIComponents,t])]:(ne=(U=n.compliantColors)==null?void 0:U.AA_UIComponents)==null?void 0:ne.filter(K=>K!==t)}}}}),H=(n,C)=>{let w=[],_=[],R=[];return C.forEach(F=>{if(F.id===n.id)return;const U=Ee(n,F);U.isAAARegularTextCompliant&&w.push(F.id),U.isAARegularTextCompliant&&R.push(F.id),U.isAAUIComponentsCompliant&&_.push(F.id)}),{AAA_RegularText:Array.from(new Set(w)),AA_RegularText:Array.from(new Set(R)),AA_UIComponents:Array.from(new Set(_))}},O=g.findIndex(n=>n.id===t);if(O!==-1){const n=H(g[O],g);g[O]={...g[O],compliantColors:n}}S([...g])}catch(c){console.error("Error updating color:",c),$(le(`${je[m]}: ${c.message}`,!0,4))}},y=(t,s)=>{t.dataTransfer.setData("text/plain",JSON.stringify({type:"item",id:s}))},j=(t,s)=>{t.preventDefault(),se(s),oe.current=s},T=t=>{t.preventDefault(),z(!0)},G=t=>{const s=JSON.parse(t.dataTransfer.getData("text/plain"));s.type==="item"&&(be(s.id,h,_e),z(!1))};E.useEffect(()=>{var t;S((t=b[h])==null?void 0:t.items)},[b]),E.useEffect(()=>{var t,s;(!((t=b[h])!=null&&t.items)||((s=b[h])==null?void 0:s.items.length)<1)&&S(Ie)},[]),E.useEffect(()=>{var t;((t=b[h])==null?void 0:t.items.length)<1&&v(1)},[L]);const Z=()=>{window.confirm(tt[m])&&(Y(),S([]))},rt=()=>{window.confirm(tt[m])&&(Y(),S(Ie))},Te=.04;return e.jsxs("div",{id:l["color-container"],className:`${l["color-container"]} ${I?l.light:""}`,style:{"--font-size":W.input},children:[e.jsx("div",{id:"info",className:l["info-wrap"],children:e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("div",{style:{display:"inline-block",backgroundColor:"var(--color-primary-20)",borderRadius:"50%",width:"2em",height:"2em"}}),e.jsx("span",{children:dt[m]})]}),e.jsxs("li",{children:[e.jsx("div",{style:{display:"inline-block",backgroundColor:"transparent",outline:"0.3em solid var(--color-primary-20)",outlineOffset:"-0.3em",borderRadius:"50%",width:"1.7em",height:"1.7em",margin:"0 0.2em 0 0.2em "}}),e.jsx("span",{children:ut[m]})]}),e.jsxs("li",{children:[e.jsx("div",{style:{display:"inline-block",backgroundColor:"transparent",outline:"0.3em solid var(--color-primary-20)",outlineOffset:"-0.26em",borderRadius:"0",width:"0.9em",height:"0.9em",margin:"0 0.65em 0 0.65em"}}),e.jsx("span",{children:pt[m]})]})]})}),e.jsxs("div",{className:l["btn-wrap"],children:[((Ue=(Fe=b[h])==null?void 0:Fe.items)==null?void 0:Ue.length)>0&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",onClick:he,className:"gray small",children:[ht[m],"  ",e.jsx(ot,{})]}),e.jsxs("button",{type:"button",onClick:pe,className:"gray small",children:[ft[m],"  ",e.jsx(ot,{})]})]}),e.jsx("button",{onClick:P,className:"gray small",children:I?e.jsxs(e.Fragment,{children:[xt[m],"  ",e.jsx(Wt,{})]}):e.jsxs(e.Fragment,{children:[At[m],"  ",e.jsx(Ht,{})," "]})})]}),e.jsxs("div",{className:l["color-picker"],children:[e.jsxs("label",{htmlFor:"color-input",className:" ",children:[gt[m],":"]}),e.jsx("input",{id:"color-input",type:"color",value:q,onChange:t=>B(t.target.value)}),e.jsx("button",{className:"gray small",type:"button",onClick:r,children:$t[m]}),e.jsx("button",{className:"gray small",type:"button",onClick:rt,children:bt[m]}),e.jsx("button",{className:"gray small",type:"button",onClick:Z,children:_t[m]})]}),e.jsx("div",{id:"color-blocks",className:`${l["color-blocks"]} ${!k||!N?l.overflow:""} ${de?l.drag:""}`,children:(De=b[h])==null?void 0:De.items.map(t=>{var s,a;return e.jsx("ul",{className:l["block-wrap"],onDrop:G,children:e.jsxs("li",{className:l["color-wrap"],title:`ID: ${t.id}`,"aria-label":`ID: ${t.id}`,style:{width:`${i}`,maxWidth:`${i}`},children:[e.jsx("ul",{children:e.jsx("li",{draggable:"true",onDragStart:o=>y(o,t.id),onDragEnter:o=>j(o,t.id),onDragOver:o=>T(o),onDragEnd:()=>z(!1),"data-identity":t.id,className:l["color-block"],style:{"--color":t.color,backgroundColor:t.color,width:`${i}`,maxWidth:`${i}`,height:`calc(calc(${i} * 0.6) * ${(s=b[h])==null?void 0:s.items.length})`},children:e.jsx("div",{className:l["compliance-indicators"],style:{gap:`calc(${i} / 4)`,"--width-full":`${i}`},children:(a=b[h])==null?void 0:a.items.map(o=>{var p,d,u,A,g,H;if(o.id===t.id)return e.jsx("div",{className:`${l["indicator-null"]} ${l.indicator}`,style:{"--color":o.color,"--width":`calc(${i} / 3)`,"--left":`calc(calc(${i} / 3) * -1)`,backgroundColor:"transparent",width:`calc(${i} / 3)`,height:`calc(${i} / 3)`}},`none-${o.color}-${o.id}`);let c=null;return(d=(p=t.compliantColors)==null?void 0:p.AAA_RegularText)!=null&&d.includes(o.id)?c="AAA_RegularText":(A=(u=t.compliantColors)==null?void 0:u.AA_RegularText)!=null&&A.includes(o.id)?c="AA_RegularText":(H=(g=t.compliantColors)==null?void 0:g.AA_UIComponents)!=null&&H.includes(o.id)&&(c="AA_UIComponents"),c==="AAA_RegularText"?e.jsx("div",{tabIndex:0,className:`${l["indicator-aaa"]} ${l.indicator} tooltip-wrap`,style:{"--color":o.color,backgroundColor:o.color,"--left":`calc(calc(${i} / 3) * -1)`,width:`calc(${i} / 3)`,height:`calc(${i} / 3)`},"aria-labelledby":`span-${o.id}-${t.id}-${ce}`,children:e.jsx("span",{id:`span-${o.id}-${t.id}-${ce}`,className:`tooltip below narrow3 ${l.tooltip}`,style:{fontSize:`clamp(0.7rem, ${W.input}, 0.9rem)`,"--tooltip-max-width":i},children:`${Ct[m]}: ${o.id}`})},`aaa-${o.color}-${o.id}`):c==="AA_RegularText"?e.jsx("div",{tabIndex:0,className:`${l["indicator-aa"]} ${l.indicator} tooltip-wrap`,style:{"--color":o.color,backgroundColor:t.color,outline:`calc(${i} * ${Te*1.1}) solid ${o.color}`,outlineOffset:`calc(${i} * -0.013)`,"--left":`calc(calc(${i} / 5) * -2)`,width:`calc(${i} / 5)`,height:`calc(${i} / 5)`,margin:`calc(${i} / 15)`,borderRadius:"50%"},"aria-labelledby":`span-${o.id}-${t.id}-${ce}`,children:e.jsx("span",{id:`span-${o.id}-${t.id}-${ce}`,className:"tooltip below narrow3",style:{fontSize:`clamp(0.7rem, ${W.input}, 0.9rem)`,"--tooltip-max-width":i},children:`${wt[m]}: ${o.id}`})},`aa-${o.color}-${o.id}`):c==="AA_UIComponents"?e.jsx("div",{tabIndex:0,className:`${l["indicator-aa-ui"]} ${l.indicator} tooltip-wrap`,style:{"--color":o.color,"--left":`calc(calc(${i} / 7) * -3)`,backgroundColor:t.color,outline:`calc(${i} * ${Te}) solid ${o.color}`,outlineOffset:`calc(${i} * ${Te} * -1)`,width:`calc(${i} / 7)`,height:`calc(${i} / 7)`,margin:`calc(${i} / 10.5)`},"aria-labelledby":`span-ui-${o.id}-${t.id}-${ce}`,children:e.jsx("span",{id:`span-ui-${o.id}-${t.id}-${ce}`,className:`tooltip below narrow3 ${l.tooltip}`,style:{fontSize:`clamp(0.7rem, ${W.input}, 0.9rem)`,"--tooltip-max-width":i},children:`${yt[m]}: ${o.id}`})},`aa-ui-${o.color}-${o.id}`):e.jsx("div",{"aria-hidden":"true",className:`${l["indicator-null"]} ${l.indicator}`,style:{"--color":o.color,backgroundColor:"transparent","--left":`calc(calc(${i} / 3) * -1)`,width:`calc(${i} / 3)`,height:`calc(${i} / 3)`}},`null-${o.color}-${o.id}`)})})})}),k&&e.jsx("div",{style:{backgroundColor:t.color,width:`${i}`,maxWidth:`${i}`,display:"flex",justifyContent:"center",alignItems:"center",padding:"0.5em 0.1em "},className:l["color-name"],children:e.jsx("span",{style:{color:t.luminance<.179?"white":"black",fontSize:`clamp(0.7rem, ${W.input}, 1.2rem)`,textAlign:"center"},children:t.color})}),N&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:l["color-edit-container"],children:e.jsx(Yt,{language:m,block:t,updateColor:x,width:i,hexToRGB:Re,rgbToHSL:Qe,rgbToHex:Ze,hslToRGB:Se,fontSize:`clamp(0.75rem, ${W.input}, 1rem)`})}),e.jsx("button",{className:`tooltip-wrap small delete danger gray ${l.remove}`,onClick:()=>f(t.id),style:{margin:"0.8em auto",width:"calc(100% - 4px)",minWidth:"calc(100% - 4px)",fontSize:`clamp(0.75rem, ${W.input}, 2rem)`},children:vt[m]})]})]})},`${t.color}-${t.id}`)})}),((Be=(Le=b[h])==null?void 0:Le.items)==null?void 0:Be.length)>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:l["width-wrap"],children:[e.jsx("label",{htmlFor:"color-block-width",children:jt[m]}),e.jsx("input",{id:"color-block-width",type:"range",min:6,max:12,step:.5,value:M,onChange:t=>Ce(Number(t.target.value))})]}),e.jsxs("div",{className:`${l["toggle-controls"]}`,children:[e.jsxs("div",{children:[e.jsx("strong",{children:Rt[m]}),e.jsx("button",{id:"toggle-controls",type:"button",onClick:()=>me(!N),className:"gray small",children:N?Nt[m]:Tt[m]})]}),e.jsxs("div",{children:[e.jsx("strong",{children:Et[m]}),e.jsx("button",{type:"button",onClick:()=>X(!k),className:"gray small",children:k?It[m]:St[m]})]})]})]})]})};export{ho as default};
