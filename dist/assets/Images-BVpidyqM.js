const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Image-BSXB9JYq.js","assets/react-A9DAvxly.js","assets/hoist-non-react-statics-D5aJipOz.js","assets/index-yJlXDAYf.js","assets/react-dom-yh0erWL-.js","assets/scheduler-CzFDRTuY.js","assets/react-redux-CHm9GgGE.js","assets/react-is-DUDD-a5e.js","assets/use-sync-external-store-DEc9BFqZ.js","assets/@reduxjs-DhFEcpJw.js","assets/immer-C0GRqQ_d.js","assets/redux-CE3tqztX.js","assets/@babel-DF5_wy6Y.js","assets/redux-thunk-CY0Q9z1Q.js","assets/axios-CCb-kr4I.js","assets/react-icons-CrVlm7qW.js","assets/react-router-dom-CYs6befe.js","assets/react-router-S1Hdk0kP.js","assets/@remix-run-DTnHqtaE.js","assets/index-D4I2GOuP.css","assets/poems-B-A6y-K7.js","assets/Video-Bmn6kEK0.js"])))=>i.map(i=>d[i]);
import{gm as J,K as $e,c$ as Xe,ae as Ne,gn as ge,W as L,go as we,gp as Se,gq as Ze,fl as Te,fW as Pe,gr as We,gs as et,gt as tt,gu as st,gv as K,gw as G,gx as P,eV as ce,gy as r,gz as at,bK as Ce,gA as it,gB as rt,bJ as oe,bL as le,gC as nt,gD as ct,gE as ot,gF as he,gG as lt,S as A,gH as ht,gI as dt,gJ as pt,gK as ut,gL as xt,gM as mt,gN as ft,gO as yt,gP as vt,gQ as bt,gR as jt,gS as gt,gT as wt,ag as de,gU as pe,gV as ue,gW as xe,gX as Ee,gY as _e,gZ as St,g_ as Ct}from"./index-yJlXDAYf.js";import{r as n,j as s}from"./react-A9DAvxly.js";import{a as Et}from"./axios-CCb-kr4I.js";import{P as _t,aY as $t,aZ as Nt,Q as Tt}from"./react-icons-CrVlm7qW.js";const Mt="http://localhost:4000",kt=`${Mt}/api/images`,Ot=async(e,c)=>{var b,x;try{const o=new URLSearchParams;return o.append("q",c.q),c.type?o.append("image_type",c.type):o.append("image_type","all"),c.video_type&&o.append("video_type",c.video_type),c.orientation?o.append("orientation",c.orientation):o.append("orientation",J.All),c.category&&o.append("category",c.category),c.min_width!==void 0&&c.min_width>=0?o.append("min_width",c.min_width.toString()):o.append("min_width","0"),c.min_height!==void 0&&c.min_height>=0?o.append("min_height",c.min_height.toString()):o.append("min_height","0"),c.colors&&c.colors.length>0&&o.append("colors",c.colors.join(",")),o.append("editors_choice",c.editors_choice?"true":"false"),o.append("safesearch",c.safesearch?"true":"false"),c.order?o.append("order",c.order):o.append("order","popular"),o.append("per_page",c.per_page&&c.per_page>=3&&c.per_page<=200?c.per_page.toString():"200"),(await Et.get(`${kt}/${e}?${o.toString()}`)).data}catch(o){return console.error("Error fetching images:",o),{success:!1,message:((x=(b=o.response)==null?void 0:b.data)==null?void 0:x.message)||`Error fetching images. ${o.message}`,totalHits:0,hits:[]}}},At={searchMedia:Ot},Lt="_cloud_1ami1_1",Rt="_word_1ami1_29",W={"cloud-wrap":"_cloud-wrap_1ami1_1",cloud:Lt,word:Rt},Dt=({language:e,title:c,onClick:b,words:x,width:o=600,height:j=400})=>{const N=$e(),[X,R]=n.useState([]),f=Xe(),{windowWidth:g}=Ne(),y=n.useRef(null),ee=(a,h)=>{const i=document.createElement("canvas").getContext("2d");if(i){i.font=`${h}px Arial`;const u=i.measureText(a).width+2,E=h*.65,_=h*.2,F=E+_;return{width:u,height:F,ascent:E,descent:_}}return{width:0,height:0,ascent:0,descent:0}},D=(a,h)=>{const{width:l,height:i,ascent:d}=ee(a.text,h);return{width:l,height:i,ascent:d}},te=(a,h)=>{const l=[],i=h.width*Ze(.2,.4),d=h.height*.2;return l.push({x:a.x+i,y:a.y-h.height}),l.push({x:a.x+i,y:a.y+a.height}),l.push({x:a.x+a.width,y:a.y+d}),l.push({x:a.x+a.width-i,y:a.y-h.height}),l.push({x:a.x+a.width-i,y:a.y+a.height}),l.push({x:a.x-h.width,y:a.y+d}),l.push({x:a.x-h.width,y:a.y+a.height}),g<500&&l.push({x:a.x-h.width,y:a.y-h.height}),g<500&&l.push({x:a.x-i,y:a.y+a.height*2}),g<500&&l.push({x:a.x-i,y:a.y-a.height*2}),g<500&&l.push({x:a.x+i,y:a.y+a.height*3}),g<500&&l.push({x:a.x+i,y:a.y-a.height*3}),g<500&&l.push({x:a.x-i,y:a.y+a.height*3}),g<500&&l.push({x:a.x-i,y:a.y-a.height*3}),l},Q=(a,h,l,i,d)=>d.some(u=>a<u.x+u.width&&a+l>u.x&&h<u.y+u.height&&h+i>u.y),H=async a=>{var l,i;const h=a;if(b)b(a);else if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(h).then(()=>{N(L(we[e],!1,3))},d=>{N(L(`${Se[e]}`,!0,3)),console.error("Failed to copy:",d)});else{const d=document.createElement("textarea");d.value=h,(l=y.current)==null||l.appendChild(d),d.focus(),d.select();try{document.execCommand("copy"),N(L(we[e],!1,3))}catch(u){console.error("Failed to copy:",u),N(L(`${Se[e]}`,!0,3))}(i=y.current)==null||i.removeChild(d)}};return n.useEffect(()=>{if(x.length===0){R([]);return}const a=[...x].sort((i,d)=>d.weight!==i.weight?d.weight-i.weight:i.text.length-d.text.length),h=[],l=[];a.forEach((i,d)=>{const u=i.weight,{width:E,height:_,ascent:F}=D(i,u);let T=!1;const Z=30;let z=0;if(d===0){const $=(o-E)/2,M=(j+F-_)/2;h.push({x:$,y:M,width:E,height:_}),l.push(s.jsx("text",{x:$,y:M+F,fontSize:u,fontFamily:"Arial, sans-serif",fill:`hsl(${d*110%360}, 100%, ${f?"20":"70"}%)`,className:W.word,style:{cursor:"pointer"},onClick:()=>{H(i.text)},tabIndex:0,onKeyDown:V=>{(V.key==="Enter"||V.key===" ")&&H(i.text)},"aria-label":c??`${ge[e]}: ${i.text}`,children:i.text},i.text)),T=!0}for(;!T&&z<Z;){for(let $=0;$<h.length&&!T;$++){const M=h[$],V=te(M,{width:E,height:_});for(let B of V){const m={x:B.x,y:B.y,width:E,height:_};if(!(m.x<0||m.y<0||m.x+m.width>o||m.y+m.height>j)&&!Q(m.x,m.y,m.width,m.height,h)){h.push(m),l.push(s.jsx("text",{x:m.x,y:m.y+F,fontSize:u,fontFamily:"Arial, sans-serif",fill:`hsl(${d*110%360}, 100%, ${f?"20":"70"}%)`,style:{cursor:"pointer"},className:W.word,onClick:()=>H(i.text),tabIndex:0,onKeyDown:k=>{(k.key==="Enter"||k.key===" ")&&H(i.text)},"aria-label":c??`${ge[e]}: ${i.text}`,children:i.text},i.text)),T=!0;break}}}z++}T||console.warn(`Could not place word after ${z} attempts:: ${i.text}`)}),R(l)},[x,o,j,e,f,N]),s.jsx("div",{ref:y,className:W["cloud-wrap"],children:s.jsx("svg",{width:o,height:j,className:W.cloud,children:X})})},Ft=()=>{const[e,c]=n.useState({visible:!1,x:0,y:0}),b=n.useCallback((o,j)=>{c({visible:!0,x:o,y:j})},[]),x=n.useCallback(()=>{c(o=>({...o,visible:!1}))},[]);return{tooltip:e,handleMouseMove:b,handleMouseLeave:x}};var Me=(e=>(e.en="Poem",e.es="Poema",e.fr="Poème",e.de="Gedicht",e.pt="Poema",e.cs="Báseň",e.fi="Runo",e))(Me||{});const It=pe.map(e=>({text:e,weight:e==="design"?50:ue.includes(e)?Math.floor(Math.random()*10)+30:xe.includes(e)?Math.floor(Math.random()*5)+15:Math.floor(Math.random()*10)+15})),Ht=pe.map(e=>({text:e,weight:e==="design"?33:ue.includes(e)?Math.floor(Math.random()*10)+16:xe.includes(e)?Math.floor(Math.random()*5)+14:Math.floor(Math.random()*6)+15})),zt=pe.map(e=>({text:e,weight:e==="design"?28:ue.includes(e)?Math.floor(Math.random()*10)+13:xe.includes(e)?Math.floor(Math.random()*5)+14:Math.floor(Math.random()*5)+15})),Vt=n.lazy(()=>Te(()=>import("./Image-BSXB9JYq.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]))),Bt=n.lazy(()=>Te(()=>import("./Video-Bmn6kEK0.js"),__vite__mapDeps([21,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]))),qt=({language:e})=>{const c=$e(),{show:b}=Pe(),[x,o]=n.useState([]),[j,N]=n.useState(!1),[X,R]=n.useState(""),[f,g]=n.useState("imagination"),[y,ee]=n.useState("photo"),[D,te]=n.useState("all"),[Q,H]=n.useState(J.All),[a,h]=n.useState("poem"),l=["all","photo","illustration","vector","video"],i=["all","film","animation"],d=[J.All,J.Horizontal,J.Vertical],u=[{label:Me[e],value:"poem"},{label:We[e],value:"quote"}],E=Object.values(et),_=Object.values(tt),F=Object.values(st),T=K(i,e),Z=K(F,e),z=K(l,e),$=K(d.map(t=>t),e),M=K(E,e);M.unshift({label:G[e],value:""});const V=K(_,e),[B,m]=n.useState(void 0),[k,ke]=n.useState([]),[q,Oe]=n.useState([]),[se,Ae]=n.useState(!1),[ae,Le]=n.useState(!0),[ie,Re]=n.useState("popular"),[U,Kt]=n.useState(100),[w,I]=n.useState(1),[O,De]=n.useState(20),[S,me]=n.useState(1),[Y,Fe]=n.useState(1),[Gt,Ie]=n.useState(0),[He,ze]=n.useState(!1),fe=n.useRef(!0),[v,re]=n.useState(1),ye=[{label:"10",value:10},{label:"20",value:20},{label:"50",value:50},{label:"100",value:100}],{windowWidth:C}=Ne(),{tooltip:ne,handleMouseMove:Ve,handleMouseLeave:Be}=Ft(),qe=t=>{const p=t.currentTarget.getBoundingClientRect(),Ye=t.clientX-p.left-50,Je=t.clientY-p.top+30;Ve(Ye,Je)},ve=async t=>{N(!0),R("");const p=await At.searchMedia(e,t);p.success?(o(p.hits),Ie(p.totalHits),me(Math.ceil(p.hits.length<O?1:p.hits.length/O)),Fe(Math.ceil(p.totalHits<U?1:p.totalHits/U)),ce("image-container")):(c(L(p.message||"Error fetching images.",!0,6)),R(p.message||"Error fetching images.")),N(!1)};n.useEffect(()=>{const t=k==null?void 0:k.map(p=>p.value);Oe(t)},[k]);const Ke=t=>{if(t.preventDefault(),f.trim()===""){c(L(P[e],!0,6)),R(P[e]);return}I(1),ze(!0);const p={q:f,type:y,video_type:D!=="all"?D:void 0,orientation:Q,category:B,colors:q&&q.length>0?q:void 0,editors_choice:se,safesearch:ae,order:ie,per_page:U,page:v};ve(p)};n.useEffect(()=>{if(fe.current){fe.current=!1;return}if(!He)return;if(f.trim()===""){c(L(P[e],!0,6)),R(P[e]);return}I(1),ce("image-container");const t={q:f,type:y,video_type:D!=="all"?D:void 0,orientation:Q,category:B,colors:q&&q.length>0?q:void 0,editors_choice:se,safesearch:ae,order:ie,per_page:U,page:v};ve(t)},[v]),n.useEffect(()=>{me(Math.ceil(x.length<O?1:x.length/O))},[x,O]);const Ge=x.slice((w-1)*O,w*O),be=()=>x.length===0?s.jsx(s.Fragment,{}):S===1?s.jsx(s.Fragment,{}):s.jsxs("div",{className:r["pagination-wrap"],children:[s.jsxs("button",{className:"tooltip-wrap",disabled:w===1,onClick:()=>I(1),children:[s.jsx(_t,{}),s.jsx("span",{className:"scr",children:Ee[e]}),s.jsx("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:Ee[e]})]}),s.jsxs("button",{className:"tooltip-wrap",onClick:()=>I(t=>Math.max(t-1,1)),disabled:w===1,children:[s.jsx($t,{}),s.jsx("span",{className:"scr",children:oe[e]}),s.jsx("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:oe[e]})]}),s.jsxs("span",{children:[Ce[e]," ",w," / ",S]}),s.jsxs("button",{className:"tooltip-wrap",onClick:()=>I(t=>Math.min(t+1,S)),disabled:w===S,children:[s.jsx(Nt,{}),s.jsx("span",{className:"scr",children:le[e]}),s.jsx("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:le[e]})]}),s.jsxs("button",{className:"tooltip-wrap",disabled:w===S,onClick:()=>I(S),children:[s.jsx(Tt,{}),s.jsxs("span",{className:"scr",children:[_e[e]," (",S,")"]}),s.jsxs("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:[_e[e]," (",S,")"]})]})]}),Qe=Array.from({length:Y},(t,p)=>p+1).map((t,p)=>s.jsx(n.Fragment,{children:s.jsxs("button",{onClick:()=>{I(1),re(t)},className:`tooltip-wrap ${r["fetch-page-button"]} ${t===v?r.active:""}`,"data-current":t===v?at[e]:"",disabled:p===v-1||t>Y,children:[t,s.jsxs("span",{className:"tooltip above narrow2",children:[Ce[e]," ",t]})]})},t)),je=s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:r["batch-paragraph"],children:[it[e]," ",U," ",rt[e],":"]}),s.jsxs("div",{id:`${r["fetch-btn-wrap"]}`,className:r["fetch-page-buttons-wrap"],children:[v!==1&&s.jsxs("button",{className:`reset ${r["fetch-more-btn"]}`,onClick:()=>re(t=>t-1),children:["« ",oe[e]]}),Qe,v!==Y&&s.jsxs("button",{className:`reset ${r["fetch-more-btn"]}`,onClick:()=>re(t=>t+1),children:[le[e]," »"]}),w===S&&v>=Y&&s.jsx("p",{className:`${r["end-message"]}`,children:nt[e]})]})]}),Ue=t=>{g(t),ce("search-container","start"),c(L(`${St[e]}: ${Ct[e]}: ${t}`,!1,4))};return s.jsxs("div",{id:"search-container",className:r["search-container"],children:[s.jsx("section",{className:`card ${r["settings-section"]}`,children:s.jsxs("div",{children:[s.jsxs("div",{className:`tooltip-wrap ${r["wordcloud-wrap"]}`,onMouseMove:qe,onMouseLeave:Be,children:[s.jsx(Dt,{language:e,title:ct[e],onClick:Ue,words:C>700?It:C>500?Ht:zt,width:C<300?C-20:C<600?C-80:C-C/100*30,height:C<300?900:C<500?800:500}),ne.visible&&s.jsx("span",{className:"tooltip narrow",style:{top:ne.y,left:ne.x,right:"unset"},children:ot[e]})]}),s.jsxs("form",{onSubmit:Ke,children:[s.jsxs("div",{className:r["search-wrap"],children:[s.jsx("h2",{children:he[e]}),s.jsxs("div",{className:r.column,children:[s.jsx("div",{className:`input-wrap ${r["input-wrap"]}`,children:s.jsxs("label",{children:[s.jsx("input",{name:"search",type:"text",maxLength:100,value:f,onChange:t=>g(t.target.value),placeholder:lt[e]}),s.jsx("span",{children:he[e]})]})}),y!=="video"&&s.jsx(A,{z:8,id:"colors",className:`${r.select} ${r.colors}`,multiple:!0,instructions:ht[e],value:k,onChange:t=>ke(t),options:V,language:e})]}),s.jsxs("div",{className:r["controls-wrap"],children:[s.jsx(A,{z:7,id:"result-type",className:`${r.select} ${r["result-type"]}`,hideDelete:!0,instructions:dt[e],value:z.find(t=>t.value===y)||{label:G[e],value:"all"},onChange:t=>ee(t==null?void 0:t.value),options:z,language:e}),y==="video"?s.jsx(A,{z:6,id:"result-type",className:`${r.select} ${r["result-type"]}`,hideDelete:!0,instructions:pt[e],value:T.find(t=>t.value===D)||{label:G[e],value:"all"},onChange:t=>te(t==null?void 0:t.value),options:T,language:e}):s.jsx(A,{z:5,id:"orientation",className:`${r.select} ${r.orientation}`,instructions:ut[e],hideDelete:!0,value:$.find(t=>t.value===Q)||{label:G[e],value:"all"},onChange:t=>H(t==null?void 0:t.value),options:$,language:e}),s.jsx(A,{z:4,id:"category",className:`${r.select} ${r.category}`,hideDelete:!0,instructions:xt[e],value:M.find(t=>t.value===B)||{label:G[e],value:""},onChange:t=>m(t==null?void 0:t.value),options:M,language:e}),s.jsx(A,{z:3,id:"order-by",className:`${r.select} ${r["order-by"]}`,hideDelete:!0,instructions:mt[e],value:Z.find(t=>t.value===ie)||{label:"Popular",value:"popular"},onChange:t=>Re(t==null?void 0:t.value),options:Z,language:e})]})]}),s.jsxs("div",{className:`${r["checkbox-wrap"]}`,children:[s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:se,onChange:t=>Ae(t.target.checked)}),ft[e]," (Pixabay)"]}),s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:ae,onChange:t=>Le(t.target.checked)}),yt[e]]})]}),s.jsxs("div",{className:r["submit-wrap"],children:[s.jsx(A,{z:2,id:"text-type",className:`${r.select} ${r["text-type"]}`,hideDelete:!0,instructions:vt[e],value:u.find(t=>t.value===a)||{label:G[e],value:""},onChange:t=>h(t==null?void 0:t.value),options:u,language:e}),s.jsx(A,{z:1,id:"images-per-page",className:`${r.select} ${r["images-per-page"]}`,hideDelete:!0,instructions:bt[e],value:ye.find(t=>t.value===O)||{label:"20",value:20},onChange:t=>{De(Number(t==null?void 0:t.value))},options:ye,language:e}),s.jsx("button",{type:"submit",disabled:j,children:y==="video"?jt[e]:he[e]})]}),y==="vector"&&s.jsxs("p",{className:`textcenter flex center   ${r.note}`,children:[gt[e]," ",wt[e]]})]})]})}),x.length>0&&s.jsx("section",{className:`card ${r["image-section"]}`,children:s.jsxs("div",{children:[j&&s.jsxs("p",{className:"textcenter flex center margin0auto textcenter",children:[de[e],"..."]}),X&&s.jsx("p",{className:r.error,children:X}),be(),s.jsx("div",{id:"image-container",className:r["image-container"],children:Ge.map(t=>s.jsx(n.Fragment,{children:"videos"in t?s.jsx(n.Suspense,{fallback:s.jsxs("div",{className:"flex center margin0auto textcenter",style:{width:"100%",height:"auto",aspectRatio:t.videos.small.width/t.videos.small.height},children:[de[e],"..."]},`key-${t.id}`),children:s.jsx(Bt,{video:t,language:e,show:b,searchTerm:f,textType:a},t.id)}):s.jsx(n.Suspense,{fallback:s.jsxs("div",{className:"flex center margin0auto textcenter",style:{width:"100%",height:`${t.previewHeight}px`,aspectRatio:t.previewWidth/t.previewHeight},children:[de[e],"..."]},`key-${t.id}`),children:s.jsx(Vt,{image:t,language:e,show:b,searchTerm:f,textType:a},t.id)})},t.id))}),be(),w===1&&v>1&&je,w===S&&v<=Y&&je]})})]})},Zt=Object.freeze(Object.defineProperty({__proto__:null,default:qt},Symbol.toStringTag,{value:"Module"}));export{Zt as I,Ft as u};
