import{r as b,j as e}from"./react-kX_YxI4E.js";import{A as ye}from"./AdditionalInfo-oF6Sxj2B.js";import{K as we,u as fe,af as i,ag as be,ah as H,ai as ve,o as x,aj as Ee,ak as M,al as _e,am as Ce,an as Ne,ao as $e,ap as qe,aq as ke,ar as Fe,as as v,at as Ae,au as Te,av as Se,aw as T,ax as G,ay as K,az as De,aA as W,aB as Re,aC as Q,aD as Ie,aE as Pe,aF as Be,aG as Le,aH as Z,aI as Je,aJ as Oe,aK as ze,aL as He,aM as U,aN as Y,aO as V,aP as E,aQ as _,aR as C,aS as N,aT as X,aU as Me,aV as Ge,aW as Ke,aX as We,aY as Qe,aZ as Ze,a_ as Ue,a$ as Ye,b0 as Ve,b1 as Xe,R as ge,b2 as es,b3 as ss,b4 as rs,b5 as ts,b6 as as}from"./index-D1vQCaOm.js";import{c as is}from"./cart-CgS8CQgD.js";import{L as g}from"./react-router-dom-StiqOUIT.js";import{B as ns}from"./ButtonToggle-D3I7LAIf.js";import{a as ls,t as cs,R as os}from"./react-icons-DhcENkY1.js";import"./dom-to-image-more-CfDXlNbO.js";import"./react-dom-B5MLDbn_.js";import"./scheduler-CzFDRTuY.js";import"./react-redux-BEmJlIGA.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-BPp6CH6k.js";import"./@reduxjs-DhFEcpJw.js";import"./immer-C0GRqQ_d.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./axios-CCb-kr4I.js";import"./react-router-DUuhLvki.js";import"./@remix-run-DTnHqtaE.js";const ds="_light_uwfyl_1",ps="_quantity_uwfyl_51",hs="_total_uwfyl_129",ms="_gdpr_uwfyl_231",xs="_terms_uwfyl_233",us="_wrap_uwfyl_393",js="_submit_uwfyl_461",t={light:ds,"cart-wrap":"_cart-wrap_uwfyl_5","addition-wrap":"_addition-wrap_uwfyl_41",quantity:ps,"quantity-btn":"_quantity-btn_uwfyl_69","item-details":"_item-details_uwfyl_83","textarea-wrap":"_textarea-wrap_uwfyl_99","input-wrap":"_input-wrap_uwfyl_101",total:hs,"please-fill":"_please-fill_uwfyl_157","toggle-wrap":"_toggle-wrap_uwfyl_179","clear-btn-wrap":"_clear-btn-wrap_uwfyl_203","send-order-wrap":"_send-order-wrap_uwfyl_225",gdpr:ms,terms:xs,"accordion-wrap":"_accordion-wrap_uwfyl_271","additional-info-wrap":"_additional-info-wrap_uwfyl_285","back-to-store":"_back-to-store_uwfyl_323","cart-form":"_cart-form_uwfyl_375",wrap:us,"more-info-wrap":"_more-info-wrap_uwfyl_439",submit:js},Js=({language:r,cart:u,addToCart:ee,removeFromCart:$,editDetails:se,removeCart:S})=>{const re=we(),h=fe(),[D,q]=i("localStorageTotal",0),[n,R]=i("localStorageEmail",""),[l,I]=i("JCartName",""),[j,te]=i("JCartBusiness",!1),[f,ae]=i("JCartCompanyName",""),[c,P]=i("JCartCountry",""),[o,B]=i("JCartAddress",""),[d,L]=i("JCartCity",""),[p,J]=i("JCartZip",""),[y,ie]=i("JCartPhone",""),[w,ne]=i("JCartBusinessID",""),[le,ce]=i("JCartDetails",{email:n,name:l,businessID:w,zip:p,city:d,address:o,country:c,phone:y}),[O,oe]=i("JCartExtra",""),[de,pe]=b.useState(!1),[he,me]=b.useState(!1),[xe,m]=b.useState(!1),k=5,z=10,ue=1,F=3;b.useEffect(()=>{ce({name:l,companyName:f,email:n,businessID:w,zip:p,city:d,address:o,country:c,phone:y})},[l,f,n,w,p,d,o,c,y]);const A=(s,a)=>{if(a<0&&s&&$(s==null?void 0:s.id),a>0)ee(s);else return};return b.useEffect(()=>{q(u.reduce((s,a)=>s+a.price*a.quantity,0))},[u]),e.jsxs("div",{className:`${t["cart-wrap"]} ${re?t.light:""}`,children:[e.jsxs(g,{to:"/store",className:t["back-to-store"],children:[e.jsx("span",{"aria-hidden":!0,children:"«"})," ",e.jsx(ls,{})," ",e.jsx("strong",{children:be[r]})]}),r!==H.Suomi&&r!==H.English&&e.jsx("p",{children:ve[r]}),e.jsxs("form",{onSubmit:s=>{s.preventDefault(),m(!0),u.length<1&&(h(x(Ee[r],!0,8)),m(!1)),de?he?j&&l&&l.trim()!==""&&f&&f.trim()!==""&&w&&w.trim()!==""&&n&&n.trim()!==""&&o&&o.trim()!==""&&p&&p.trim()!==""&&d&&d.trim()!==""&&c&&c.trim()!==""||!j&&l&&l.trim()!==""&&n&&n.trim()!==""&&o&&o.trim()!==""&&p&&p.trim()!==""&&d&&d.trim()!==""&&c&&c.trim()!==""?is.newOrder(r,{orderID:`${Math.ceil(Ne(1e5,999999))}-${$e(2,!0)}`,info:le,total:D,extra:O,items:u}).then(a=>{a.success?(h(x(a.message,!1,10)),S(),q(0),m(!1)):(h(x(a.message,!1,10)),m(!1))}).catch(a=>{a.response&&a.response.data&&a.response.data.message?h(x(a.response.data.message,!0,8)):h(x(a.message,!0,8)),m(!1)}):(h(x(qe[r],!0,8)),m(!1)):(h(x(`${M[r]}: ${Ce[r]}`,!0,8)),m(!1)):(h(x(`${M[r]}: ${_e[r]}`,!0,8)),m(!1))},className:t["cart-form"],children:[u.map((s,a)=>e.jsxs("div",{className:t.wrap,children:[e.jsxs("h2",{children:[e.jsxs("span",{children:[a+1,". "]}),e.jsx("span",{children:s.name})]}),e.jsx("p",{children:ke(s.description)}),e.jsx(ye,{type:s.id,language:r,styles:t,isOpen:!0,setIsFormOpen:()=>{},classNameWrap:t["additional-info-wrap"],text:Fe[r]}),e.jsxs("div",{className:`${t.quantity}`,children:[s.id!=="misc-quote"?e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",onClick:()=>{if(s.quantity-1<1)if(window.confirm(`${v[r]}: ${s.name}?`)){$(s.id);return}else return;A(s,-1)},className:`tooltip-wrap ${t["quantity-btn"]}`,children:[e.jsx("span",{className:"tooltip above space right narrow2",children:Ae[r]}),e.jsx("span",{children:"-1"})]}),e.jsxs("span",{children:[Te[r],": ",s.quantity]}),e.jsxs("button",{type:"button",onClick:()=>{A(s,1)},className:`tooltip-wrap ${t["quantity-btn"]}`,children:[e.jsx("span",{className:"tooltip above space right narrow2",children:Se[r]}),e.jsx("span",{children:"+1"})]})]}):e.jsx("button",{type:"button",onClick:()=>{if(s.quantity-1<1)if(window.confirm(`${v[r]}: ${s.name}?`)){$(s.id);return}else return;A(s,-1)},children:e.jsx("span",{children:v[r]})}),s.quantity>=z?e.jsxs("span",{children:[T[r],": ",s.quantity+F," ",G[r]]}):s.quantity>=k?e.jsxs("span",{children:[T[r],": ",s.quantity+ue," ",G[r]]}):""]}),s.id!=="misc-quote"?e.jsx(e.Fragment,{children:e.jsxs("p",{children:[K[r],": ",s.price," € × ",s.quantity," ="," ",e.jsxs("b",{children:[s.price*s.quantity," €"]})]})}):e.jsxs("p",{children:[K[r],": ",s.price," €"," "]}),s.id.startsWith("misc")&&s.quantity>=k&&e.jsx("p",{children:e.jsxs("big",{children:[e.jsx(cs,{})," ",e.jsx("span",{children:De[r]})," ",s.quantity>=z?e.jsxs(e.Fragment,{children:[e.jsxs("strong",{children:[" × ",F," "]}),e.jsx("span",{children:"—"})," ",e.jsx("span",{children:W[r]}),e.jsxs("strong",{children:[" ",s.price*F," € "]})]}):s.quantity>=k?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:" —"})," ",e.jsx("span",{children:W[r]}),e.jsxs("strong",{children:[" ",s.price," € "]})]}):""]})}),e.jsx("div",{className:t["item-details"],children:e.jsx("div",{className:`${t["textarea-wrap"]} textarea-wrap`,children:e.jsxs("label",{htmlFor:`${s.id}-details`,children:[e.jsxs("span",{children:[Re[r],":"]}),e.jsx("textarea",{rows:5,required:!0,id:`details-${s.id}`,name:`details-${s.id}`,placeholder:s.id.startsWith("misc")&&s.id!=="misc-quote"?Q[r]:Ie[r],onChange:je=>{se(s.id,je.target.value)}})]})})})]},`${s.id}-${a}`)),u.length>0?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:t.total,children:e.jsx("big",{children:e.jsxs("span",{children:[T[r],": ",D," €"," "]})})}),e.jsxs("div",{className:`${t["please-fill"]}`,children:[e.jsx("div",{className:`${t["toggle-wrap"]}`,children:e.jsx(ns,{id:"business-toggle",className:`${t.toggle}`,name:"company",on:Pe[r],off:Be[r],equal:!0,isChecked:j,handleToggleChange:()=>te(!j),label:`${Le[r]}: `})}),j?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"business-id",children:[e.jsx("input",{type:"text",name:"business-id",id:"business-id",required:!0,value:w,placeholder:Z[r],onChange:s=>ne(s.target.value)}),e.jsxs("span",{children:[Z[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"company-name",children:[e.jsx("input",{type:"text",id:"company-name",name:"company",required:!0,value:f,placeholder:`${Je[r]}/${Oe[r]}`,onChange:s=>ae(s.target.value)}),e.jsxs("span",{children:[ze[r],"/",He[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"name-cart",children:[e.jsx("input",{type:"text",id:"name-cart",name:"name",required:!0,value:l,placeholder:U[r],onChange:s=>I(s.target.value)}),e.jsxs("span",{children:[U[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"email-cart",children:[e.jsx("input",{type:"email",name:"email",id:"email-cart",required:!0,value:n,placeholder:Y[r],onChange:s=>R(s.target.value)}),e.jsxs("span",{children:[V[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"address-cart",children:[e.jsx("input",{type:"text",id:"address-cart",name:"address",required:!0,value:o,placeholder:E[r],onChange:s=>B(s.target.value)}),e.jsxs("span",{children:[E[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"zip-cart",children:[e.jsx("input",{type:"text",id:"zip-cart",name:"postal-code",required:!0,value:p,placeholder:_[r],onChange:s=>J(s.target.value),onKeyDown:s=>{!/[0-9]/.test(s.key)&&s.key!=="Backspace"&&s.key!=="Delete"&&s.key!=="ArrowLeft"&&s.key!=="ArrowRight"&&s.key!=="Tab"&&s.preventDefault()}}),e.jsxs("span",{children:[_[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"city-cart",children:[e.jsx("input",{id:"city-cart",type:"text",name:"city",required:!0,value:d,placeholder:C[r],onChange:s=>L(s.target.value)}),e.jsxs("span",{children:[C[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"country-cart",children:[e.jsx("input",{type:"text",id:"country-cart",name:"country",required:!0,value:c,placeholder:N[r],onChange:s=>P(s.target.value)}),e.jsxs("span",{children:[N[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder not-required ${y&&y.trim()!==""?"filled":"not-filled"}`,children:e.jsxs("label",{htmlFor:"phone-cart",children:[e.jsx("input",{type:"text",id:"phone-cart",name:"phone",value:y,placeholder:X[r],onChange:s=>ie(s.target.value),onKeyDown:s=>{!/[0-9]/.test(s.key)&&s.key!=="Backspace"&&s.key!=="Delete"&&s.key!=="ArrowLeft"&&s.key!=="ArrowRight"&&s.key!=="Tab"&&s.key!==" "&&s.preventDefault()}}),e.jsxs("span",{children:[X[r]," (",Me[r].toLowerCase(),"):"]})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"name-cart",children:[e.jsx("input",{type:"text",id:"name-cart",name:"name",required:!0,value:l,placeholder:Ge[r],onChange:s=>I(s.target.value)}),e.jsxs("span",{children:[Ke[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"email-cart",children:[e.jsx("input",{type:"email",name:"email",id:"email-cart",required:!0,value:n,placeholder:Y[r],onChange:s=>R(s.target.value)}),e.jsxs("span",{children:[V[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"address-cart",children:[e.jsx("input",{type:"text",id:"address-cart",name:"address",required:!0,value:o,placeholder:E[r],onChange:s=>B(s.target.value)}),e.jsxs("span",{children:[E[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"zip-cart",children:[e.jsx("input",{type:"text",name:"postal-code",id:"zip-cart",required:!0,value:p,placeholder:_[r],onChange:s=>J(s.target.value),onKeyDown:s=>{!/[0-9]/.test(s.key)&&s.key!=="Backspace"&&s.key!=="Delete"&&s.key!=="ArrowLeft"&&s.key!=="ArrowRight"&&s.key!=="Tab"&&s.preventDefault()}}),e.jsxs("span",{children:[_[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"city-cart",children:[e.jsx("input",{type:"text",id:"city-cart",name:"city",required:!0,value:d,placeholder:C[r],onChange:s=>L(s.target.value)}),e.jsxs("span",{children:[C[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"country-cart",children:[e.jsx("input",{type:"text",id:"country-cart",name:"country",required:!0,value:c,placeholder:N[r],onChange:s=>P(s.target.value)}),e.jsxs("span",{children:[N[r],":"]})]})})]}),e.jsx("div",{className:`${t["textarea-wrap"]} textarea-wrap`,children:e.jsxs("label",{htmlFor:"extra",children:[e.jsxs("span",{children:[Q[r],":"]}),e.jsx("textarea",{rows:5,id:"extra",value:O,placeholder:`${We[r]}${j?`, ${Qe[r]} ${Ze[r]}`:""}`,onChange:s=>oe(s.target.value)})]})})]}),e.jsxs("div",{className:`${t["send-order-wrap"]} flex center`,children:[e.jsx("div",{className:t.terms,children:e.jsxs("label",{children:[e.jsx("input",{id:"terms-cart",required:!0,type:"checkbox",name:"terms",onChange:s=>{me(s.target.checked)}}),e.jsxs("span",{children:[Ue[r]," ",e.jsx(g,{to:"/terms",children:Ye[r]})]})]})}),e.jsx("div",{className:t.gdpr,children:e.jsxs("label",{className:"radio-checkbox",children:[e.jsx("input",{id:"gdpr-cart",required:!0,type:"checkbox",name:"gdpr",onChange:s=>{pe(s.target.checked)}}),e.jsx("span",{children:Ve[r]})]})}),e.jsxs("button",{className:t.submit,type:"submit",disabled:xe,children:[e.jsx("span",{children:Xe[r]})," ",e.jsx(os,{})]}),e.jsx(ge,{className:"cart-accordion grayer",text:es[r],language:r,wrapperClass:t["more-info-wrap"],children:e.jsx(ss,{language:r})})]}),e.jsx("div",{className:`${t["clear-btn-wrap"]} flex center`,children:e.jsx("button",{type:"button",onClick:()=>{window.confirm(`${v[r]}: ${rs[r]}?`)&&(S(),q(0))},className:"danger delete",children:ts[r]})})]}):e.jsx(e.Fragment,{children:e.jsxs("p",{className:"flex center",children:["[ ",as[r]," ]"]})})," "]})]})};export{Js as default};
