import{r as _,j as t}from"./react-A9DAvxly.js";import{K as Qe,S as Ze,f3 as ht,f4 as pt,W as pe,bd as ye,u as ge,f5 as Ke,f6 as ve,f7 as et,f8 as je,f9 as we,fa as gt,c$ as ft,fb as xt,fc as $t,fd as At,fe as Ct,ff as bt,fg as _t,fh as wt,fi as yt,fj as vt,fk as jt,fl as Nt,z as Rt,A as Et,fm as It,fn as Tt,ap as St,fo as Ft,fp as Ut,fq as Dt,fr as Ot,fs as kt,ft as Lt,fu as Mt,fv as Wt,fw as qe,d9 as Gt,fx as Jt,fy as Vt,ax as Bt,ay as Ht,fz as Pt,fA as zt,fB as Kt,fC as qt,bC as Xe,Y as ue}from"./index-DoSxn64x.js";import{a2 as Ye,a3 as Xt,a4 as Yt}from"./react-icons-BXtkaQB_.js";import"./hoist-non-react-statics-D5aJipOz.js";import"./react-dom-yh0erWL-.js";import"./scheduler-CzFDRTuY.js";import"./react-redux-CHm9GgGE.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-DEc9BFqZ.js";import"./@reduxjs-DhFEcpJw.js";import"./immer-C0GRqQ_d.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./axios-CCb-kr4I.js";import"./react-router-dom-CYs6befe.js";import"./react-router-S1Hdk0kP.js";import"./@remix-run-DTnHqtaE.js";const Qt="_light_159i2_39",Zt="_drag_159i2_221",eo="_overflow_159i2_235",to="_indicator_159i2_343",oo="_tooltip_159i2_343",ro="_form_159i2_511",so="_remove_159i2_539",no="_inputs_159i2_569",d={"color-container":"_color-container_159i2_1",light:Qt,"color-picker":"_color-picker_159i2_57","width-wrap":"_width-wrap_159i2_109","btn-wrap":"_btn-wrap_159i2_123","info-wrap":"_info-wrap_159i2_141","color-blocks":"_color-blocks_159i2_189",drag:Zt,overflow:eo,"block-wrap":"_block-wrap_159i2_243","color-wrap":"_color-wrap_159i2_261","color-block":"_color-block_159i2_189","compliance-indicators":"_compliance-indicators_159i2_321",indicator:to,tooltip:oo,"indicator-aaa":"_indicator-aaa_159i2_373","indicator-null":"_indicator-null_159i2_381","compliance-info":"_compliance-info_159i2_389","toggle-controls":"_toggle-controls_159i2_397","color-edit-container":"_color-edit-container_159i2_427","color-select":"_color-select_159i2_429","mode-container":"_mode-container_159i2_485",form:ro,"color-format-submit":"_color-format-submit_159i2_537",remove:so,"color-name":"_color-name_159i2_553",inputs:no,"hex-input":"_hex-input_159i2_593"},lo=(a,n)=>{const[R,k]=_.useState(!1),[V,oe]=_.useState(a);_.useEffect(()=>{oe(a)},[a]);const K=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",N=_.useMemo(()=>n==null?void 0:n.map(h=>`${K?"local-":""}DnD-${h}`),[n,K]),H=_.useCallback(()=>n==null?void 0:n.reduce((h,p,$)=>{const C=JSON.parse(localStorage.getItem(N[$])||"[]");return h[p]={items:C.length>0?C:a.filter(r=>r.status===p),setItems:r=>{localStorage.setItem(N[$],JSON.stringify(r)),Y(A=>({...A,[p]:{...A[p],items:r}}))},removeItems:()=>{localStorage.removeItem(N[$]),Y(r=>({...r,[p]:{...r[p],items:[]}}))}},h},{}),[n,N]),Q=(h,p)=>JSON.stringify(h)===JSON.stringify(p),[u,Y]=_.useState(H),q=_.useRef(!0);_.useEffect(()=>{if(q.current){q.current=!1;return}n.forEach((h,p)=>{var w;const $=((w=u[h])==null?void 0:w.items)||[],C=a.filter(c=>c.status===h),r=new Map(C.map(c=>[c.id,c])),A=$.map(c=>{const S=r.get(c.id);return S&&JSON.stringify(c)!==JSON.stringify(S)?S:c}),f=new Set($.map(c=>c.id)),l=C.filter(c=>!f.has(c.id)),g=[...A,...l];Q($,g)||u[h].setItems(g)}),n.forEach((h,p)=>{var C;const $=((C=u[h])==null?void 0:C.items)||[];localStorage.setItem(N[p],JSON.stringify($))})},[a,n,N,u,Q]),_.useEffect(()=>{n.forEach((h,p)=>{var w;const $=((w=u[h])==null?void 0:w.items)||[],C=a.filter(c=>c.status===h),r=new Map(C.map(c=>[c.id,c])),A=$.map(c=>{const S=r.get(c.id);return S&&JSON.stringify(c)!==JSON.stringify(S)?S:c}),f=new Set($.map(c=>c.id)),l=C.filter(c=>!f.has(c.id)),g=[...A,...l];Q($,g)||u[h].setItems(g)}),n.forEach((h,p)=>{var C;const $=((C=u[h])==null?void 0:C.items)||[];localStorage.setItem(N[p],JSON.stringify($))})},[a,n,N,u,Q]),_.useEffect(()=>{oe(n.flatMap(h=>{var p;return((p=u[h])==null?void 0:p.items)||[]}))},[u]),_.useEffect(()=>{n.forEach((h,p)=>{var C;const $=((C=u[h])==null?void 0:C.items)||[];localStorage.setItem(N[p],JSON.stringify($))})},[V,n,N,u]);const Z=_.useCallback((h,p,$)=>{var g,w,c,S,M,D,P,x,i,E;const C=(g=Object.keys(u))==null?void 0:g.find(e=>{var m,j;return(j=(m=u==null?void 0:u[e])==null?void 0:m.items)==null?void 0:j.find(v=>(v==null?void 0:v.id)===h)});if(!C)return;const r=(c=(w=u==null?void 0:u[C])==null?void 0:w.items)==null?void 0:c.find(e=>(e==null?void 0:e.id)===h),A=(M=(S=u==null?void 0:u[p])==null?void 0:S.items)==null?void 0:M.findIndex(e=>(e==null?void 0:e.id)===$);if(!r)return;r.status=p;const f=(P=(D=u==null?void 0:u[C])==null?void 0:D.items)==null?void 0:P.filter(e=>e.id!==h);(x=u==null?void 0:u[C])==null||x.setItems(f);let l=[...(i=u==null?void 0:u[p])==null?void 0:i.items];return l=l.filter(e=>e.id!==r.id),l.splice(A>=0?A:l.length,0,r),(E=u==null?void 0:u[p])==null||E.setItems(l),Y(e=>({...e,[C]:{...e[C],items:f},[p]:{...e[p],items:l}})),l},[u,Y]),L=_.useCallback((h,p)=>{if(h===p)return;const $=n==null?void 0:n.indexOf(h);if($===-1){console.error(`Old status "${h}" not found in statuses array`);return}const C=N[$],r=`${K?"local-":""}DnD-${p}`,A=u[h].items.map(f=>({...f,status:p}));Y(f=>({...f,[h]:{...f[h],items:[]},[p]:{...f[p],items:A}})),localStorage.setItem(r,JSON.stringify(A)),localStorage.removeItem(C)},[u,N,n]);return{isDragging:R,listItemsByStatus:u,handleUpdate:Z,handleRenameStatus:L,handleDragging:h=>k(h)}},ao=({language:a,block:n,fontSize:R,updateColor:k,width:V,hexToRGB:oe,hslToRGB:K,rgbToHex:N,rgbToHSL:H})=>{const Q=Qe(),u=/^hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/i,Y=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,q=/^#([0-9A-F]{3}){1,2}$/i,Z=[{value:"hsl",label:"HSL"},{value:"rgb",label:"RGB"},{value:"hex",label:"Hex"}],[L,re]=_.useState(Z.find(e=>e.value===n.colorFormat)||Z[0]),[h,p]=_.useState(""),[$,C]=_.useState(0),[r,A]=_.useState(0),[f,l]=_.useState(0),[g,w]=_.useState(0),[c,S]=_.useState(0),[M,D]=_.useState(0);_.useEffect(()=>{switch(n.colorFormat){case"hex":{p(n.color);const{r:e,g:m,b:j}=oe(n.color);C(e),A(m),l(j);const{h:v,s:I,l:U}=H(e,m,j);w(v),S(I),D(U);break}case"rgb":{const e=n.color.match(Y);if(e){const m=Number(e[1]),j=Number(e[2]),v=Number(e[3]);C(m),A(j),l(v);const{h:I,s:U,l:W}=H(m,j,v);w(I),S(U),D(W)}break}case"hsl":{const e=n.color.match(u);if(e){const m=Number(e[1]),j=Number(e[2]),v=Number(e[3]);w(m),S(j),D(v);const{r:I,g:U,b:W}=K(m,j,v);C(I),A(U),l(W);const ee=N(I,U,W);p(ee)}break}}},[n.color,n.colorFormat]);const P=e=>{try{let m;if(e==="hex")if(q.test(h)){m=h.toUpperCase(),k(n.id,m,"hex");const{r:j,g:v,b:I}=oe(m);C(j),A(v),l(I);const{h:U,s:W,l:ee}=H(j,v,I);w(U),S(W),D(ee),k(n.id,h,"hex")}else throw new Error("Invalid Hex format.");else if(e==="rgb")if($>=0&&$<=255&&r>=0&&r<=255&&f>=0&&f<=255){m=`rgb(${$}, ${r}, ${f})`,k(n.id,m,"rgb");const j=N($,r,f);p(j);const{h:v,s:I,l:U}=H($,r,f);w(v),S(I),D(U),k(n.id,`rgb(${$}, ${r}, ${f})`,"rgb")}else throw new Error("Invalid RGB values.");else if(e==="hsl")if(g>=0&&g<=360&&c>=0&&c<=100&&M>=0&&M<=100){m=`hsl(${g}, ${c}%, ${M}%)`,k(n.id,m,"hsl");const{r:j,g:v,b:I}=K(g,c,M);C(j),A(v),l(I);const U=N(j,v,I);p(U),k(n.id,`hsl(${g}, ${c}%, ${M}%)`,"hsl")}else throw new Error("Invalid HSL values.");else throw new Error("Unsupported color format.")}catch(m){console.error(m.message),Q(pe(ye[a]+" "+m.message,!0,4))}},x=e=>{e.preventDefault(),P(L==null?void 0:L.value)},i=(e,m)=>{e==="h"&&w(m),e==="s"&&S(m),e==="l"&&D(m);const j=e==="h"?m:g,v=e==="s"?m:c,I=e==="l"?m:M;if(j>=0&&j<=360&&v>=0&&v<=100&&I>=0&&I<=100){const{r:U,g:W,b:ee}=K(j,v,I);C(U),A(W),l(ee),k(n.id,`hsl(${j}, ${v}%, ${I}%)`,"hsl"),p(N(U,W,ee))}},E=(e,m)=>{e==="r"&&C(m),e==="g"&&A(m),e==="b"&&l(m);const j=e==="r"?m:$,v=e==="g"?m:r,I=e==="b"?m:f;if([j,v,I].every(U=>U>=0&&U<=255)){const{h:U,s:W,l:ee}=H(j,v,I);w(U),S(W),D(ee),k(n.id,`rgb(${j}, ${v}, ${I})`,"rgb"),p(N(j,v,I))}};return t.jsxs(t.Fragment,{children:[t.jsx(Ze,{hideDelete:!0,id:"color-select",className:d["color-select"],language:a,instructions:ht[a],hide:!0,options:Z,value:L,z:1,onChange:e=>{if(re(e),(e==null?void 0:e.value)==="hex"){const m=N($,r,f);p(m),k(n.id,m,"hex")}else(e==null?void 0:e.value)==="rgb"?(C($),A(r),l(f),k(n.id,`rgb(${$}, ${r}, ${f})`,"rgb")):(e==null?void 0:e.value)==="hsl"&&(w(g),S(c),D(M),k(n.id,`hsl(${g}, ${c}%, ${M}%)`,"hsl"))}}),(L==null?void 0:L.value)==="hex"&&t.jsxs("form",{className:d.form,onSubmit:x,children:[t.jsx("div",{className:`${d.inputs} ${d["hex-input"]}`,children:t.jsxs("label",{children:[t.jsx("span",{children:"Hex: "}),t.jsx("input",{name:`hex-input-${n.id}`,type:"text",value:h,onChange:e=>p(e.target.value),className:d["color-input"],style:{maxWidth:`${V}`,fontSize:R},placeholder:"#FFFFFF"})]})}),t.jsx("button",{style:{minWidth:"calc(100% - 4px)",maxWidth:"calc(100% - 4px)",fontSize:R},type:"submit",className:`${d["color-format-submit"]} small gray`,children:pt[a]})]}),(L==null?void 0:L.value)==="rgb"&&t.jsxs("form",{className:`${d.inputs} ${d["rgb-inputs"]}`,onSubmit:x,children:[t.jsxs("label",{children:[t.jsx("span",{children:"R: "}),t.jsx("input",{name:`r-input-${n.id}`,type:"number",value:$,onChange:e=>E("r",Number(e.target.value)),min:0,max:255,className:d["color-input"],style:{maxWidth:`${V}`,fontSize:R}})]}),t.jsxs("label",{children:[t.jsx("span",{children:"G: "}),t.jsx("input",{name:`g-input-${n.id}`,type:"number",value:r,onChange:e=>E("g",Number(e.target.value)),min:0,max:255,className:d["color-input"],style:{maxWidth:`${V}`,fontSize:R}})]}),t.jsxs("label",{children:[t.jsx("span",{children:"B: "}),t.jsx("input",{name:`b-input-${n.id}`,type:"number",value:f,onChange:e=>E("b",Number(e.target.value)),min:0,max:255,className:d["color-input"],style:{maxWidth:`${V}`,fontSize:R}})]})]}),(L==null?void 0:L.value)==="hsl"&&t.jsxs("form",{className:`${d.inputs} ${d["hsl-inputs"]}`,onSubmit:x,children:[t.jsxs("label",{children:[t.jsx("span",{children:"H: "}),t.jsx("input",{name:`h-input-${n.id}`,type:"number",value:g,onChange:e=>i("h",Number(e.target.value)),min:0,max:360,className:d["color-input"],style:{maxWidth:`${V}`,fontSize:R}})," "]}),t.jsxs("label",{children:[t.jsx("span",{children:"S: "}),t.jsx("input",{name:`s-input-${n.id}`,type:"number",value:c,onChange:e=>i("s",Number(e.target.value)),min:0,max:100,className:d["color-input"],style:{maxWidth:`${V}`,fontSize:R}})]}),t.jsxs("label",{children:[t.jsx("span",{children:"L: "}),t.jsx("input",{name:`l-input-${n.id}`,type:"number",value:M,onChange:e=>i("l",Number(e.target.value)),min:0,max:100,className:d["color-input"],style:{maxWidth:`${V}`,fontSize:R}})]})]})]})},ie="colors",he="hsl",Ae=[{id:1,color:"hsl(200, 50%, 10%)",luminance:.011540526030345211,status:ie,colorFormat:he,compliantColors:{AAA_RegularText:[4,5],AA_UIComponents:[3,4,5],AA_RegularText:[3,4,5]}},{id:2,color:"hsl(200, 50%, 35%)",luminance:.12179747967530058,status:ie,colorFormat:he,compliantColors:{AAA_RegularText:[],AA_UIComponents:[4,5],AA_RegularText:[5]}},{id:3,color:"hsl(200, 50%, 55%)",luminance:.3071249100459835,status:ie,colorFormat:he,compliantColors:{AAA_RegularText:[],AA_UIComponents:[1],AA_RegularText:[1]}},{id:4,color:"hsl(200, 50%, 75%)",luminance:.5493970089199802,status:ie,colorFormat:he,compliantColors:{AAA_RegularText:[1],AA_UIComponents:[1,2],AA_RegularText:[1]}},{id:5,color:"hsl(200, 50%, 90%)",luminance:.800081557105977,status:ie,colorFormat:he,compliantColors:{AAA_RegularText:[1],AA_UIComponents:[1,2],AA_RegularText:[1,2]}}],io=a=>{const[n,R,k]=ge("Jenniina-colorsAccessibility",Ae),[V,oe]=ge("Jenniina-currentColor","#7D7D7D"),[K,N]=ge("Jenniina-idCounter",Ae.length+1),[H,Q]=_.useState(a),[u,Y]=_.useState(!1),q=_.useCallback(r=>r.map(A=>{const f=Z(A,r);return{...A,compliantColors:f}}),[]),Z=(r,A)=>{let f=[],l=[],g=[];return A.forEach(w=>{if(w.id===r.id)return;const c=Ke(r,w);c.isAAARegularTextCompliant&&f.push(w.id),c.isAARegularTextCompliant&&g.push(w.id),c.isAAUIComponentsCompliant&&l.push(w.id)}),{AAA_RegularText:Array.from(new Set(f)),AA_RegularText:Array.from(new Set(g)),AA_UIComponents:Array.from(new Set(l))}},L=_.useCallback(()=>{const{r,g:A,b:f}=ve(V),{h:l,s:g,l:w}=et(r,A,f),c=we(r,A,f),S={id:K,color:`hsl(${l}, ${g}%, ${w}%)`,luminance:c,status:"colors",colorFormat:"hsl",compliantColors:{AA_RegularText:[],AAA_RegularText:[],AA_UIComponents:[]}},M=[...n,S],D=q(M);R(D),N(P=>P+1)},[V,K,q,R,N,n]),re=_.useCallback(r=>{const A=n.filter(l=>l.id!==r).map(l=>({...l,compliantColors:{AAA_RegularText:l.compliantColors.AAA_RegularText.filter(g=>g!==r),AA_RegularText:l.compliantColors.AA_RegularText.filter(g=>g!==r),AA_UIComponents:l.compliantColors.AA_UIComponents.filter(g=>g!==r)}})),f=q(A);R(f)},[n,q,R]),h=_.useCallback((r,A,f)=>{try{let l,g,w,c;if(f==="hsl"){const x=A.match(/^hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/i);if(!x)throw new Error("Invalid HSL format");const i=Number(x[1]),E=Number(x[2]),e=Number(x[3]);if(i<0||i>360||E<0||E>100||e<0||e>100)throw new Error("HSL values out of range");l=`hsl(${i}, ${E}%, ${e}%)`;const m=je(i,E,e);g=m.r,w=m.g,c=m.b}else if(f==="rgb"){const x=A.match(/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i);if(!x)throw new Error("Invalid RGB format");const i=Number(x[1]),E=Number(x[2]),e=Number(x[3]);if([i,E,e].some(m=>m<0||m>255))throw new Error("RGB values must be between 0 and 255");l=`rgb(${i}, ${E}, ${e})`,g=i,w=E,c=e}else if(f==="hex"){if(!/^#([0-9A-F]{3}){1,2}$/i.test(A))throw new Error("Invalid Hex format");l=A.toUpperCase();const x=ve(l);g=x.r,w=x.g,c=x.b}else throw new Error("Unsupported color format");const S=we(g,w,c),M=n.map(x=>x.id===r?{...x,color:l,colorFormat:f,luminance:S,compliantColors:{AAA_RegularText:[],AA_RegularText:[],AA_UIComponents:[]}}:x),D=M.map(x=>{if(x.id===r)return x;const i=M.find(e=>e.id===r);if(!i)return x;const E=Ke(x,i);return{...x,compliantColors:{AAA_RegularText:E.isAAARegularTextCompliant?[...new Set([...x.compliantColors.AAA_RegularText,r])]:x.compliantColors.AAA_RegularText.filter(e=>e!==r),AA_RegularText:E.isAARegularTextCompliant?[...new Set([...x.compliantColors.AA_RegularText,r])]:x.compliantColors.AA_RegularText.filter(e=>e!==r),AA_UIComponents:E.isAAUIComponentsCompliant?[...new Set([...x.compliantColors.AA_UIComponents,r])]:x.compliantColors.AA_UIComponents.filter(e=>e!==r)}}}),P=D.find(x=>x.id===r);if(P){const x=Z(P,D),i=D.map(E=>E.id===r?{...E,compliantColors:x}:E);R(i)}else R(D)}catch(l){console.error("Error updating color:",l)}},[n,R]),p=_.useCallback(()=>{k(),R(Ae),N(Ae.length+1)},[k,R,N]),$=_.useCallback(()=>{k(),R([]),N(1)},[k,R,N]),C=_.useCallback(()=>{const r=gt(n,H,u);let A=K;const f=r.map(g=>{const w=je(g[0],g[1],g[2]),c=we(w.r,w.g,w.b);return{id:A++,color:`hsl(${g[0]}, ${g[1]}%, ${g[2]}%)`,luminance:c,status:ie,colorFormat:"hsl",compliantColors:{AA_RegularText:[],AAA_RegularText:[],AA_UIComponents:[]}}});let l=[...n,...f];l=q(l),R(l),N(A),Y(!1)},[n,H,u,q,R,N]);return _.useEffect(()=>{u&&n.length===0&&C()},[u,n]),{colors:n,setColors:R,setColorsReset:Y,addColor:L,removeColor:re,updateColor:h,resetColors:p,clearColors:$,currentColor:V,setCurrentColor:oe,mode:H,setMode:Q,makeColorPalette:C}},ae=qt(5);var co=(a=>(a.AA_RegularText="AA_RegularText",a.AAA_RegularText="AAA_RegularText",a.AA_UIComponents="AA_UIComponents",a))(co||{});const J="colors",Io=({language:a})=>{var Re,Ee,Ie,Te,Se;const{colors:n,setColors:R,addColor:k,removeColor:V,updateColor:oe,currentColor:K,setCurrentColor:N,resetColors:H,clearColors:Q,mode:u,setMode:Y,makeColorPalette:q,setColorsReset:Z}=io("analogous"),L=_.useMemo(()=>[J],[]),re=Qe(),h=ft(),p=xt(),[$,C]=_.useState(!0),[r,A]=ge("Jenniina-showColorNames",!0),{isDragging:f,listItemsByStatus:l,handleDragging:g,handleUpdate:w}=lo(n,L),c=_.useRef(0),[S,M]=_.useState(0),D=8,[P,x]=ge("Jenniina-color-block-width",D),i=`${P}em`,E=P/D,e={tooltip:`${.7*E}em`,colorName:`${.7*E}em`,input:`${.8*E}em`},m=[{value:"analogous",label:$t[a]},{value:"complementary",label:At[a]},{value:"monochromatic",label:Ct[a]},{value:"triad",label:bt[a]},{value:"tetrad",label:_t[a]}];let j=Math.floor(Math.random()*m.length);const[v,I]=_.useState(m[j]);_.useEffect(()=>{Y(v==null?void 0:v.value)},[v]);const U=()=>{Z(!0),Q()},W=(s,b)=>{if(b==="hex"){if(/^#([A-Fa-f0-9]{6})$/.test(s))return s.toUpperCase();throw new Error(`Invalid HEX color format: ${s}`)}else if(b==="rgb"){const y=s.match(/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i);if(y){const o=Number(y[1]),T=Number(y[2]),O=Number(y[3]);if([o,T,O].every(F=>F>=0&&F<=255))return qe(o,T,O);throw new Error(`RGB values out of range in color: ${s}`)}else throw new Error(`Invalid RGB color format: ${s}`)}else if(b==="hsl"){const y=s.match(/^hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/i);if(y){let o=ue(0,Number(y[1]),360),T=ue(0,Number(y[2]),100),O=ue(0,Number(y[3]),100);return o=(o+360)%360,T=ue(0,T,100),O=ue(0,O,100),`hsl(${o}, ${T}%, ${O}%)`}else throw new Error(`Invalid HSL color format: ${s}`)}else throw new Error(`Unsupported color format: ${b}`)},ee={AA_RegularText:({xPosition:s,yIndicator:b,blockWidth:y,indicatorSize:o,otherColor:T,blockColor:O,colorFormatBlock:F,colorFormatOther:X})=>{const B=W(O,F),G=W(T,X);return`
 <circle
  cx="${s+y/2}"
  cy="${b+o/2}"
  r="${o*.32}"
  fill="${B}"
  stroke="${G}"
  stroke-width="${o*.1}"
/>
`},AA_UIComponents:({xPosition:s,yIndicator:b,blockWidth:y,indicatorSize:o,otherColor:T,blockColor:O,colorFormatBlock:F,colorFormatOther:X})=>{const B=W(O,F),G=W(T,X);return`
    <rect
  x="${s+y/2-o*.2}"
  y="${b+o/2-o*.15}"
  width="${o*.3}"
  height="${o*.3}"
  fill="${B}"
  stroke="${G}"
  stroke-width="${o*.1}"
/>
`},AAA_RegularText:({xPosition:s,yIndicator:b,blockWidth:y,indicatorSize:o,otherColor:T,blockColor:O,colorFormatBlock:F,colorFormatOther:X})=>{const B=W(T,X);return`
<circle
  cx="${s+y/2}"
  cy="${b+o/2}"
  r="${o/2}"
  fill="${B}"
  stroke="none"
/>
`}},Ne=()=>{var Ue,De,Oe,ke,Le,Me,We,Ge,Je;const s=P*20,b=s,y=b/3,o=y/1.5,T=s/4,O=y/20,F=b/10,B=((De=(Ue=l[J])==null?void 0:Ue.items)==null?void 0:De.length)*(y+o)-o+T*2,G=r?F+T:0,ne=((Oe=l[J])==null?void 0:Oe.items.length)*b,be=B+G*1.6,at=(Le=(ke=l[J])==null?void 0:ke.items)==null?void 0:Le.map((z,ce)=>{const le=ce*b;let se;try{se=W(z.color,z.colorFormat)}catch(me){console.error(me),re(pe(`${ye[a]}: ${me.message}`,!0,4)),se="#000000"}const xe=`
        <rect
          x="${le}"
          y="0"
          width="${b}"
          height="${B}"
          fill="${se}"
          stroke="none"
        />
      `,$e=r?`
        <!-- Text Background -->
        <rect
          x="${le}"
          y="${B-.5}"
          width="${b}"
          height="${G}"
          fill="${se}"
          stroke="none"
        />
        <!-- Color Text Label -->
        <text
          x="${le+b/2}"
          y="${B+G/2+F/3}"
          font-size="${F}"
          font-family="Arial"
          text-anchor="middle"
          dominant-baseline="middle"
          fill="${z.luminance>.179?"#000000":"#FFFFFF"}"
          stroke="none"
        >
          ${z.color}
        </text>
      `:"";return`
        <g>
          <!-- Color Block -->
          ${xe}
          <!-- Color Text Label -->
          ${$e}
        </g>
      `}).join(""),it=(We=(Me=l[J])==null?void 0:Me.items)==null?void 0:We.map((z,ce)=>{const se=T+ce*(y+o)+(y-O)/2,xe=W(z.color,z.colorFormat);return`
        <rect
          x="0"
          y="${se}"
          width="${ne}"
          height="${O}"
          fill="${xe}"
          stroke="none"
        />
      `}).join(""),ct=(Je=(Ge=l[J])==null?void 0:Ge.items)==null?void 0:Je.map((z,ce)=>{var $e,me;const le=ce*b,se=te=>{var de,Ve,Be,He,Pe,ze;return(Ve=(de=z.compliantColors)==null?void 0:de.AAA_RegularText)!=null&&Ve.includes(te)?"AAA_RegularText":(He=(Be=z.compliantColors)==null?void 0:Be.AA_RegularText)!=null&&He.includes(te)?"AA_RegularText":(ze=(Pe=z.compliantColors)==null?void 0:Pe.AA_UIComponents)!=null&&ze.includes(te)?"AA_UIComponents":null};return`
        <g>
          <!-- Compliance Indicators -->
          ${(me=($e=l[J])==null?void 0:$e.items)==null?void 0:me.filter(te=>te.id!==z.id).map(te=>{const de=se(te.id);return de?ee[de]({xPosition:le,yIndicator:T+(te.id-1)*(y+o),blockWidth:b,indicatorSize:y,otherColor:te.color,blockColor:z.color,colorFormatBlock:z.colorFormat,colorFormatOther:te.colorFormat}):""}).join("")}
        </g>
      `}).join(""),_e=10,mt=ne-_e,Fe=be-_e*1.5,fe="https://colors.jenniina.fi",dt=`
      <a href="${fe}" target="_blank" rel="noopener noreferrer">
        <text
          x="${mt}"
          y="${Fe}"
          font-size="${F}"
          font-family="Arial"
          text-anchor="end"
          fill="#000000"
          stroke="none"
        >
          ${fe}
        </text>
      </a>
    `,ut=`
      <a href="${fe}" target="_blank" rel="noopener noreferrer">
        <text
          x="${_e}"
          y="${Fe}"
          font-size="${F}"
          font-family="Arial"
          text-anchor="start"
          fill="#FFFFFF"
          stroke="none"
        >
          ${fe}
        </text>
      </a>
    `;return{svgContent:`
    <svg xmlns="http://www.w3.org/2000/svg" width="${ne}" height="${be}">
      <!-- Color Blocks -->
      <g>
        ${at}
      </g>
      <!-- Lines -->
      <g>
        ${it}
      </g>
      <!-- Compliance Indicators -->
      <g>
        ${ct}
      </g>
      <!-- Source Link -->
      <g>
        ${ut}
      </g>
      <g>
        ${dt}
      </g>
    </svg>
  `,svgWidth:ne,svgHeight:be}},tt=()=>{const{svgContent:s}=Ne(),b=new Blob([s],{type:"image/svg+xml;charset=utf-8"}),y=URL.createObjectURL(b),o=document.createElement("a");o.href=y,o.download="color-blocks.svg",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(y),re(pe(Xe[a],!1,5))},ot=()=>{const{svgContent:s,svgWidth:b,svgHeight:y}=Ne(),o=new Image;o.width=b,o.height=y;const T=new Blob([s],{type:"image/svg+xml;charset=utf-8"}),O=URL.createObjectURL(T);o.onload=()=>{const F=document.createElement("canvas");F.width=b,F.height=y;const X=F.getContext("2d");X==null||X.drawImage(o,0,0);const B=F.toDataURL("image/png"),G=document.createElement("a");G.href=B,G.download="color-blocks.png",document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(O),re(pe(Xe[a],!1,5))},o.onerror=F=>{console.error("Error loading SVG into image for PNG conversion:",F),URL.revokeObjectURL(O),re(pe(ye[a],!0,4))},o.src=O},rt=(s,b)=>{s.dataTransfer.setData("text/plain",JSON.stringify({type:"item",id:b}))},st=(s,b)=>{s.preventDefault(),M(b),c.current=b},nt=s=>{s.preventDefault(),g(!0)},lt=s=>{const b=JSON.parse(s.dataTransfer.getData("text/plain"));b.type==="item"&&(w(b.id,J,S),setTimeout(()=>{var y;R((y=l[J])==null?void 0:y.items)},200),g(!1))};_.useEffect(()=>{var s,b;(!((s=l[J])!=null&&s.items)||((b=l[J])==null?void 0:b.items.length)<1)&&H()},[]);const Ce=.04;return t.jsxs("div",{id:d["color-container"],className:`${d["color-container"]} ${h?d.light:""}`,style:{"--font-size":e.input},children:[t.jsx("div",{id:"info",className:d["info-wrap"],children:t.jsxs("ul",{children:[t.jsxs("li",{children:[t.jsx("div",{style:{display:"inline-block",backgroundColor:"var(--color-primary-20)",borderRadius:"50%",width:"2em",height:"2em"}}),t.jsx("span",{children:wt[a]})]}),t.jsxs("li",{children:[t.jsx("div",{style:{display:"inline-block",backgroundColor:"transparent",outline:"0.3em solid var(--color-primary-20)",outlineOffset:"-0.3em",borderRadius:"50%",width:"1.7em",height:"1.7em",margin:"0 0.2em 0 0.2em "}}),t.jsx("span",{children:yt[a]})]}),t.jsxs("li",{children:[t.jsx("div",{style:{display:"inline-block",backgroundColor:"transparent",outline:"0.3em solid var(--color-primary-20)",outlineOffset:"-0.26em",borderRadius:"0",width:"0.9em",height:"0.9em",margin:"0 0.65em 0 0.65em"}}),t.jsx("span",{children:vt[a]})]})]})}),t.jsxs("div",{className:d["btn-wrap"],children:[((Ee=(Re=l[J])==null?void 0:Re.items)==null?void 0:Ee.length)>0&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{type:"button",onClick:ot,className:"gray small",children:[jt[a],"  ",t.jsx(Ye,{})]}),t.jsxs("button",{type:"button",onClick:tt,className:"gray small",children:[Nt[a],"  ",t.jsx(Ye,{})]})]}),t.jsx("button",{onClick:p,className:"gray small",children:h?t.jsxs(t.Fragment,{children:[Rt[a],"  ",t.jsx(Xt,{})]}):t.jsxs(t.Fragment,{children:[Et[a],"  ",t.jsx(Yt,{})," "]})})]}),t.jsxs("div",{className:d["color-picker"],children:[t.jsxs("label",{htmlFor:"color-input",className:" ",children:[It[a],":"]}),t.jsx("input",{id:"color-input",type:"color",value:K,onChange:s=>N(s.target.value)}),t.jsx("button",{className:"gray small",type:"button",onClick:k,children:Tt[a]}),t.jsx("button",{className:"gray small",type:"button",onClick:H,children:St[a]}),t.jsx("button",{className:"gray small",type:"button",onClick:Q,children:Ft[a]}),t.jsxs("div",{className:`${d["color-edit-container"]} ${d["mode-container"]}`,children:[t.jsx(Ze,{options:m,value:v,onChange:s=>I(s),id:"color-mode",instructions:Ut[a],className:`${d["color-select"]}`,hide:!0,hideDelete:!0,tooltip:!0,y:"above narrow2",z:3}),t.jsxs("button",{className:"gray small tooltip-wrap",type:"button",onClick:q,children:[Dt[a],t.jsx("span",{className:"tooltip above narrow2",children:Ot[a]})]}),t.jsx("button",{className:"gray small",type:"button",onClick:U,children:kt[a]})]})]}),t.jsx("div",{id:"color-blocks",className:`${d["color-blocks"]} ${!r||!$?d.overflow:""} ${f?d.drag:""}`,children:(Ie=l[J])==null?void 0:Ie.items.map(s=>{var b,y;return t.jsx("ul",{className:d["block-wrap"],onDrop:lt,children:t.jsxs("li",{className:d["color-wrap"],title:`ID: ${s.id}`,"aria-label":`ID: ${s.id}`,style:{width:`${i}`,maxWidth:`${i}`},children:[t.jsx("ul",{children:t.jsx("li",{draggable:"true",onDragStart:o=>rt(o,s.id),onDragEnter:o=>st(o,s.id),onDragOver:o=>nt(o),onDragEnd:()=>g(!1),"data-identity":s.id,className:d["color-block"],style:{"--color":s.color,backgroundColor:s.color,width:`${i}`,maxWidth:`${i}`,height:`calc(calc(${i} * 0.6) * ${(b=l[J])==null?void 0:b.items.length})`},children:t.jsx("div",{className:d["compliance-indicators"],style:{gap:`calc(${i} / 4)`,"--width-full":`${i}`},children:(y=l[J])==null?void 0:y.items.map(o=>{var O,F,X,B,G,ne;if(o.id===s.id)return t.jsx("div",{className:`${d["indicator-null"]} ${d.indicator}`,style:{"--color":o.color,"--width":`calc(${i} / 3)`,"--left":`calc(calc(${i} / 3) * -1)`,backgroundColor:"transparent",width:`calc(${i} / 3)`,height:`calc(${i} / 3)`}},`none-${o.color}-${o.id}`);let T=null;return(F=(O=s.compliantColors)==null?void 0:O.AAA_RegularText)!=null&&F.includes(o.id)?T="AAA_RegularText":(B=(X=s.compliantColors)==null?void 0:X.AA_RegularText)!=null&&B.includes(o.id)?T="AA_RegularText":(ne=(G=s.compliantColors)==null?void 0:G.AA_UIComponents)!=null&&ne.includes(o.id)&&(T="AA_UIComponents"),T==="AAA_RegularText"?t.jsx("div",{tabIndex:0,className:`${d["indicator-aaa"]} ${d.indicator} tooltip-wrap`,style:{"--color":o.color,backgroundColor:o.color,"--left":`calc(calc(${i} / 3) * -1)`,width:`calc(${i} / 3)`,height:`calc(${i} / 3)`},"aria-labelledby":`span-${o.id}-${s.id}-${ae}`,children:t.jsx("span",{id:`span-${o.id}-${s.id}-${ae}`,className:`tooltip below narrow3 ${d.tooltip}`,style:{fontSize:`clamp(0.7rem, ${e.input}, 0.9rem)`,"--tooltip-max-width":i},children:`${Lt[a]}: ${o.id}`})},`aaa-${o.color}-${o.id}`):T==="AA_RegularText"?t.jsx("div",{tabIndex:0,className:`${d["indicator-aa"]} ${d.indicator} tooltip-wrap`,style:{"--color":o.color,backgroundColor:s.color,outline:`calc(${i} * ${Ce*1.1}) solid ${o.color}`,outlineOffset:`calc(${i} * -0.013)`,"--left":`calc(calc(${i} / 5) * -2)`,width:`calc(${i} / 5)`,height:`calc(${i} / 5)`,margin:`calc(${i} / 15)`,borderRadius:"50%"},"aria-labelledby":`span-${o.id}-${s.id}-${ae}`,children:t.jsx("span",{id:`span-${o.id}-${s.id}-${ae}`,className:"tooltip below narrow3",style:{fontSize:`clamp(0.7rem, ${e.input}, 0.9rem)`,"--tooltip-max-width":i},children:`${Mt[a]}: ${o.id}`})},`aa-${o.color}-${o.id}`):T==="AA_UIComponents"?t.jsx("div",{tabIndex:0,className:`${d["indicator-aa-ui"]} ${d.indicator} tooltip-wrap`,style:{"--color":o.color,"--left":`calc(calc(${i} / 7) * -3)`,backgroundColor:s.color,outline:`calc(${i} * ${Ce}) solid ${o.color}`,outlineOffset:`calc(${i} * ${Ce} * -1)`,width:`calc(${i} / 7)`,height:`calc(${i} / 7)`,margin:`calc(${i} / 10.5)`},"aria-labelledby":`span-ui-${o.id}-${s.id}-${ae}`,children:t.jsx("span",{id:`span-ui-${o.id}-${s.id}-${ae}`,className:`tooltip below narrow3 ${d.tooltip}`,style:{fontSize:`clamp(0.7rem, ${e.input}, 0.9rem)`,"--tooltip-max-width":i},children:`${Wt[a]}: ${o.id}`})},`aa-ui-${o.color}-${o.id}`):t.jsx("div",{"aria-hidden":"true",className:`${d["indicator-null"]} ${d.indicator}`,style:{"--color":o.color,backgroundColor:"transparent","--left":`calc(calc(${i} / 3) * -1)`,width:`calc(${i} / 3)`,height:`calc(${i} / 3)`}},`null-${o.color}-${o.id}`)})})})}),r&&t.jsx("div",{style:{backgroundColor:s.color,width:`${i}`,maxWidth:`${i}`,display:"flex",justifyContent:"center",alignItems:"center",padding:"0.5em 0.1em "},className:d["color-name"],children:t.jsx("span",{style:{color:s.luminance<.179?"white":"black",fontSize:`clamp(0.7rem, ${e.input}, 1.2rem)`,textAlign:"center"},children:s.color})}),$&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:d["color-edit-container"],children:t.jsx(ao,{language:a,block:s,updateColor:oe,width:i,hexToRGB:ve,rgbToHSL:et,rgbToHex:qe,hslToRGB:je,fontSize:`clamp(0.75rem, ${e.input}, 1rem)`})}),t.jsx("button",{className:`tooltip-wrap small delete danger gray ${d.remove}`,onClick:()=>V(s.id),style:{margin:"0.8em auto",width:"calc(100% - 4px)",minWidth:"calc(100% - 4px)",fontSize:`clamp(0.75rem, ${e.input}, 2rem)`},children:Gt[a]})]})]})},`${s.id}`)})}),((Se=(Te=l[J])==null?void 0:Te.items)==null?void 0:Se.length)>0&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:d["width-wrap"],children:[t.jsx("label",{htmlFor:"color-block-width",children:Jt[a]}),t.jsx("input",{id:"color-block-width",type:"range",min:6,max:12,step:.5,value:P,onChange:s=>x(Number(s.target.value))})]}),t.jsxs("div",{className:`${d["toggle-controls"]}`,children:[t.jsxs("div",{children:[t.jsx("strong",{children:Vt[a]}),t.jsx("button",{id:"toggle-controls",type:"button",onClick:()=>C(!$),className:"gray small",children:$?Bt[a]:Ht[a]})]}),t.jsxs("div",{children:[t.jsx("strong",{children:Pt[a]}),t.jsx("button",{type:"button",onClick:()=>A(!r),className:"gray small",children:r?zt[a]:Kt[a]})]})]})]})]})};export{co as ComplianceLevel,Io as default};
