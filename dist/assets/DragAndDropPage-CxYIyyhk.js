import{r as f,j as e}from"./react-A9DAvxly.js";import{z as oe,D as De,E as ve}from"./react-icons-DJiaMApb.js";import{aZ as ie,aP as fe,dw as we,dx as Te,dy as Se,dz as Ne,dA as _e,b0 as b,dB as ae,dC as de,ax as je,bS as $e,dD as he,dE as Ae,bY as ne,dF as ge,dG as ke,dH as Ie,dI as Oe,dJ as Le,dK as We,dL as Me,dM as Re,u as Fe,b9 as ze,dN as ue,dO as Pe,dP as ee,dQ as Ye,dR as be,dS as Ee,dT as Be,dU as Ue,dV as He,dW as Ke,bZ as me,dX as pe,dY as xe,dZ as Ve,d_ as Ge,d$ as te,e0 as Je,c3 as qe,e1 as Ze,cg as Qe,H as Xe,au as et,cr as tt,cs as rt,e2 as st,e3 as ot,e4 as nt,e5 as it,e6 as lt,e7 as ct,c$ as at,e8 as dt,e9 as ht,ea as ut,eb as mt,d7 as pt,ec as xt,ed as ft,ee as jt,ef as bt,eg as Et,a0 as Ct,eh as yt}from"./index-Bi3CKKnX.js";import"./react-redux-CHm9GgGE.js";import{u as Dt}from"./useDragAndDrop-CFENP5_-.js";import{E as re}from"./form-C1vuQpLD.js";import"./hoist-non-react-statics-D5aJipOz.js";import"./react-dom-yh0erWL-.js";import"./scheduler-CzFDRTuY.js";import"./@reduxjs-DTZ4pglK.js";import"./immer-BNrqi0cU.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./axios-BimPEqV4.js";import"./react-router-dom-BQMcumiI.js";import"./react-router-344DmMNz.js";import"./@remix-run-DTnHqtaE.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-DEc9BFqZ.js";const vt="_grid_gu3mz_1",wt="_light_gu3mz_29",Tt="_card_gu3mz_22",St="_text_gu3mz_156",Nt="_blur_gu3mz_188",_t="_open_gu3mz_191",$t="_one_gu3mz_295",At="_two_gu3mz_298",gt="_three_gu3mz_301",kt="_four_gu3mz_304",x={grid:vt,"container-main":"_container-main_gu3mz_18","cards-container":"_cards-container_gu3mz_22",light:wt,"change-status":"_change-status_gu3mz_100","area-dragging":"_area-dragging_gu3mz_120",card:Tt,text:St,blur:Nt,open:_t,"add-color":"_add-color_gu3mz_228","change-status-form":"_change-status-form_gu3mz_263",delete:"_delete_gu3mz_272",one:$t,two:At,three:gt,four:kt};function It({language:s,status:d,statuses:C,id:n,index:y,data:a,handleDragging:h,handleUpdate:E,handleRemoveColor:z,setTheTarget:D,sanitize:S,focusedCard:N,setFocusedCard:v,translateStatus:O}){const w=ie(),P={backgroundColor:a==null?void 0:a.color,padding:"0.3em 5%",color:(a==null?void 0:a.lightness)=="dark"?"white":"black",borderColor:(a==null?void 0:a.lightness)=="dark"?"var(--color-gray-lighter)":"var(--color-gray-dark)",textShadow:(a==null?void 0:a.lightness)=="dark"?"1px 1px 1px black":"-8px 0 12px rgba(255,255,255,0.5), 8px 0 12px rgba(255,255,255,0.5)"},Y={color:"var(--color-primary-20)",textShadow:"none"},B={margin:"0 auto 0.3em",display:"block",width:"max-content",fontSize:"0.9em"},[_,T]=f.useState(!1);function U(){T(t=>!t)}function H(){T(!1)}const $=f.useRef(null);fe({ref:$,onOutsideClick:H});const W=f.useRef(0),K=(t,i)=>{t.preventDefault(),D(i),W.current=i},J=t=>{h(!0),t.preventDefault()},A=(t,i)=>{t.dataTransfer.setData("text/plain",JSON.stringify({type:"item",id:a==null?void 0:a.id}))};function M(t){const i=t.target.closest("a[data-status]"),u=i==null?void 0:i.dataset.status;a&&u&&E(a.id,u)}function R(t){switch(t.code){case"Enter":case"Space":t.stopPropagation(),t.preventDefault();const i=t.target.closest("a[data-status]"),u=(i==null?void 0:i.dataset.status)??d;a&&E(a.id,u),T(j=>!j);break;case"Escape":t.stopPropagation(),t.preventDefault(),T(!1);break}}const V=(t,i)=>{var q,Z;const u=t.target.closest("li");let j;u?j=u:j=t.target;const L=Number((q=j==null?void 0:j.previousElementSibling)==null?void 0:q.dataset.identity),F=Number((Z=j==null?void 0:j.nextElementSibling)==null?void 0:Z.dataset.identity);switch(t.key){case"ArrowUp":a&&L!==null&&(t.preventDefault(),E(i,a.status,L),v(i));break;case"ArrowDown":a&&F!==null&&(t.preventDefault(),E(i,a.status,F),v(i));break;case"Tab":v(null)}};f.useEffect(()=>{var t;N===n&&((t=$.current)==null||t.focus())},[N,n]);const g=t=>{var i;if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(t).then(()=>{w(b(ae[s],!1,3))},u=>{w(b(`${de[s]}`,!0,3))});else{const u=document.createElement("textarea");u.value=t,(i=$.current)==null||i.appendChild(u),u.focus(),u.select();try{document.execCommand("copy"),w(b(ae[s],!1,3))}catch{w(b(`${de[s]}`,!0,3))}document.body.removeChild(u)}};return e.jsx("li",{ref:$,draggable:"true",onDragStart:t=>A(t),onDragEnter:t=>K(t,n),onDragOver:t=>J(t),onDragEnd:()=>h(!1),role:"listitem",tabIndex:0,onKeyDown:t=>V(t,n),"data-identity":n,children:e.jsxs("div",{style:P,className:`${x.card}`,children:[e.jsx("span",{className:x.text,children:a==null?void 0:a.content}),e.jsxs("b",{children:[e.jsx("button",{onClick:()=>z(a.content),children:"Ã—"}),e.jsxs("button",{"aria-haspopup":"true",onClick:U,children:[e.jsx(oe,{"aria-hidden":"true"}),e.jsx("span",{className:"scr",id:`instructions${n}`,children:we[s]})]})]}),e.jsxs("nav",{className:_?`${x.open} ${x.blur}`:`${x.blur}`,style:Y,children:[e.jsxs("span",{style:B,children:[Te[s],":"]}),e.jsxs("ul",{role:"listbox","aria-describedby":`instructions${n}`,"aria-expanded":_?"true":"false",className:S(d),children:[e.jsx("li",{role:"option",className:x.copy,children:e.jsxs("a",{className:x.copy,onClick:()=>g(a.content),tabIndex:0,title:Se[s],children:[e.jsx(De,{}),e.jsx("i",{children:Ne[s]})]})}),C.map((t,i)=>e.jsx("li",{role:"option",className:S(t),children:e.jsxs("a",{className:S(t),"data-status":t,onClick:u=>M(u),onKeyDown:u=>R(u),tabIndex:0,title:`${_e[s]}: ${O(t).toLowerCase()}`,children:[e.jsx(ve,{}),e.jsx("i",{children:O(t)})]})},`${S(t)}-${i}-${y}`))]})]})]})})}const Ot=({language:s,status:d,statuses:C,isDragging:n,handleDragging:y,handleUpdate:a,handleRemoveColor:h,itemsByStatus:E,lightTheme:z,sanitize:D,updateStatus:S,reorderStatuses:N,deleteStatus:v,regex:O})=>{const w=ie(),[P,Y]=f.useState(0),[B,_]=f.useState(!1),[T,U]=f.useState(""),[H,$]=f.useState(null),W=f.useRef(null),K=t=>{const i=t.target.value;O.test(i)?U(i):w(b(ne[s],!0,6))};fe({ref:W,onOutsideClick:()=>_(!1)});const J=t=>{const i=JSON.parse(t.dataTransfer.getData("text/plain"));i.type==="item"&&(a(i.id,d,P),y(!1))},A=t=>t.preventDefault(),M=(t,i)=>{t.dataTransfer.setData("text/plain",JSON.stringify({type:"span",id:i.toString()})),y(!0)},R=t=>{t.stopPropagation(),t.preventDefault()},V=(t,i)=>{t.preventDefault();const u=JSON.parse(t.dataTransfer.getData("text/plain"));if(u.type==="span"){const j=u.id;if(j!==i){const L=Array.from(C),[F]=L.splice(j,1);L.splice(i,0,F),N(j,i)}y(!1)}},g=t=>{switch(t.toLowerCase()){case"good":return Ie[s];case"bad":return ke[s];case"neutral":return ge[s];default:return t.replace(/_/g," ")}};return e.jsxs("div",{className:`${x["cards-container"]} ${n?x["area-dragging"]:""} ${z?x.light:""}`,onDrop:t=>V(t,C.indexOf(d)),onDragEnd:()=>y(!1),children:[e.jsxs("span",{ref:W,id:`label-${D(d)}`,className:x["status-label"],draggable:!0,onDragStart:t=>M(t,C.indexOf(d)),onDragOver:R,children:[e.jsx("b",{children:g(d)}),e.jsxs(je,{isOpen:B,setIsFormOpen:_,language:s,text:"*",hideBrackets:!0,className:`narrow2 ${x["change-status"]} change-status`,tooltip:$e[s],x:"left",y:"below",children:[e.jsx("i",{children:g(d)}),e.jsxs("form",{className:x["change-status-form"],onSubmit:t=>{t.preventDefault(),S(C.indexOf(d),T)},children:[e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{htmlFor:`${D(d)}-status`,children:[e.jsx("input",{type:"text",required:!0,id:`${D(d)}-status`,value:T,onChange:t=>K(t)}),e.jsxs("span",{children:[he[s],":"]})]})}),e.jsx("button",{type:"submit",children:he[s]}),e.jsx("button",{type:"button",className:"danger delete",onClick:()=>{v(d)},children:Ae[s]})]})]})]}),e.jsx("ul",{"aria-labelledby":`label-${D(d)}`,id:D(d),className:D(d),role:"list",onDrop:J,onDragOver:A,children:E==null?void 0:E.map((t,i)=>e.jsx(It,{language:s,id:t.id,index:i,data:t,status:d,statuses:C,handleDragging:y,handleUpdate:a,handleRemoveColor:h,setTheTarget:Y,sanitize:D,focusedCard:H,setFocusedCard:$,translateStatus:g},`${D(d)}-item-${t.id}-${i}`))})]})},se=["good","neutral","bad"],Lt=({language:s})=>{const d=ie(),[C,n]=f.useState([]),y=[{content:"orchid",color:"orchid"},{content:"lightgreen",color:"lightgreen"},{content:"lightsalmon",color:"lightsalmon"},{content:"lightblue",color:"lightblue"},{content:"pink",color:"pink"},{content:"turquoise",color:"turquoise"},{content:"blue",color:"blue"},{content:"crimson",color:"crimson"},{content:"yellow",color:"yellow"},{content:Oe[s],color:"purple"},{content:Le[s],color:"orange"},{content:We[s],color:"lightgray"},{content:Me[s],color:"lightgray"}],a=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",[h,E,z]=Re(`${a?"local-":""}DnD-statuses`,se),[D,S]=f.useState(""),N=f.useRef(null),v=/^[a-zA-Z\u00C0-\u024F\u1E00-\u1EFF- ]*$/,O=h.map(r=>{const o=window.localStorage.getItem(`${a?"local-":""}DnD-${r}`);return o?JSON.parse(o):[]}).flat(),w=r=>r.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_]/g,"-");f.useEffect(()=>{const r=document.createElement("style");r.id="dnd-styles",document.head.appendChild(r);const l=(c=>c.map(m=>{const p=w(m);return`
          ul.${p} li.${p} a.${p}, 
          ul.${p} li.${p} a.${p} i, 
          ul.${p} li.${p} a.${p} svg {
            cursor: auto;
            pointer-events: none;
            color: var(--color-primary-20);
          } 
          ul.${p} li a {
            padding: 0.4em 0;
            display: flex;
            flex-flow: row nowrap;
            justify-content: flex-start;
            align-items: center;
            flex: 0 1 auto;
          }
          ul.${p} li a > i {
            line-height: 1;
          }
          ul.${p} li a svg {
            font-size: 0.7rem;
            min-width: 1rem;
            max-width: 1rem;
          }
        `}).join(`
`))(h);return r.innerHTML=l,()=>{document.head.removeChild(r)}},[h]);const P=r=>{const o=document.createElement("canvas").getContext("2d");if(!o)throw new Error("Canvas context not available");return o.fillStyle=r,o.fillStyle},Y=r=>{let o=parseInt(r.slice(1,3),16),l=parseInt(r.slice(3,5),16),c=parseInt(r.slice(5,7),16);return{r:o,g:l,b:c}},B=(r,o,l)=>{const c=[r,o,l].map(m=>(m/=255,m<=.03928?m/12.92:Math.pow((m+.055)/1.055,2.4)));return c[0]*.2126+c[1]*.7152+c[2]*.0722},_=r=>{const o=r.startsWith("#")?r:P(r),{r:l,g:c,b:m}=Y(o);return B(l,c,m)>.179?"light":"dark"},T=r=>{if(v.test(r)){const o=r.trim().replace(/ /g,"_");if(o.length>20){d(b(`${me[s]}: ${pe[s]}`,!0,9));return}if(r.trim()===""){d(b(re[s],!0,6));return}if(h.includes(o)){d(b(xe[s],!0,6));return}if(h.length===8){d(b(Ve[s],!0,8));return}E(l=>o===""||l.includes(o)?l:[...l,o])}else d(b(ne[s],!0,6))},U=(r,o)=>{E(l=>{const c=[...l],[m]=c.splice(r,1);return c.splice(o,0,m),c})},H=(r,o)=>{if(!v.test(o)){d(b(ne[s],!0,6));return}E(l=>{const c=o.trim().replace(/ /g,"_");if(c.length>20)return d(b(`${me[s]}: ${pe[s]}`,!0,9)),l;if(c==="")return d(b(re[s],!0,6)),l;if(l.includes(c))return d(b(xe[s],!0,6)),l;const m=[...l],p=m[r];return m[r]=c,n(Q=>Q.map(k=>k.status===p?{...k,status:c}:k)),Ce(p,c),m})},$=r=>{if(h.length===1){d(b(Ge[s],!0,8));return}else if(C.some(o=>o.status===r))d(b(`${te[s]} ${Je[s]}`,!0,8)),E(o=>o.filter(l=>l!==r)),n(o=>o.filter(l=>l.status!==r));else if(window.confirm(`${te[s]} (${r})`))E(o=>o.filter(l=>l!==r)),n(o=>o.filter(l=>l.status!==r));else return},W=()=>{window.confirm(qe[s])&&(z(),E(se),A(y),n(M()))},K=f.useMemo(()=>{if(O.length>0)return O;const r=M();return n(r),r},[]);f.useEffect(()=>{n(K)},[]);const[J,A]=f.useState(y),M=()=>{const r=[];let o=se[1],l;for(let c=0;c<y.length;c++){const m=y[c].color||"white",p=y[c].content||"white";l=_(m);const Q=Math.floor(Math.random()*h.length);o=h[Q];const k={id:c,content:p,color:m,status:o,lightness:l};r.push(k)}return r},[R,V]=f.useState(""),[g,t]=f.useState({label:h[0],value:h[0]}),i=(r,o,l)=>{var k,le;if(r.preventDefault(),o.trim()===""){d(b(re[s],!0,6));return}const c=o.trim().split(" "),m=c.length===1?o:c.slice(0,-1).join(" "),p=c.length===1?o:c[c.length-1];if(j(p)){const X={id:C.reduce((I,G)=>G.id>I?G.id:I,0)+1,content:m,color:p,status:l,lightness:_(o)};n(I=>[...I,X]),A(I=>[...I,{content:m,color:p}]),(k=N.current)==null||k.scrollIntoView({behavior:"smooth"})}else window.confirm(`${Ze[s]}: ${Qe[s]}`)&&(A(ce=>{const X=[...ce,{content:o,color:"lightgray"}],I={id:X.length-1,content:o,color:"lightgray",status:l,lightness:"light"};return n(G=>[...G,I]),X}),(le=N.current)==null||le.scrollIntoView({behavior:"smooth"}))},u=r=>{if(window.confirm(`${te[s]} (${r})`))A(o=>{const l=o.filter(c=>c.content!==r);return n(c=>c.filter(m=>m.content!==r)),l});else return},j=r=>{const o=document.createElement("canvas").getContext("2d");if(!o)throw new Error("Canvas context not available");return o.fillStyle=r,o.fillStyle!=="#000000"||r.toLowerCase()==="black"},L=Fe(),{isDragging:F,listItemsByStatus:q,handleDragging:Z,handleRenameStatus:Ce,handleUpdate:ye}=Dt(C,h);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${x.grid} ${h.length<2?x.one:h.length<3?x.two:(h==null?void 0:h.length)<4||(h==null?void 0:h.length)===5||(h==null?void 0:h.length)===6?x.three:x.four}`,ref:N,children:h.map(r=>{var o;return e.jsx(Ot,{language:s,itemsByStatus:(o=q[r])==null?void 0:o.items,status:r,statuses:h,isDragging:F,handleDragging:Z,handleUpdate:ye,handleRemoveColor:u,lightTheme:L,sanitize:w,updateStatus:H,reorderStatuses:U,deleteStatus:$,regex:v},r)})}),e.jsx("button",{onClick:W,children:ze[s]}),e.jsxs("div",{className:x["add-status"],children:[e.jsx("h2",{children:ue[s]}),e.jsxs("form",{onSubmit:r=>{r.preventDefault(),T(D)},children:[e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{htmlFor:"dnd-status-add",children:[e.jsx("input",{required:!0,type:"text",id:"dnd-status-add",value:D,onChange:r=>S(r.target.value)}),e.jsx("span",{children:ue[s]})]})}),e.jsx("button",{type:"submit",children:Pe[s]})]})]}),e.jsxs("div",{className:x["add-color"],children:[e.jsx("h2",{children:ee[s]}),e.jsxs("p",{children:[Ye[s]," darkblue or lightslategray."," ",be[s],"."," ",Ee[s]]}),e.jsxs("form",{onSubmit:r=>i(r,R,g.label),children:[e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{htmlFor:"dnd-color-add",children:[e.jsx("input",{required:!0,type:"text",id:"dnd-color-add",value:R,onChange:r=>V(r.target.value)}),e.jsx("span",{children:ee[s]})]})}),e.jsx(Be,{language:s,id:"dnd-color-status",className:"color",instructions:Ue[s],hide:!0,options:h.map(r=>({label:r,value:r})),value:g,onChange:r=>t(r||{label:h[0],value:h[0]})}),e.jsx("button",{type:"submit",children:ee[s]})]}),e.jsxs("p",{children:[e.jsxs("span",{children:[He[s]," "]})," ",e.jsx("a",{href:"https://htmlcolorcodes.com/color-names/",target:"_blank",children:Ke[s]})]})]})]})};function rr({heading:s,text:d,type:C,language:n}){return e.jsxs("div",{className:`draganddrop ${C}`,children:[e.jsx(Xe,{language:n,address:"draganddrop",heading:s,text:d,instructions:et[n]}),e.jsx("div",{className:"inner-wrap",children:e.jsx("section",{className:"card",children:e.jsxs("div",{children:[e.jsxs("div",{className:"medium flex column gap",children:[e.jsxs(je,{language:n,text:tt[n],className:"features",children:[e.jsx("h2",{children:rt[n]}),e.jsxs("ul",{className:"ul",children:[e.jsx("li",{children:st[n]}),e.jsx("li",{children:ot[n]}),e.jsx("li",{children:nt[n]}),e.jsx("li",{children:it[n]}),e.jsx("li",{children:lt[n]}),e.jsx("li",{children:ct[n]}),e.jsxs("li",{children:[be[n],"."," ",Ee[n]]})]}),e.jsx("h3",{children:at[n]}),e.jsx("h4",{children:dt[n]}),e.jsxs("ul",{className:"ul",children:[e.jsx("li",{children:ht[n]}),e.jsx("li",{children:ut[n]}),e.jsxs("li",{children:[mt[n],":"," ",e.jsx(oe,{"aria-hidden":"true",style:{display:"inline-block",marginBottom:"-0.15em"}})," "]})]}),e.jsx("h4",{children:pt[n]}),e.jsxs("ul",{className:"ul",children:[e.jsx("li",{children:xt[n]}),e.jsxs("li",{children:[ft[n],e.jsxs("ul",{children:[e.jsxs("li",{children:[jt[n]," ",e.jsx(oe,{"aria-hidden":"true",style:{display:"inline-block",marginBottom:"-0.15em"}})," ",bt[n]]}),e.jsx("li",{children:Et[n]})]})]})]})]}),e.jsx("a",{href:"https://github.com/jenniina/react-sub-site/tree/main/src/components/DragAndDrop",children:"Github"})]}),e.jsx("h2",{children:Ct[n]}),e.jsx("p",{children:yt[n]}),e.jsx(Lt,{language:n})]})})})]})}export{rr as default};
