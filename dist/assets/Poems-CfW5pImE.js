import{r as c,j as e}from"./react-A9DAvxly.js";import{bp as x,bm as u}from"./AccessibleColors-CRBQVtI_.js";import{a as h}from"./axios-CCb-kr4I.js";const j=({poem:t,language:a})=>{const[r,n]=c.useState(!1),l=c.useRef(null),m=()=>{var i,d;const s=`${t.title} 

 ${t.lines.join(`
`)}

 - ${t.author}`;if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(s).then(()=>{n(!0),setTimeout(()=>n(!1),3e3)},o=>{console.error("Failed to copy:",o)});else{const o=document.createElement("textarea");o.value=s,(i=l.current)==null||i.appendChild(o),o.focus(),o.select();try{document.execCommand("copy"),n(!0),setTimeout(()=>n(!1),3e3)}catch(p){console.error("Failed to copy:",p)}(d=l.current)==null||d.removeChild(o)}};return!t||!t.lines||t.lines.length<1?e.jsx(e.Fragment,{}):e.jsxs(e.Fragment,{children:[e.jsx("p",{style:{margin:"0 0 0.5em 0"},children:t.title}),e.jsx("p",{ref:l,children:e.jsxs("i",{children:[e.jsx("big",{style:{display:"block",margin:"0 0 0.5em"},children:t.lines.map((s,i)=>e.jsxs(c.Fragment,{children:[s,t.lines.length===i+1?"":e.jsx("br",{})]},s))}),"— ",t.author]})}),e.jsx("div",{className:"flex gap",children:e.jsx("button",{className:"small",style:{maxWidth:"max-content",marginLeft:"1em"},onClick:m,children:r?x[a]:u[a]})})]})},g="https://poetrydb.org",C=async(t,a)=>{try{const r=await h.get(`${g}/random,linecount/1;${a}`);if(r.status===200&&r.data)return r.data;throw new Error("Failed to fetch poem.")}catch(r){return console.error("Error fetching poem:",r),[]}};export{j as P,C as g};
