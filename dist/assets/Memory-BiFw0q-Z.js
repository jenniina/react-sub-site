import{j as e,r as j}from"./react-A9DAvxly.js";import{a5 as ke,a6 as Pe,a7 as me,a8 as Z,a9 as Ve,aa as Ye,ab as Je,ac as Qe,ad as Xe,ae as Ze,af as es,ag as ss,ah as as,ai as ts,aj as rs,ak as ns,al as cs,am as is,an as os,ao as ls,ap as ds,aq as hs,ar as ms,as as ps,at as us,au as xs,av as js,aw as fs,ax as _s,ay as bs,az as vs,aA as ys,aB as gs,aC as $s,aD as Ss,aE as ws,aF as Fs,aG as Ns,aH as Es,aI as Cs,aJ as Hs,aK as ks,aL as Ps,aM as Is,aN as Ts,aO as As,aP as Ds,aQ as Os,aR as Ls,aS as Ms,aT as Bs,aU as Gs,aV as zs,y as Rs,aW as Us,aX as Ws}from"./react-icons-CrVlm7qW.js";import{fO as H,fP as de,fQ as he,ae as Ie,fR as Ks,fS as ee,fT as q,fU as qs,fV as oe,K as Vs,fW as Ys,c$ as Js,fX as ve,fY as ye,fZ as ge,u as le,f_ as Qs,f$ as Xs,g0 as Zs,g1 as ea,g2 as U,g3 as $e,g4 as V,ag as Se,g5 as we,W as Y,g6 as sa,eV as aa,g7 as ta,g8 as ra,g9 as na,ga as ca,gb as ia,gc as oa,gd as la,ge as da,cz as ha,gf as ma,dA as Fe,gg as pa,gh as ua,gi as xa,b9 as ja,be as fa,bf as _a,gj as ba,fd as Ne,gk as va,gl as ya,cF as ga,bk as $a}from"./index-Bhl207lb.js";import{a as G}from"./axios-CCb-kr4I.js";import{a as Sa}from"./react-redux-CHm9GgGE.js";import"./hoist-non-react-statics-D5aJipOz.js";import"./react-dom-yh0erWL-.js";import"./scheduler-CzFDRTuY.js";import"./@reduxjs-DhFEcpJw.js";import"./immer-C0GRqQ_d.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./react-router-dom-CYs6befe.js";import"./react-router-S1Hdk0kP.js";import"./@remix-run-DTnHqtaE.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-DEc9BFqZ.js";const wa="_sectioncard_14ba1_21",Fa="_game_14ba1_53",Na="_container_14ba1_69",Ea="_modal_14ba1_71",Ca="_settings_14ba1_85",Ha="_size8_14ba1_153",ka="_size10_14ba1_155",Pa="_light_14ba1_207",Ia="_grid_14ba1_145",Ta="_card_14ba1_253",Aa="_flipped_14ba1_313",Da="_front_14ba1_313",Oa="_flip_14ba1_313",La="_back_14ba1_325",Ma="_header_14ba1_521",Ba="_time_14ba1_889",Ga="_select_14ba1_993",za="_active_14ba1_1137",Ra="_finish_14ba1_1279",Ua="_close_14ba1_1315",Wa="_big_14ba1_1329",c={"game-container":"_game-container_14ba1_1",sectioncard:wa,game:Fa,container:Na,modal:Ea,settings:Ca,"player-names-wrap":"_player-names-wrap_14ba1_111","grid-wrap":"_grid-wrap_14ba1_145",size8:Ha,size10:ka,light:Pa,grid:Ia,card:Ta,flipped:Aa,front:Da,flip:Oa,back:La,"flip-back":"_flip-back_14ba1_1","flipped-over":"_flipped-over_14ba1_337",header:Ma,"game-over":"_game-over_14ba1_537","high-scores":"_high-scores_14ba1_549","new-score":"_new-score_14ba1_661","title-svg":"_title-svg_14ba1_811","title-icon":"_title-icon_14ba1_819","time-wrap":"_time-wrap_14ba1_889",time:Ba,"delete-btn":"_delete-btn_14ba1_931","delete-name-form":"_delete-name-form_14ba1_939",select:Ga,"player-names":"_player-names_14ba1_111","set-card-type":"_set-card-type_14ba1_1017","set-players":"_set-players_14ba1_1035","set-grid":"_set-grid_14ba1_1037",active:za,"set-handedness":"_set-handedness_14ba1_1151",finish:Ra,"edit-wrap":"_edit-wrap_14ba1_1285",close:Ua,big:Wa},Ka=({option:s,isActive:l,onClick:i})=>{const S=k=>{switch(k){case H.icons:return e.jsx(me,{});case H.numbers:return e.jsx(Pe,{});case H.letters:return e.jsx(ke,{});default:return null}};return e.jsxs("button",{className:`tooltip-wrap ${l?`${c.active} grayer`:""}`,onClick:i,disabled:l,"aria-label":s.label,children:[S(s.value),e.jsx("span",{className:"tooltip above narrow2 space",children:s.label})]})},qa=({option:s,isActive:l,onClick:i})=>e.jsxs("button",{className:`tooltip-wrap ${l?`${c.active} grayer`:""}`,onClick:i,disabled:l,children:[e.jsx("span",{children:s.icon}),e.jsx("span",{className:"tooltip above narrow2 space",children:s.label})]}),Va=({language:s,value:l,isActive:i,onClick:S})=>e.jsxs("button",{className:`tooltip-wrap ${c["player-button"]} ${i?c.active:""}`,disabled:i,onClick:S,children:[e.jsx("span",{children:l}),e.jsx("span",{className:"tooltip above narrow2",children:Number(l)>1?de[s]:he[s]})]}),Ya=({setGameStarted:s,language:l,gridSize:i,cards:S,flippedCards:k,flippedOverCards:F,matchedCards:_,cardType:R,handleCardClick:T,renderCardContent:g})=>{const{windowHeight:D,windowWidth:O}=Ie(),E=`size${i}`;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${c["grid-wrap"]} ${c[E]}`,children:e.jsx("div",{className:c.grid,style:{gridTemplateColumns:`repeat(${i}, 1fr)`,gridTemplateRows:`repeat(${i}, 1fr)`,"--size":`${D>O?94:85}`,"--amount":`${i}`,"--multiplier":`${D>O?"1vw":"1vh"}`},children:S.map((L,u)=>{const t={"--fontSize":R.value===H.icons?D>O?`${50/i}vw`:`${50/i}vh`:D>O?`${40/i}vw`:`${40/i}vh`};return e.jsxs("div",{style:t,className:`${c.card} ${k.includes(u)||_.includes(u)?c.flipped:""} ${F.includes(u)?c["flipped-over"]:""}`,onClick:()=>T(u),children:[e.jsx("div",{className:c.front,children:g(L)}),e.jsx("div",{className:c.back})]},L.id)})})}),e.jsx("button",{className:c.finish,type:"button",onClick:()=>{s(!1)},children:Ks[l]})]})},Ja=j.memo(Ya),Qa=(s,l)=>{const[i,S]=j.useState(0),k=j.useCallback(()=>{S(0)},[]);return j.useEffect(()=>{let F;if(s){S(0);const _=100,R=.1;F=setInterval(()=>{S(T=>{const g=T+R;return parseFloat(g.toFixed(1))})},_)}return()=>{F&&clearInterval(F)}},[s,l]),{timer:i,resetTimer:k}},Xa="http://localhost:4000",z=`${Xa}/api/highscores`,Za=async(s,l)=>(await G.post(`${z}/${s}/key/${l.levelKey}`,l)).data,et=async(s,l)=>(await G.get(`${z}/${s}/key/${l}`)).data,st=async s=>(await G.get(`${z}/${s}`)).data,at=async(s,l)=>(await G.delete(`${z}/${s}/id/${l}`)).data,tt=async(s,l,i)=>(await G.put(`${z}/${s}/id/${l._id}?userID=${i}`,l)).data,rt=async(s,l,i)=>(await G.delete(`${z}/${s}/player/${l}?userID=${i}`)).data,nt=async(s,l)=>(await G.post(`${z}/${s}/cleanup/${l}`)).data,ct=async(s,l,i,S)=>(await G.put(`${z}/${s}/player?userID=${S}`,{oldName:l,newName:i})).data,W={addHighScore:Za,getHighScoresByLevel:et,getAllHighScores:st,deleteHighScore:at,updateHighScore:tt,deleteHighScoresByPlayerName:rt,changePlayerName:ct,cleanUpHighScores:nt},Ee=localStorage.getItem("AppLanguage"),y=Ee?Ee.replace(/"/g,""):"en",it=()=>{const[s,l]=j.useState({}),[i,S]=j.useState(!0),[k,F]=j.useState(null);j.useEffect(()=>{(async()=>{try{const d=await W.getAllHighScores(y),t={};d.forEach(r=>{const[n,...v]=r.levelKey.split("_"),h=v.join("_");t[n]||(t[n]={}),t[n][h]||(t[n][h]=[]),t[n][h].push(r)}),Object.keys(t).forEach(r=>{Object.keys(t[r]).forEach(n=>{t[r][n]=t[r][n].sort((v,h)=>v.time-h.time).slice(0,5)})}),l(t)}catch(d){console.error(ee[y],d),F(ee[y])}finally{S(!1)}})()},[y]);const _=async u=>{try{const d=await W.addHighScore(y,u);if(d.highScore){const[t,...r]=d.highScore.levelKey.split("_"),n=r.join("_");return l(v=>{const h={...v};h[t]||(h[t]={}),h[t][n]||(h[t][n]=[]);const b=h[t][n]||[],P=b.findIndex(C=>{var A;return C._id===((A=d.highScore)==null?void 0:A._id)});let w;return P!==-1?(w=[...b],d.highScore&&(w[P]=d.highScore)):d.highScore?w=[...b,d.highScore]:w=[...b],w=w.sort((C,A)=>C.time-A.time).slice(0,5),h[t][n]=w,h}),await E(),d.highScore}else return}catch{F("Failed to add high score.");return}},R=async u=>{try{const d=await W.getHighScoresByLevel(y,u);return d.sort((t,r)=>t.time-r.time),d.slice(0,5)}catch(d){return console.error(ee[y],d),F(ee[y]),[]}},T=async u=>{try{const d=await W.deleteHighScore(y,u);d.success?l(t=>{const r={};return Object.keys(t).forEach(n=>{r[n]={...t[n]},Object.keys(r[n]).forEach(v=>{r[n][v]=r[n][v].filter(h=>h._id!==u)})}),r}):console.error(q[y],d.message)}catch(d){console.error(q[y],d),F(q[y])}},g=async(u,d)=>{try{const t=await W.updateHighScore(y,u,d);if(t.success&&t.highScore){const r=t.highScore,[n,...v]=r.levelKey.split("_"),h=v.join("_");l(b=>{b[n]||(b[n]={}),b[n][h]||(b[n][h]=[]);const P=b[n][h]||[],w=P.findIndex(C=>C._id===r._id);if(w!==-1){const C=[...P];C[w]=r;const A=C.sort((se,J)=>se.time-J.time).slice(0,5);return{...b,[n]:{...b[n],[h]:A}}}return b}),console.log(qs[y])}else console.error(oe[y],t.message)}catch(t){console.error(oe[y],t),F(oe[y])}},D=async(u,d)=>{try{const t=await W.deleteHighScoresByPlayerName(y,u,d);t.success?l(r=>{const n={};return Object.keys(r).forEach(v=>{n[v]={},Object.keys(r[v]).forEach(h=>{n[v][h]=r[v][h].filter(b=>!b.players.some(P=>P.name===u))})}),n}):console.error(q[y],t.message)}catch(t){console.error(q[y],t),F(q[y])}},O=u=>{const t=[...u.players].sort((r,n)=>r.name.localeCompare(n.name)).map(r=>`${r.name}:${r.score}`).join("-");return`${u.levelKey}_${u.time}-${t}`},E=async()=>{const u=Object.values(s).flatMap(t=>Object.values(t)).flat(),d={};u.forEach(t=>{const r=O(t);d[r]||(d[r]=[]),d[r].push(t)});for(const t in d){const r=d[t];if(r.length>1){r.sort((h,b)=>new Date(b.createdAt??0).getTime()-new Date(h.createdAt??0).getTime());const[n,...v]=r;for(const h of v)h._id&&await T(h._id)}}};return{highScores:s,addHighScore:_,getHighScoresByLevel:R,deleteHighScore:T,updateHighScore:g,deleteHighScoresByPlayerName:D,changePlayerName:async(u,d,t)=>{try{await W.changePlayerName(y,u,d,t),l(r=>{const n={};return Object.keys(r).forEach(v=>{n[v]={},Object.keys(r[v]).forEach(h=>{n[v][h]=r[v][h].map(b=>{const P=b.players.map(w=>w.name===u?{...w,name:d}:w);return{...b,players:P}})})}),n})}catch(r){console.error("Failed to change player name.",r)}},loading:i,error:k}},Ce=j.memo(({timer:s})=>e.jsxs("span",{children:[s.toFixed(1),"s"]})),He=[e.jsx(Je,{}),e.jsx(Qe,{}),e.jsx(Xe,{}),e.jsx(Ze,{}),e.jsx(es,{}),e.jsx(ss,{}),e.jsx(as,{}),e.jsx(ts,{}),e.jsx(rs,{}),e.jsx(ns,{}),e.jsx(cs,{}),e.jsx(is,{}),e.jsx(os,{}),e.jsx(ls,{}),e.jsx(ds,{}),e.jsx(hs,{}),e.jsx(ms,{}),e.jsx(ps,{}),e.jsx(us,{}),e.jsx(xs,{}),e.jsx(js,{}),e.jsx(fs,{}),e.jsx(_s,{}),e.jsx(bs,{}),e.jsx(vs,{}),e.jsx(me,{}),e.jsx(ys,{}),e.jsx(gs,{}),e.jsx($s,{}),e.jsx(Ss,{}),e.jsx(ws,{}),e.jsx(Fs,{}),e.jsx(Ns,{}),e.jsx(Es,{}),e.jsx(Cs,{}),e.jsx(Hs,{}),e.jsx(ks,{}),e.jsx(Ps,{}),e.jsx(Is,{}),e.jsx(Ts,{}),e.jsx(As,{}),e.jsx(Ds,{}),e.jsx(Os,{}),e.jsx(Ls,{}),e.jsx(Ms,{}),e.jsx(Bs,{}),e.jsx(Gs,{}),e.jsx(zs,{}),e.jsx(Rs,{}),e.jsx(Us,{}),e.jsx(Ws,{})],ot=["solo","duet"],Et=({language:s})=>{const l=Vs(),i=Sa(a=>{var o;return(o=a.auth)==null?void 0:o.user}),{show:S}=Ys(),k=Js();j.useEffect(()=>{},[]);const F=[{value:H.icons,label:ve[s]},{value:H.numbers,label:ye[s]},{value:H.letters,label:ge[s]}],[_,R]=le("memoryCardType",F[0]),T=[{value:4,icon:"4 × 4",label:`${Qs[s]}`},{value:6,icon:"6 × 6",label:`${Xs[s]}`},{value:8,icon:"8 × 8",label:`${Zs[s]}`},{value:10,icon:"10 × 10",label:`${ea[s]}`}],[g,D]=le("memoryGrid",T[1]),O=[1,2],[E,L]=le("memoryPlayers",[{id:1,name:`${U[s]} 1`,score:0}]),[u,d]=j.useState(""),[t,r]=j.useState(0),[n,v]=j.useState([]),[h,b]=j.useState([]),[P,w]=j.useState([]),[C,A]=j.useState([]),[se,J]=j.useState(!1),[M,ae]=j.useState(!1),[Te,pe]=j.useState(!1),{timer:te,resetTimer:Ae}=Qa(Te,"1ms"),{highScores:Q,addHighScore:De,deleteHighScore:Oe,updateHighScore:lt,deleteHighScoresByPlayerName:Le,changePlayerName:Me,loading:re,error:X}=it(),[Be,ue]=j.useState(!1),[ne,Ge]=j.useState(!1),[xe,ze]=j.useState(null),{windowWidth:K}=Ie(),je=()=>{let a=[];const o=g?Number(g.value)*Number(g.value)/2:0;if((_==null?void 0:_.value)===H.letters){const p=Array.from({length:o},(f,x)=>{const N=65+x%26;return Math.floor(x/26)%2===0?String.fromCharCode(N):String.fromCharCode(N+32)});a=[...p,...p]}else if((_==null?void 0:_.value)===H.numbers){const p=Array.from({length:o},(f,x)=>x.toString());a=[...p,...p]}else if((_==null?void 0:_.value)===H.icons){const f=[...He].sort(()=>Math.random()-.5).slice(0,o);a=[...f,...f]}const m=a.map((p,f)=>({value:p,id:f})).sort(()=>Math.random()-.5).slice(0,g?Number(g.value)*Number(g.value):0);v(m),b([]),A([]),ae(!0),pe(!0),Ae(),L(p=>p.map(f=>({...f,score:0}))),r(0),ue(!1)},fe=(a,o,m)=>`${m}_${a}x${a}_${o}`,Re=async()=>{ue(!0),ae(!1);const a=E.length===1?"solo":"duet",m={levelKey:fe(Number(g.value),_.value,a),time:te,players:E,size:Number(g.value),type:_.value},p=await De(m);p&&(ze(p._id||null),Ge(!0)),w([])};j.useEffect(()=>{if(ne){const a=E.length===1?"solo":"duet",o=fe(Number(g.value),_.value,a);setTimeout(()=>{const[m,...p]=o.split("_");p.join("_"),S({title:$e[s],className:"",children:e.jsxs("div",{id:"high-scores",className:`${c.modal} ${k?c.light:""}`,children:[e.jsx("h3",{children:$e[s]}),e.jsx("div",{className:`${c["high-scores"]}`,children:(()=>{const f=E.length===1?V.solo:V.duet;let x="";return f===V.solo?x=he[s]:f===V.duet&&(x=de[s]),e.jsxs(e.Fragment,{children:[e.jsx("h4",{children:x},f),re&&e.jsxs("p",{className:"flex center margin0auto textcenter",children:[Se[s],"..."]}),X&&e.jsxs("p",{children:[X," — ",we[s]]}),Object.keys(Q[f]||{}).sort().map(N=>{var $,B;return e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("h5",{children:_e(`${N}`)}),e.jsx("ol",{children:(B=($=Q[f])==null?void 0:$[N])==null?void 0:B.map((I,ce)=>e.jsx("li",{className:I._id===xe?c["new-score"]:"",children:e.jsxs("div",{children:[e.jsx("span",{children:I.players.map(ie=>e.jsxs("span",{children:[ie.name,": ",ie.score," "]},ie.id))}),e.jsxs("i",{className:c.time,children:[I.time.toFixed(1),"s"]})]})},I._id||`${ce}-${I.time.toFixed(1)}`))})]})},`${f}-${N}`)})]})})()})]})})},0)}else ne||Y(sa[s],!1,5)},[Q,ne,xe,re,X]);const Ue=a=>{if(!(se||h.includes(a)||C.includes(a))&&(b(o=>[...o,a]),h.length===1)){J(!0);const o=h[0],m=a,p=n[o],f=n[m];p.value===f.value?(A(x=>[...x,o,m]),L(x=>x.map((N,$)=>$===t?{...N,score:N.score+1}:N)),b([]),J(!1)):setTimeout(()=>{b([]),w(x=>[...x,o,m]),J(!1),r(x=>(x+1)%E.length)},800)}};j.useEffect(()=>{M&&C.length===n.length&&n.length>0&&!Be&&(pe(!1),setTimeout(()=>{Re()},1e3))},[M,C,n]);const We=a=>(_==null?void 0:_.value)===H.icons?a.value:e.jsx("span",{children:a.value}),Ke=(a,o)=>{if(/[^\p{L}0-9 ]/gu.test(o)){l(Y($a[s],!0,5));return}const f=o.replace(/[^\p{L}0-9 ]/gu,"").trim();L(x=>x.map((N,$)=>$===a?{...N,name:f||`${U[s]} ${$+1}`}:N))},qe=a=>{L(o=>Array.from({length:a},(p,f)=>{const x=o[f];return x?{...x,id:f+1}:{id:f+1,name:`${U[s]} ${f+1}`,score:0}})),r(0)};j.useEffect(()=>{const a=He.map(m=>m.type.displayName||m.type.name),o=a.filter((m,p)=>a.indexOf(m)!==p);o.length>0&&console.log("Duplicate Icons Found:",o)},[]);const _e=a=>{const o=a.split("_");let m="",p=e.jsx(e.Fragment,{});return o[1]===H.numbers?(p=e.jsx("span",{className:c["title-svg"],children:e.jsx(Pe,{"aria-hidden":"true"})}),m=ye[s]):o[1]===H.letters?(p=e.jsx("span",{className:c["title-svg"],children:e.jsx(ke,{"aria-hidden":"true"})}),m=ge[s]):o[1]===H.icons&&(p=e.jsx("span",{className:c["title-icon"],children:e.jsx(me,{"aria-hidden":"true"})}),m=ve[s]),e.jsxs(e.Fragment,{children:[o[0]," ",p," ",e.jsx("br",{}),m]})};j.useEffect(()=>{M&&aa("game")},[M]);const be=15;return e.jsxs("div",{id:c["game-container"],className:`${c.container} ${k?c.light:""}`,children:[!M&&C.length===n.length&&n.length>0&&e.jsx("section",{className:`card ${c.sectioncard}`,children:e.jsx("div",{children:e.jsxs("div",{className:c["game-over"],children:[e.jsx("h2",{children:ta[s]}),e.jsxs("p",{children:[ra[s],": ",e.jsx(Ce,{timer:te})]}),e.jsxs("div",{children:[e.jsxs("h3",{children:[na[s],":"]}),E.map(a=>e.jsxs("p",{children:[a.name,": ",a.score]},a.id))]}),e.jsx("button",{onClick:je,children:ca[s]})]})})}),!M&&e.jsx("section",{className:`card ${c.sectioncard}`,children:e.jsx("div",{children:e.jsxs("div",{id:"settings",className:c.settings,children:[e.jsx("h2",{className:"scr",children:ia[s]}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("h3",{children:oa[s]}),e.jsx("div",{className:c["set-card-type"],children:F.map(a=>e.jsx(Ka,{option:a,isActive:(_==null?void 0:_.value)===a.value,onClick:()=>R(a)},a.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{children:la[s]}),e.jsx("div",{className:c["set-grid"],children:T.map(a=>e.jsx(qa,{option:a,isActive:(g==null?void 0:g.value)===a.value,onClick:()=>D(a)},a.value))})]}),e.jsxs("div",{className:c["player-names-wrap"],children:[e.jsx("h3",{children:da[s]}),e.jsx("div",{className:c["set-players"],children:e.jsx(e.Fragment,{children:O.map(a=>e.jsx(Va,{language:s,value:a,isActive:E.length===a,onClick:()=>qe(a)},a))})}),e.jsxs("div",{className:c["player-names"],children:[e.jsxs("small",{children:[ha[s],"."," ",ma[s]]}),E.map((a,o)=>e.jsxs("div",{className:"input-wrap",children:[e.jsxs("label",{children:[e.jsx("input",{type:"text",name:`player-${o}`,value:a.name,onChange:m=>Ke(o,m.target.value),maxLength:be,placeholder:`${U[s]} ${o+1}`}),e.jsx("span",{children:`${U[s]} ${o+1} ${Fe[s].toLowerCase()}:`})]}),e.jsxs("small",{children:[a.name.length,"/",be]})]},a.id))]})]})]}),e.jsx("button",{className:c.big,onClick:je,children:pa[s]})]})})}),!M&&e.jsx("section",{className:`card ${c.sectioncard} ${c["scores-wrap"]}`,children:e.jsx("div",{children:e.jsxs("div",{id:"high-scores",children:[e.jsxs("h2",{children:[K>400&&e.jsx(Z,{"aria-hidden":"true",style:{transform:"scale(0.8, 0.8)"}}),ua[s]," ",K>400&&e.jsx(Z,{"aria-hidden":"true",style:{transform:"scale(-0.8, 0.8)"}})]}),e.jsxs("p",{className:"textcenter margin0auto",children:[K>200&&e.jsx("span",{"aria-hidden":"true",children:"— "}),xa[s],K>200&&e.jsx("span",{"aria-hidden":"true",children:" —"})]}),e.jsx("div",{className:c["high-scores"],children:ot.map(a=>{let o="";return a===V.solo?o=he[s]:a===V.duet&&(o=de[s]),e.jsxs(j.Fragment,{children:[e.jsxs("h3",{children:[K>200&&e.jsx(Z,{"aria-hidden":"true",style:{transform:"scale(0.8)"}}),o,K>200&&e.jsx(Z,{"aria-hidden":"true",style:{transform:"scale(-0.8)"}})]}),re&&e.jsxs("p",{className:"flex center margin0auto textcenter",children:[Se[s],"..."]}),X&&e.jsxs("p",{children:[X," — ",we[s]]}),Object.keys(Q[a]||{}).sort().map(m=>{var p,f;return e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("h4",{children:_e(`${m}`)}),e.jsx("ol",{children:(f=(p=Q[a])==null?void 0:p[m])==null?void 0:f.map((x,N)=>e.jsx("li",{children:e.jsxs("div",{children:[e.jsx("span",{children:x.players.map($=>e.jsxs(j.Fragment,{children:[e.jsxs("span",{children:[$.name," ",x.players.length>1?`: ${$.score}`:""," "]}),i&&i.role&&i.role>1&&e.jsx(ja,{hideBrackets:!0,language:s,id:`edit-${x._id}`,className:"edit",wrapperClass:`${c["edit-wrap"]}`,text:e.jsx(e.Fragment,{children:e.jsx(Ve,{"aria-hidden":"true"})}),isOpen:!1,closeClass:c.close,setIsFormOpen:()=>{},tooltip:fa[s],y:"above",children:e.jsx("form",{onSubmit:B=>{B.preventDefault();const I=$.name,ce=B.target.name;Me(I,ce,i==null?void 0:i._id)},children:e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{children:[e.jsx("input",{type:"text",name:"name",required:!0}),e.jsxs("span",{children:[_a[s]," (",$.name,"):"]})]})})})})]},$.id))}),e.jsxs("span",{className:`flex ${c["time-wrap"]}`,children:[e.jsxs("i",{className:c.time,children:[x.time.toFixed(1),"s"]}),i&&i.role&&i.role>1&&e.jsx(e.Fragment,{children:e.jsxs("button",{type:"button",className:`danger small tooltip-wrap ${c["delete-btn"]}`,onClick:()=>{x._id&&window.confirm(ba[s])&&Oe(x._id).catch($=>{var B,I;console.error($),(I=(B=$.response)==null?void 0:B.data)!=null&&I.message?l(Y($.response.data.message,!0,8)):l(Y($.message,!0,5))})},children:[e.jsx("span",{"aria-hidden":"true",children:e.jsx(Ye,{"aria-hidden":"true"})}),e.jsx("span",{className:"tooltip above narrow2",children:Ne[s]})]})})]})]})},`${a}-${m}-${N}-${x.time.toFixed(1)}`))})]})},`${a}-${m}`)})]},a)})}),i&&i.role&&i.role>1&&e.jsxs("form",{className:`${c["delete-name-form"]}`,onSubmit:a=>{a.preventDefault(),window.confirm(va[s])&&Le(u,i==null?void 0:i._id).then(()=>{d("")}).catch(o=>{var m,p;console.error(o),(p=(m=o.response)==null?void 0:m.data)!=null&&p.message?l(Y(o.response.data.message,!0,8)):l(Y(o.message,!0,5))})},children:[e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{children:[e.jsx("input",{type:"text",name:"name",value:u,required:!0,onChange:a=>d(a.target.value)}),e.jsxs("span",{children:[Fe[s]," (",U[s],"):"]})]})}),e.jsx("button",{type:"submit",className:"danger",children:Ne[s]})]})]})})}),M&&e.jsx("section",{className:`card ${c.sectioncard} ${c.game}`,children:e.jsx("div",{children:e.jsxs("div",{id:"game",children:[e.jsxs("div",{className:c.header,children:[e.jsxs("div",{children:[ya[s],": ",e.jsx(Ce,{timer:te})]}),e.jsxs("div",{children:[U[s],": ",E[t].name," | ",ga[s],":"," ",E[t].score]})]}),e.jsx(Ja,{language:s,setGameStarted:ae,gridSize:g.value,cards:n,cardType:_,flippedCards:h,flippedOverCards:P,matchedCards:C,handleCardClick:Ue,renderCardContent:We})]})})})]})};export{Et as default};
