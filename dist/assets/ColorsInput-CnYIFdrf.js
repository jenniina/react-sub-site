import{r as b,j as t}from"./react-A9DAvxly.js";import{K as P,S as Q,il as X,f3 as Y,W as Z,bd as _}from"./index-DXzAlOEQ.js";import{s as m}from"./AccessibleColors-_MiZlkPK.js";import"./hoist-non-react-statics-D5aJipOz.js";import"./react-dom-yh0erWL-.js";import"./scheduler-CzFDRTuY.js";import"./react-redux-CHm9GgGE.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-DEc9BFqZ.js";import"./@reduxjs-DhFEcpJw.js";import"./immer-C0GRqQ_d.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./axios-CCb-kr4I.js";import"./react-icons-CrVlm7qW.js";import"./react-router-dom-CYs6befe.js";import"./react-router-S1Hdk0kP.js";import"./@remix-run-DTnHqtaE.js";const $s=({language:C,block:r,fontSize:j,updateColor:c,width:w,hexToRGB:L,hslToRGB:B,rgbToHex:V,rgbToHSL:R})=>{const M=P(),U=/^hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/i,K=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,O=/^#([0-9A-F]{3}){1,2}$/i,D=[{value:"hsl",label:"HSL"},{value:"rgb",label:"RGB"},{value:"hex",label:"Hex"}],[h,q]=b.useState(D.find(s=>s.value===r.colorFormat)||D[0]),[I,f]=b.useState(""),[u,N]=b.useState(0),[o,v]=b.useState(0),[x,y]=b.useState(0),[d,F]=b.useState(0),[$,S]=b.useState(0),[g,E]=b.useState(0);b.useEffect(()=>{switch(r.colorFormat){case"hex":{f(r.color);const{r:s,g:e,b:n}=L(r.color);N(s),v(e),y(n);const{h:a,s:i,l}=R(s,e,n);F(a),S(i),E(l);break}case"rgb":{const s=r.color.match(K);if(s){const e=Number(s[1]),n=Number(s[2]),a=Number(s[3]);N(e),v(n),y(a);const{h:i,s:l,l:p}=R(e,n,a);F(i),S(l),E(p)}break}case"hsl":{const s=r.color.match(U);if(s){const e=Number(s[1]),n=Number(s[2]),a=Number(s[3]);F(e),S(n),E(a);const{r:i,g:l,b:p}=B(e,n,a);N(i),v(l),y(p);const W=V(i,l,p);f(W)}break}}},[r.color,r.colorFormat]);const J=s=>{try{let e;if(s==="hex")if(O.test(I)){e=I.toUpperCase(),c(r.id,e,"hex");const{r:n,g:a,b:i}=L(e);N(n),v(a),y(i);const{h:l,s:p,l:W}=R(n,a,i);F(l),S(p),E(W),c(r.id,I,"hex")}else throw new Error("Invalid Hex format.");else if(s==="rgb")if(u>=0&&u<=255&&o>=0&&o<=255&&x>=0&&x<=255){e=`rgb(${u}, ${o}, ${x})`,c(r.id,e,"rgb");const n=V(u,o,x);f(n);const{h:a,s:i,l}=R(u,o,x);F(a),S(i),E(l),c(r.id,`rgb(${u}, ${o}, ${x})`,"rgb")}else throw new Error("Invalid RGB values.");else if(s==="hsl")if(d>=0&&d<=360&&$>=0&&$<=100&&g>=0&&g<=100){e=`hsl(${d}, ${$}%, ${g}%)`,c(r.id,e,"hsl");const{r:n,g:a,b:i}=B(d,$,g);N(n),v(a),y(i);const l=V(n,a,i);f(l),c(r.id,`hsl(${d}, ${$}%, ${g}%)`,"hsl")}else throw new Error("Invalid HSL values.");else throw new Error("Unsupported color format.")}catch(e){console.error(e.message),M(Z(_[C]+" "+e.message,!0,4))}},G=s=>{s.preventDefault(),J(h==null?void 0:h.value)},A=(s,e)=>{s==="h"&&F(e),s==="s"&&S(e),s==="l"&&E(e);const n=s==="h"?e:d,a=s==="s"?e:$,i=s==="l"?e:g;if(n>=0&&n<=360&&a>=0&&a<=100&&i>=0&&i<=100){const{r:l,g:p,b:W}=B(n,a,i);N(l),v(p),y(W),c(r.id,`hsl(${n}, ${a}%, ${i}%)`,"hsl"),f(V(l,p,W))}},H=(s,e)=>{s==="r"&&N(e),s==="g"&&v(e),s==="b"&&y(e);const n=s==="r"?e:u,a=s==="g"?e:o,i=s==="b"?e:x;if([n,a,i].every(l=>l>=0&&l<=255)){const{h:l,s:p,l:W}=R(n,a,i);F(l),S(p),E(W),c(r.id,`rgb(${n}, ${a}, ${i})`,"rgb"),f(V(n,a,i))}};return t.jsxs(t.Fragment,{children:[t.jsx(Q,{hideDelete:!0,id:"color-select",className:m["color-select"],language:C,instructions:X[C],hide:!0,options:D,value:h,z:1,onChange:s=>{if(q(s),(s==null?void 0:s.value)==="hex"){const e=V(u,o,x);f(e),c(r.id,e,"hex")}else(s==null?void 0:s.value)==="rgb"?(N(u),v(o),y(x),c(r.id,`rgb(${u}, ${o}, ${x})`,"rgb")):(s==null?void 0:s.value)==="hsl"&&(F(d),S($),E(g),c(r.id,`hsl(${d}, ${$}%, ${g}%)`,"hsl"))}}),(h==null?void 0:h.value)==="hex"&&t.jsxs("form",{className:m.form,onSubmit:G,children:[t.jsx("div",{className:`${m.inputs} ${m["hex-input"]}`,children:t.jsxs("label",{children:[t.jsx("span",{children:"Hex: "}),t.jsx("input",{name:`hex-input-${r.id}`,type:"text",value:I,onChange:s=>f(s.target.value),className:m["color-input"],style:{maxWidth:`${w}`,fontSize:j},placeholder:"#FFFFFF"})]})}),t.jsx("button",{style:{minWidth:"calc(100% - 4px)",maxWidth:"calc(100% - 4px)",fontSize:j},type:"submit",className:`${m["color-format-submit"]} small gray`,children:Y[C]})]}),(h==null?void 0:h.value)==="rgb"&&t.jsxs("form",{className:`${m.inputs} ${m["rgb-inputs"]}`,onSubmit:G,children:[t.jsxs("label",{children:[t.jsx("span",{children:"R: "}),t.jsx("input",{name:`r-input-${r.id}`,type:"number",value:u,onChange:s=>H("r",Number(s.target.value)),min:0,max:255,className:m["color-input"],style:{maxWidth:`${w}`,fontSize:j}})]}),t.jsxs("label",{children:[t.jsx("span",{children:"G: "}),t.jsx("input",{name:`g-input-${r.id}`,type:"number",value:o,onChange:s=>H("g",Number(s.target.value)),min:0,max:255,className:m["color-input"],style:{maxWidth:`${w}`,fontSize:j}})]}),t.jsxs("label",{children:[t.jsx("span",{children:"B: "}),t.jsx("input",{name:`b-input-${r.id}`,type:"number",value:x,onChange:s=>H("b",Number(s.target.value)),min:0,max:255,className:m["color-input"],style:{maxWidth:`${w}`,fontSize:j}})]})]}),(h==null?void 0:h.value)==="hsl"&&t.jsxs("form",{className:`${m.inputs} ${m["hsl-inputs"]}`,onSubmit:G,children:[t.jsxs("label",{children:[t.jsx("span",{children:"H: "}),t.jsx("input",{name:`h-input-${r.id}`,type:"number",value:d,onChange:s=>A("h",Number(s.target.value)),min:0,max:360,className:m["color-input"],style:{maxWidth:`${w}`,fontSize:j}})," "]}),t.jsxs("label",{children:[t.jsx("span",{children:"S: "}),t.jsx("input",{name:`s-input-${r.id}`,type:"number",value:$,onChange:s=>A("s",Number(s.target.value)),min:0,max:100,className:m["color-input"],style:{maxWidth:`${w}`,fontSize:j}})]}),t.jsxs("label",{children:[t.jsx("span",{children:"L: "}),t.jsx("input",{name:`l-input-${r.id}`,type:"number",value:g,onChange:s=>A("l",Number(s.target.value)),min:0,max:100,className:m["color-input"],style:{maxWidth:`${w}`,fontSize:j}})]})]})]})};export{$s as default};
