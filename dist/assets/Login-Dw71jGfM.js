import{r as n,j as s}from"./react-A9DAvxly.js";import{A as v}from"./Accordion-DsZcHxu2.js";import{u as N,cs as C,ar as S,cD as y,au as m,bd as A,cE as D,cF as $,n as i,cG as F,aq as p}from"./AccessibleColors-CRBQVtI_.js";import{a as k,l as q,c as U}from"./Blob-DEVQxHac.js";import{a as _}from"./react-redux-CHm9GgGE.js";import{L as B}from"./react-router-dom-B5GO_nIJ.js";import"./hoist-non-react-statics-D5aJipOz.js";import"./react-is-DUDD-a5e.js";const H=({language:e,setIsFormOpen:l,isOpen:w,text:c})=>{const t=N(),[u,h]=n.useState(""),[f,x]=n.useState(""),[j,d]=n.useState(!1),g=n.useRef(null),a=_(r=>{var o;return(o=r.auth)==null?void 0:o.user});n.useEffect(()=>{t(k())},[]);const R=()=>{t(q()).then(()=>{t(i(`${F[e]}`,!1,4))}).catch(r=>{console.error(r),t(i(`${p[e]}: ${r.message}`,!0,8))})},b=async r=>{r.preventDefault(),t(i(`${$[e]}`,!1,3)),d(!0),await t(U(u,f,e)).then(()=>{d(!1),h(""),x(""),l&&l(!1)}).catch(o=>{var E,L;d(!1),console.error(o),(L=(E=o.response)==null?void 0:E.data)!=null&&L.message?t(i(o.response.data.message,!0,8)):o.code==="ERR_BAD_REQUEST"?t(i(`${p[e]}: ${o.response.data.message}`,!0,8)):o.code==="ERR_NETWORK"&&t(i(`${p[e]}: ${o.message}`,!0,8))})};return s.jsx(s.Fragment,{children:a?s.jsxs("div",{className:"logout-wrap",children:[s.jsxs("span",{children:[C[e]," ",a!=null&&a.name?a==null?void 0:a.name:a.username," "]}),s.jsx(B,{to:"/edit",children:S[e]}),s.jsxs("button",{onClick:R,id:`logout-${c}`,className:`logout danger ${c}`,children:[y[e]," Ã—"]})]}):s.jsx(s.Fragment,{children:s.jsx(v,{language:e,className:"login",wrapperClass:"login-wrap",text:m[e],ref:g,setIsFormOpen:l,isOpen:w,hideBrackets:!0,children:s.jsxs(s.Fragment,{children:[s.jsx("h2",{children:m[e]}),s.jsxs("form",{onSubmit:b,className:"login",children:[s.jsx("div",{className:"input-wrap",children:s.jsxs("label",{children:[s.jsx("input",{name:"username",type:"text",value:u,required:!0,autoComplete:"email",onChange:({target:r})=>h(r.value.trim())}),s.jsxs("span",{children:[A[e],": "]})]})}),s.jsx("div",{className:"input-wrap",children:s.jsxs("label",{children:[s.jsx("input",{name:"password",type:"password",required:!0,value:f,autoComplete:"on",onChange:({target:r})=>x(r.value.trim())}),s.jsxs("span",{children:[D[e],": "]})]})}),s.jsx("button",{type:"submit",disabled:j,id:`login-${c}`,className:`login ${c} restore`,children:j?$[e]:m[e]})]})]})})})})};export{H as F};
