const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginRegisterCombo-BoX1n56q.js","assets/react-A9DAvxly.js","assets/hoist-non-react-statics-D5aJipOz.js","assets/index-DdJzb_U7.js","assets/react-dom-CxfJ6lHP.js","assets/scheduler-CzFDRTuY.js","assets/react-redux-C4cSaZU-.js","assets/react-is-DUDD-a5e.js","assets/use-sync-external-store-DEc9BFqZ.js","assets/@reduxjs-DhFEcpJw.js","assets/immer-C0GRqQ_d.js","assets/redux-CE3tqztX.js","assets/@babel-DF5_wy6Y.js","assets/redux-thunk-CY0Q9z1Q.js","assets/axios-CCb-kr4I.js","assets/react-icons-yVutJqMS.js","assets/react-router-dom-j9Ns2JNj.js","assets/react-router-BoqxkIr7.js","assets/@remix-run-DTnHqtaE.js","assets/index-CfEGHDOJ.css","assets/quiz.module-DTU83NUw.js","assets/quiz-BRuK_W9Z.css"])))=>i.map(i=>d[i]);
import{_ as b,u as w,i as F,g as O,J as x,K as v,c as y,L as P,M as T,N as A,O as M,P as Q,Q as R,C as $,R as D,S as B,G as C,p as H,o as J,n as U,T as N,U as G,V as I,W as V,X as Y,Y as K,q as X}from"./index-DdJzb_U7.js";import{r as n,j as s}from"./react-A9DAvxly.js";import{a as j}from"./react-redux-C4cSaZU-.js";import{s as E}from"./quiz.module-DTU83NUw.js";import{a as Z}from"./react-router-BoqxkIr7.js";import"./react-dom-CxfJ6lHP.js";import"./hoist-non-react-statics-D5aJipOz.js";import"./scheduler-CzFDRTuY.js";import"./@reduxjs-DhFEcpJw.js";import"./immer-C0GRqQ_d.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./axios-CCb-kr4I.js";import"./react-icons-yVutJqMS.js";import"./react-router-dom-j9Ns2JNj.js";import"./@remix-run-DTnHqtaE.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-DEc9BFqZ.js";const W=n.lazy(()=>b(()=>import("./LoginRegisterCombo-BoX1n56q.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]))),qs=({language:e})=>{const{points:a,highscores:f,finalSeconds:i}=j(t=>t.questions),{mode:o}=j(t=>t.difficulty),h=+(a*100/300).toFixed(1),p=Z(),[g,S]=n.useState(!1),[ss,q]=n.useState(!1);n.useState(""),n.useState(""),n.useState(""),n.useState("");const z=i%60,k=Math.floor(i/60),d=w(),r=j(t=>{var c;return(c=t.auth)==null?void 0:c.user});n.useEffect(()=>{d(F())},[]),n.useEffect(()=>{i===0&&p("/portfolio/quiz")},[]);const _=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";n.useEffect(()=>{(!r&&a!==0&&i!==0||i===void 0)&&localStorage.setItem(`${_?"local-":""}quiz-highscores`,JSON.stringify(f)),(r!=null&&r._id&&a!==0&&i!==0||r!=null&&r._id&&i!==void 0)&&d(O(r._id)).then(t=>{if(t===null){const c={highscores:{...f,[o]:{score:a,time:i}},user:r._id};d(x(v[e],!1,3)),d(y(c)).then(m=>{d(P(r._id)).then(u=>{})})}else if(t!==null&&t.highscores[o].score<=a){const c={highscores:{...t.highscores,[o]:{score:a,time:t.highscores[o].time}},user:r._id};t.highscores[o].score<a?(d(x(v[e],!1,3)),c.highscores[o].time=i):t.highscores[o].score===a&&t.highscores[o].time>i&&(d(x(T[e],!1,3)),c.highscores[o].time=i),d(y(c)).then(m=>{})}})},[]);let l;switch(!0){case h===100:l=R[e];break;case(h>=80&&h<100):l=Q[e];break;case(h>=50&&h<80):l=M[e];break;case(h>=0&&h<50):l=A[e];break;default:l=""}n.useEffect(()=>{const t=document.querySelector(".login-wrap .open"),c=document.querySelector(".login-wrap .close"),m=document.querySelector(".register-wrap .open"),u=document.querySelector(".register-wrap .close");t==null||t.addEventListener("click",()=>{S(!0)}),c==null||c.addEventListener("click",()=>{S(!1)}),m==null||m.addEventListener("click",()=>{q(!0)}),u==null||u.addEventListener("click",()=>{q(!1)})},[]);const L=()=>{p("/portfolio/quiz")};return s.jsx(s.Fragment,{children:i!==0&&s.jsx(s.Fragment,{children:s.jsx("section",{className:`card ${E.top}`,children:s.jsxs("div",{children:[s.jsxs("div",{className:`${E.quiz}`,children:[s.jsx("h1",{className:E.h1,children:s.jsxs("a",{href:"#",onClick:L,children:["« ",$[e]]})}),s.jsx("h2",{children:l}),s.jsxs("p",{className:"result",children:[D[e]," ",s.jsx("strong",{children:a})," ",B[e]," (",h,"%)"]}),s.jsxs("p",{children:[C[e],":"," ",(()=>{switch(o){case"easy":return U[e];case"medium":return J[e];case"hard":return H[e];default:return o}})()]}),s.jsx("p",{children:i===0?s.jsxs(s.Fragment,{children:[N[e],": ",G[e]]}):s.jsxs(s.Fragment,{children:[N[e],": ",k<10&&"0",k,":",z<10&&"0",z]})}),s.jsxs("p",{className:"highscore",children:["(",I[e],": ",f[o].score," ",V[e],")"]}),s.jsxs("div",{className:`${E.reset}`,children:[s.jsx("button",{className:"btn",onClick:()=>p("/portfolio/quiz"),children:Y[e]}),s.jsx("button",{className:"btn",onClick:()=>p(`/portfolio/quiz/difficulty/${o}`),children:K[e]})]})]}),s.jsx(n.Suspense,{fallback:s.jsxs("div",{className:"flex center margin0auto textcenter",children:[X[e],"..."]}),children:s.jsx(W,{language:e,user:r,highscoresLocal:f,text:"quizfinish"})})]})})})})};export{qs as default};
