import{r as c,j as s}from"./react-BnFLqAjc.js";import{K as y,c3 as C,c4 as U,c5 as N,c6 as S,b3 as _,W as a,c7 as D,c8 as R,c9 as q,b2 as A,ca as F,cb as T}from"./index-Dfsmemzz.js";import{s as $}from"./edit.module-Tb44_we2.js";const K=({user:n,language:e})=>{const t=y(),[p,m]=c.useState(""),[o,l]=c.useState(""),[u,h]=c.useState(""),b=async d=>{var w,f;d.preventDefault();try{if(o.trim()!==u.trim()){t(a(D[e],!0,5));return}else if(o.length<10){t(a(R[e],!0,5));return}const v={_id:n._id,passwordOld:p,password:o,language:e};n&&t(q(v)).then(r=>{r&&(r.success===!1?t(a(`${r.message||A[e]}`,!0,5)):(t(a(`${r.message||F[e]}`,!1,5)),m(""),l(""),h("")))}).catch(r=>{var x,j,E,P;console.error(r),(j=(x=r.response)==null?void 0:x.data)!=null&&j.message?t(a(r.response.data.message,!0,8)):r.code==="ERR_BAD_REQUEST"&&((P=(E=r.response)==null?void 0:E.data)!=null&&P.message)?t(a(`${r.response.data.message}`,!0,5)):setTimeout(()=>{t(a(T[e],!0,5))},2e3)})}catch(i){(f=(w=i.response)==null?void 0:w.data)!=null&&f.message?t(a(i.response.data.message,!0,8)):console.error("error",i)}};return s.jsx(s.Fragment,{children:n?s.jsxs(s.Fragment,{children:[s.jsx("h2",{children:C[e]}),s.jsxs("form",{onSubmit:b,className:$["edit-user"],children:[s.jsx("div",{className:"input-wrap",children:s.jsxs("label",{children:[s.jsx("input",{required:!0,type:"password",name:"old-password",id:"old-password",value:p,onChange:({target:d})=>m(d.value.trim())}),s.jsx("span",{children:U[e]})]})}),s.jsx("div",{className:"input-wrap",children:s.jsxs("label",{children:[s.jsx("input",{required:!0,type:"password",name:"password",id:"password-edit",value:o,onChange:({target:d})=>l(d.value.trim())}),s.jsx("span",{children:N[e]})]})}),s.jsx("div",{className:"input-wrap",children:s.jsxs("label",{children:[s.jsx("input",{required:!0,type:"password",name:"confirmPassword",id:"confirmPassword",value:u,onChange:({target:d})=>h(d.value.trim())}),s.jsx("span",{children:S[e]})]})}),s.jsx("button",{type:"submit",children:_[e]})]})]}):s.jsx(s.Fragment,{})})};export{K as default};
