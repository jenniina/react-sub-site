import{r as i,j as s}from"./react-A9DAvxly.js";import{s as o}from"./quiz.module-DTU83NUw.js";import{aZ as N,c6 as q,hZ as z,h_ as w,H as k,hP as T,h$ as g,i0 as C}from"./index-nWW9Io9b.js";import{a as f}from"./react-redux-CHm9GgGE.js";import{a2 as a}from"./react-icons-CMyplLKx.js";import{a as Q,b,E as A,c as F,d as H,e as R,f as U,g as _,h as D}from"./quiz-BfGJjqZ6.js";import{L as I}from"./LoginRegisterCombo-D-wP6vo_.js";import{c as O}from"./react-router-344DmMNz.js";import"./hoist-non-react-statics-D5aJipOz.js";import"./react-dom-yh0erWL-.js";import"./scheduler-CzFDRTuY.js";import"./@reduxjs-DTZ4pglK.js";import"./immer-BNrqi0cU.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./axios-BimPEqV4.js";import"./react-router-dom-BQMcumiI.js";import"./@remix-run-DTnHqtaE.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-DEc9BFqZ.js";const us=({heading:x,text:j,type:M,language:t})=>{const E=O(),[Z,m]=i.useState(!1),[G,u]=i.useState(!1);i.useState(""),i.useState(""),i.useState(""),i.useState("");const{points:S,highscores:v,finalSeconds:y}=f(e=>e.questions),[$,L]=i.useState(v),n=N(),c=f(e=>{var r;return(r=e.auth)==null?void 0:r.user});i.useEffect(()=>{n(q())},[]);const p=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";i.useEffect(()=>{c!=null&&c._id&&S!==0&&y!==0&&n(z(c._id)).then(e=>{if(e!==null)L(e.highscores);else if(e===null&&localStorage.getItem(`${p?"local-":""}quiz-highscores`)){const r=JSON.parse(localStorage.getItem(`${p?"local-":""}quiz-highscores`));n(w({highscores:r,user:c._id}))}})},[c]);const l=e=>{n(C(e.target.value)),E(`/portfolio/quiz/${e.target.value}`)};return i.useEffect(()=>{const e=document.querySelector(".login-wrap .open"),r=document.querySelector(".login-wrap .close"),h=document.querySelector(".register-wrap .open"),d=document.querySelector(".register-wrap .close");e==null||e.addEventListener("click",()=>{m(!0)}),r==null||r.addEventListener("click",()=>{m(!1)}),h==null||h.addEventListener("click",()=>{u(!0)}),d==null||d.addEventListener("click",()=>{u(!1)})},[]),s.jsxs(s.Fragment,{children:[s.jsx(k,{language:t,address:"portfolio",heading:x,text:j,reset:"Reset",instructions:T[t]}),s.jsx("section",{className:"card",children:s.jsxs("div",{children:[s.jsxs("div",{className:`medium ${o.features}`,children:[s.jsx("h2",{children:"Features"}),s.jsxs("ul",{className:"ul",children:[s.jsxs("li",{children:[Q[t]," ",s.jsx("a",{href:"https://the-trivia-api.com",children:'"the Trivia Api"'})]}),s.jsxs("li",{children:[g[t]," ",b[t]]}),s.jsx("li",{children:A[t]}),s.jsx("li",{children:F[t]})]})]}),s.jsxs("div",{className:`start-screen ${o.quiz}`,children:[s.jsx("h2",{children:H[t]}),s.jsxs("p",{children:[R[t],":"]}),s.jsxs("div",{className:`${o.difficulty}`,children:[s.jsxs("button",{className:`${o.mode} ${o.easy}`,value:"easy",onClick:e=>l(e),children:[U[t]," ",s.jsx(a,{})]}),s.jsxs("button",{className:`${o.mode} ${o.medium}`,value:"medium",onClick:e=>l(e),children:[_[t]," ",s.jsx(a,{}),s.jsx(a,{})]}),s.jsxs("button",{className:`${o.mode} ${o.hard}`,value:"hard",onClick:e=>l(e),children:[D[t]," ",s.jsx(a,{}),s.jsx(a,{}),s.jsx(a,{})]})]})]}),s.jsx(I,{language:t,user:c,highscoresLocal:$,text:"quizstart"})]})})]})};export{us as default};
