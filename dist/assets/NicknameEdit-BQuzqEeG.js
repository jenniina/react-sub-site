import{K as w,r as N,j as s,cG as y,cH as $,cI as k,cJ as _,co as C,bk as S,cD as D,X as n,bj as U,cu as F,cE as P,cF as R,bB as B,cv as T}from"./index-DycL1ZW7.js";import{s as c}from"./edit.module-Tb44_we2.js";const G=({user:e,language:t})=>{const i=w(),[o,u]=N.useState((e==null?void 0:e.name)||""),[m,p]=N.useState(""),b=async d=>{var l,h;d.preventDefault();try{const v={_id:e._id,name:o,passwordOld:m,language:t};e&&i(D(v)).then(a=>{a&&(a.success===!1?i(n(`${U[t]}: ${a.message}`,!0,5)):(i(n(`${a.message??F[t]}`,!1,5)),i(P(a.user)).then(()=>{i(R(e==null?void 0:e._id)).then(()=>i(B()))}),p("")))}).catch(a=>{var x,j,E,f;console.error(a),(j=(x=a.response)==null?void 0:x.data)!=null&&j.message?i(n(a.response.data.message,!0,8)):a.code==="ERR_BAD_REQUEST"&&((f=(E=a.response)==null?void 0:E.data)!=null&&f.message)?i(n(`${U[t]}: ${a.response.data.message}`,!0,5)):setTimeout(()=>{i(n(T[t],!0,5))},2e3)})}catch(r){(h=(l=r.response)==null?void 0:l.data)!=null&&h.message?i(n(r.response.data.message,!0,8)):console.error("error",r)}};return s.jsx(s.Fragment,{children:e?s.jsxs(s.Fragment,{children:[s.jsx("h2",{children:y[t]}),s.jsxs("p",{className:c.p,children:[$[t],": ",s.jsx("strong",{children:e==null?void 0:e.name})]}),s.jsx("p",{className:`${c.p} ${c["p-last"]}`,children:k[t]}),s.jsxs("form",{onSubmit:b,className:c["edit-user"],children:[s.jsx("div",{className:"input-wrap",children:s.jsxs("label",{children:[s.jsx("input",{required:!0,type:"text",name:"name",id:"name-edit",value:o,onChange:({target:d})=>u(d.value)}),s.jsx("span",{children:_[t]})]})}),s.jsx("div",{className:"input-wrap",children:s.jsxs("label",{children:[s.jsx("input",{required:!0,type:"password",name:"old-password",id:"old-password-user",value:m,onChange:({target:d})=>p(d.value.trim())}),s.jsx("span",{children:C[t]})]})}),s.jsx("button",{type:"submit",children:S[t]})]})]}):s.jsx(s.Fragment,{})})};export{G as default};
