import{j as e,r as f}from"./react-A9DAvxly.js";import{a5 as Ne,a6 as ke,a7 as le,a8 as Z,a9 as We,aa as Ye,ab as qe,ac as Je,ad as Ve,ae as Qe,af as Xe,ag as Ze,ah as es,ai as ss,aj as as,ak as ts,al as rs,am as cs,an as ns,ao as is,ap as os,aq as ls,ar as ds,as as hs,at as ms,au as ps,av as js,aw as us,ax as fs,ay as xs,az as gs,aA as vs,aB as _s,aC as ys,aD as $s,aE as Ss,aF as bs,aG as Fs,aH as ws,aI as Es,aJ as Ns,aK as ks,aL as Cs,aM as Hs,aN as Ps,aO as Is,aP as Ts,aQ as As,aR as Ds,aS as Os,aT as Bs,aU as Ms,aV as Ls,z as zs,aW as Gs,aX as Ks}from"./react-icons-CFiePanq.js";import{fw as C,ae as Ce,fx as Rs,fy as ee,fz as Y,fA as Us,fB as ie,K as Ws,fC as Ys,c$ as qs,fD as xe,fE as ge,fF as ve,u as oe,fG as Js,fH as Vs,fI as Qs,fJ as Xs,fK as R,fL as Zs,fM as q,fN as _e,fO as ye,fP as $e,W as J,fQ as ea,eW as sa,fR as aa,fS as ta,fT as ra,fU as ca,fV as na,fW as ia,fX as oa,fY as la,cz as da,fZ as ha,dB as Se,f_ as ma,f$ as pa,g0 as ja,b9 as ua,be as fa,bf as xa,g1 as ga,g2 as be,g3 as va,g4 as _a,cF as ya,bk as $a}from"./index-DE4Ix6OC.js";import{a as z}from"./axios-CCb-kr4I.js";import{a as Sa}from"./react-redux-CHm9GgGE.js";import"./hoist-non-react-statics-D5aJipOz.js";import"./react-dom-yh0erWL-.js";import"./scheduler-CzFDRTuY.js";import"./@reduxjs-DhFEcpJw.js";import"./immer-C0GRqQ_d.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./react-router-dom-CYs6befe.js";import"./react-router-S1Hdk0kP.js";import"./@remix-run-DTnHqtaE.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-DEc9BFqZ.js";const ba="_sectioncard_cgrcv_21",Fa="_game_cgrcv_39",wa="_container_cgrcv_55",Ea="_modal_cgrcv_57",Na="_settings_cgrcv_71",ka="_size8_cgrcv_139",Ca="_size10_cgrcv_141",Ha="_light_cgrcv_193",Pa="_grid_cgrcv_131",Ia="_card_cgrcv_239",Ta="_flipped_cgrcv_299",Aa="_front_cgrcv_299",Da="_flip_cgrcv_299",Oa="_back_cgrcv_311",Ba="_header_cgrcv_507",Ma="_time_cgrcv_859",La="_select_cgrcv_963",za="_active_cgrcv_1063",Ga="_finish_cgrcv_1153",Ka="_close_cgrcv_1189",Ra="_big_cgrcv_1203",n={"game-container":"_game-container_cgrcv_1",sectioncard:ba,game:Fa,container:wa,modal:Ea,settings:Na,"player-names-wrap":"_player-names-wrap_cgrcv_97","grid-wrap":"_grid-wrap_cgrcv_131",size8:ka,size10:Ca,light:Ha,grid:Pa,card:Ia,flipped:Ta,front:Aa,flip:Da,back:Oa,"flip-back":"_flip-back_cgrcv_1","flipped-over":"_flipped-over_cgrcv_323",header:Ba,"game-over":"_game-over_cgrcv_523","high-scores":"_high-scores_cgrcv_535","new-score":"_new-score_cgrcv_647","title-svg":"_title-svg_cgrcv_781","title-icon":"_title-icon_cgrcv_789","time-wrap":"_time-wrap_cgrcv_859",time:Ma,"delete-btn":"_delete-btn_cgrcv_901","delete-name-form":"_delete-name-form_cgrcv_909",select:La,"player-names":"_player-names_cgrcv_97","set-card-type":"_set-card-type_cgrcv_987","set-grid":"_set-grid_cgrcv_1029",active:za,"set-players":"_set-players_cgrcv_1065","set-handedness":"_set-handedness_cgrcv_1075",finish:Ga,"edit-wrap":"_edit-wrap_cgrcv_1159",close:Ka,big:Ra},Ua=({option:s,isActive:l,onClick:i})=>{const F=H=>{switch(H){case C.icons:return e.jsx(le,{});case C.numbers:return e.jsx(ke,{});case C.letters:return e.jsx(Ne,{});default:return null}};return e.jsxs("button",{className:`tooltip-wrap ${l?`${n.active} grayer`:""}`,onClick:i,disabled:l,children:[F(s.value),e.jsx("span",{className:"tooltip above narrow2 space",children:s.label})]})},Wa=({option:s,isActive:l,onClick:i})=>e.jsxs("button",{className:`tooltip-wrap ${l?`${n.active} grayer`:""}`,onClick:i,disabled:l,children:[e.jsx("span",{children:s.icon}),e.jsx("span",{className:"tooltip above narrow2 space",children:s.label})]}),Ya=({value:s,isActive:l,onClick:i})=>e.jsx("button",{className:`${n["player-button"]} ${l?n.active:""}`,disabled:l,onClick:i,children:s}),qa=({setGameStarted:s,language:l,gridSize:i,cards:F,flippedCards:H,flippedOverCards:w,matchedCards:g,cardType:K,handleCardClick:T,renderCardContent:$})=>{const{windowHeight:D,windowWidth:O}=Ce(),N=`size${i}`;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${n["grid-wrap"]} ${n[N]}`,children:e.jsx("div",{className:n.grid,style:{gridTemplateColumns:`repeat(${i}, 1fr)`,gridTemplateRows:`repeat(${i}, 1fr)`,"--size":`${D>O?94:85}`,"--amount":`${i}`,"--multiplier":`${D>O?"1vw":"1vh"}`},children:F.map((B,j)=>{const t={"--fontSize":K.value===C.icons?D>O?`${50/i}vw`:`${50/i}vh`:D>O?`${40/i}vw`:`${40/i}vh`};return e.jsxs("div",{style:t,className:`${n.card} ${H.includes(j)||g.includes(j)?n.flipped:""} ${w.includes(j)?n["flipped-over"]:""}`,onClick:()=>T(j),children:[e.jsx("div",{className:n.front,children:$(B)}),e.jsx("div",{className:n.back})]},B.id)})})}),e.jsx("button",{className:n.finish,type:"button",onClick:()=>{s(!1)},children:Rs[l]})]})},Ja=f.memo(qa),Va=(s,l)=>{const[i,F]=f.useState(0),H=f.useCallback(()=>{F(0)},[]);return f.useEffect(()=>{let w;if(s){F(0);const g=100,K=.1;w=setInterval(()=>{F(T=>{const $=T+K;return parseFloat($.toFixed(1))})},g)}return()=>{w&&clearInterval(w)}},[s,l]),{timer:i,resetTimer:H}},Qa="http://localhost:4000",G=`${Qa}/api/highscores`,Xa=async(s,l)=>(await z.post(`${G}/${s}/key/${l.levelKey}`,l,{headers:{"x-api-key":"KEY_hskn8sd9ngf6sdg83j25j74598gjksgd98325kg98325kfklgds"}})).data,Za=async(s,l)=>(await z.get(`${G}/${s}/key/${l}`)).data,et=async s=>(await z.get(`${G}/${s}`)).data,st=async(s,l)=>(await z.delete(`${G}/${s}/id/${l}`,{headers:{"x-api-key":"KEY_hskn8sd9ngf6sdg83j25j74598gjksgd98325kg98325kfklgds"}})).data,at=async(s,l,i)=>(await z.put(`${G}/${s}/id/${l._id}?userID=${i}`,l,{headers:{"x-api-key":"KEY_hskn8sd9ngf6sdg83j25j74598gjksgd98325kg98325kfklgds"}})).data,tt=async(s,l,i)=>(await z.delete(`${G}/${s}/player/${l}?userID=${i}`,{headers:{"x-api-key":"KEY_hskn8sd9ngf6sdg83j25j74598gjksgd98325kg98325kfklgds"}})).data,rt=async(s,l)=>(await z.post(`${G}/${s}/cleanup/${l}`)).data,ct=async(s,l,i,F)=>(await z.put(`${G}/${s}/player?userID=${F}`,{oldName:l,newName:i},{headers:{"x-api-key":"KEY_hskn8sd9ngf6sdg83j25j74598gjksgd98325kg98325kfklgds"}})).data,U={addHighScore:Xa,getHighScoresByLevel:Za,getAllHighScores:et,deleteHighScore:st,updateHighScore:at,deleteHighScoresByPlayerName:tt,changePlayerName:ct,cleanUpHighScores:rt},Fe=localStorage.getItem("AppLanguage"),y=Fe?Fe.replace(/"/g,""):"en",nt=()=>{const[s,l]=f.useState({}),[i,F]=f.useState(!0),[H,w]=f.useState(null);f.useEffect(()=>{(async()=>{try{const d=await U.getAllHighScores(y),t={};d.forEach(r=>{const[c,..._]=r.levelKey.split("_"),h=_.join("_");t[c]||(t[c]={}),t[c][h]||(t[c][h]=[]),t[c][h].push(r)}),Object.keys(t).forEach(r=>{Object.keys(t[r]).forEach(c=>{t[r][c]=t[r][c].sort((_,h)=>_.time-h.time).slice(0,5)})}),l(t)}catch(d){console.error(ee[y],d),w(ee[y])}finally{F(!1)}})()},[y]);const g=async j=>{try{const d=await U.addHighScore(y,j);if(d.highScore){const[t,...r]=d.highScore.levelKey.split("_"),c=r.join("_");return l(_=>{const h={..._};h[t]||(h[t]={}),h[t][c]||(h[t][c]=[]);const v=h[t][c]||[],P=v.findIndex(k=>{var A;return k._id===((A=d.highScore)==null?void 0:A._id)});let b;return P!==-1?(b=[...v],d.highScore&&(b[P]=d.highScore)):d.highScore?b=[...v,d.highScore]:b=[...v],b=b.sort((k,A)=>k.time-A.time).slice(0,5),h[t][c]=b,h}),await N(),d.highScore}else return}catch{w("Failed to add high score.");return}},K=async j=>{try{const d=await U.getHighScoresByLevel(y,j);return d.sort((t,r)=>t.time-r.time),d.slice(0,5)}catch(d){return console.error(ee[y],d),w(ee[y]),[]}},T=async j=>{try{const d=await U.deleteHighScore(y,j);d.success?l(t=>{const r={};return Object.keys(t).forEach(c=>{r[c]={...t[c]},Object.keys(r[c]).forEach(_=>{r[c][_]=r[c][_].filter(h=>h._id!==j)})}),r}):console.error(Y[y],d.message)}catch(d){console.error(Y[y],d),w(Y[y])}},$=async(j,d)=>{try{const t=await U.updateHighScore(y,j,d);if(t.success&&t.highScore){const r=t.highScore,[c,..._]=r.levelKey.split("_"),h=_.join("_");l(v=>{v[c]||(v[c]={}),v[c][h]||(v[c][h]=[]);const P=v[c][h]||[],b=P.findIndex(k=>k._id===r._id);if(b!==-1){const k=[...P];k[b]=r;const A=k.sort((se,V)=>se.time-V.time).slice(0,5);return{...v,[c]:{...v[c],[h]:A}}}return v}),console.log(Us[y])}else console.error(ie[y],t.message)}catch(t){console.error(ie[y],t),w(ie[y])}},D=async(j,d)=>{try{const t=await U.deleteHighScoresByPlayerName(y,j,d);t.success?l(r=>{const c={};return Object.keys(r).forEach(_=>{c[_]={},Object.keys(r[_]).forEach(h=>{c[_][h]=r[_][h].filter(v=>!v.players.some(P=>P.name===j))})}),c}):console.error(Y[y],t.message)}catch(t){console.error(Y[y],t),w(Y[y])}},O=j=>{const t=[...j.players].sort((r,c)=>r.name.localeCompare(c.name)).map(r=>`${r.name}:${r.score}`).join("-");return`${j.levelKey}_${j.time}-${t}`},N=async()=>{const j=Object.values(s).flatMap(t=>Object.values(t)).flat(),d={};j.forEach(t=>{const r=O(t);d[r]||(d[r]=[]),d[r].push(t)});for(const t in d){const r=d[t];if(r.length>1){r.sort((h,v)=>new Date(v.createdAt??0).getTime()-new Date(h.createdAt??0).getTime());const[c,..._]=r;for(const h of _)h._id&&await T(h._id)}}};return{highScores:s,addHighScore:g,getHighScoresByLevel:K,deleteHighScore:T,updateHighScore:$,deleteHighScoresByPlayerName:D,changePlayerName:async(j,d,t)=>{try{await U.changePlayerName(y,j,d,t),l(r=>{const c={};return Object.keys(r).forEach(_=>{c[_]={},Object.keys(r[_]).forEach(h=>{c[_][h]=r[_][h].map(v=>{const P=v.players.map(b=>b.name===j?{...b,name:d}:b);return{...v,players:P}})})}),c})}catch(r){console.error("Failed to change player name.",r)}},loading:i,error:H}},we=f.memo(({timer:s})=>e.jsxs("span",{children:[s.toFixed(1),"s"]})),Ee=[e.jsx(qe,{}),e.jsx(Je,{}),e.jsx(Ve,{}),e.jsx(Qe,{}),e.jsx(Xe,{}),e.jsx(Ze,{}),e.jsx(es,{}),e.jsx(ss,{}),e.jsx(as,{}),e.jsx(ts,{}),e.jsx(rs,{}),e.jsx(cs,{}),e.jsx(ns,{}),e.jsx(is,{}),e.jsx(os,{}),e.jsx(ls,{}),e.jsx(ds,{}),e.jsx(hs,{}),e.jsx(ms,{}),e.jsx(ps,{}),e.jsx(js,{}),e.jsx(us,{}),e.jsx(fs,{}),e.jsx(xs,{}),e.jsx(gs,{}),e.jsx(le,{}),e.jsx(vs,{}),e.jsx(_s,{}),e.jsx(ys,{}),e.jsx($s,{}),e.jsx(Ss,{}),e.jsx(bs,{}),e.jsx(Fs,{}),e.jsx(ws,{}),e.jsx(Es,{}),e.jsx(Ns,{}),e.jsx(ks,{}),e.jsx(Cs,{}),e.jsx(Hs,{}),e.jsx(Ps,{}),e.jsx(Is,{}),e.jsx(Ts,{}),e.jsx(As,{}),e.jsx(Ds,{}),e.jsx(Os,{}),e.jsx(Bs,{}),e.jsx(Ms,{}),e.jsx(Ls,{}),e.jsx(zs,{}),e.jsx(Gs,{}),e.jsx(Ks,{})],it=["solo","duet"],Et=({language:s})=>{const l=Ws(),i=Sa(a=>{var o;return(o=a.auth)==null?void 0:o.user}),{show:F}=Ys(),H=qs();f.useEffect(()=>{},[]);const w=[{value:C.icons,label:xe[s]},{value:C.numbers,label:ge[s]},{value:C.letters,label:ve[s]}],[g,K]=oe("memoryCardType",w[0]),T=[{value:4,icon:"4 × 4",label:`${Js[s]}`},{value:6,icon:"6 × 6",label:`${Vs[s]}`},{value:8,icon:"8 × 8",label:`${Qs[s]}`},{value:10,icon:"10 × 10",label:`${Xs[s]}`}],[$,D]=oe("memoryGrid",T[1]),O=[1,2],[N,B]=oe("memoryPlayers",[{id:1,name:`${R[s]} 1`,score:0}]),[j,d]=f.useState(""),[t,r]=f.useState(0),[c,_]=f.useState([]),[h,v]=f.useState([]),[P,b]=f.useState([]),[k,A]=f.useState([]),[se,V]=f.useState(!1),[M,ae]=f.useState(!1),[He,de]=f.useState(!1),{timer:te,resetTimer:Pe}=Va(He,"1ms"),{highScores:Q,addHighScore:Ie,deleteHighScore:Te,updateHighScore:ot,deleteHighScoresByPlayerName:Ae,changePlayerName:De,loading:Oe,error:X}=nt(),[Be,he]=f.useState(!1),[re,Me]=f.useState(!1),[me,Le]=f.useState(null),{windowWidth:W}=Ce(),pe=()=>{let a=[];const o=$?Number($.value)*Number($.value)/2:0;if((g==null?void 0:g.value)===C.letters){const p=Array.from({length:o},(x,u)=>{const E=65+u%26;return Math.floor(u/26)%2===0?String.fromCharCode(E):String.fromCharCode(E+32)});a=[...p,...p]}else if((g==null?void 0:g.value)===C.numbers){const p=Array.from({length:o},(x,u)=>u.toString());a=[...p,...p]}else if((g==null?void 0:g.value)===C.icons){const x=[...Ee].sort(()=>Math.random()-.5).slice(0,o);a=[...x,...x]}const m=a.map((p,x)=>({value:p,id:x})).sort(()=>Math.random()-.5).slice(0,$?Number($.value)*Number($.value):0);_(m),v([]),A([]),ae(!0),de(!0),Pe(),B(p=>p.map(x=>({...x,score:0}))),r(0),he(!1)},je=(a,o,m)=>`${m}_${a}x${a}_${o}`,ze=async()=>{he(!0),ae(!1);const a=N.length===1?"solo":"duet",m={levelKey:je(Number($.value),g.value,a),time:te,players:N,size:Number($.value),type:g.value},p=await Ie(m);p&&(Le(p._id||null),Me(!0)),b([])};f.useEffect(()=>{if(re){const a=N.length===1?"solo":"duet",o=je(Number($.value),g.value,a);setTimeout(()=>{const[m,...p]=o.split("_");p.join("_"),F({children:e.jsxs("div",{id:"high-scores",className:`${n.modal} ${H?n.light:""}`,children:[e.jsx("h3",{children:Zs[s]}),e.jsx("div",{className:`${n["high-scores"]}`,children:(()=>{const x=N.length===1?q.solo:q.duet;let u="";return x===q.solo?u=_e[s]:x===q.duet&&(u=ye[s]),e.jsxs(e.Fragment,{children:[e.jsx("h4",{children:u},x),X&&e.jsxs("p",{children:[X," — ",$e[s]]}),Object.keys(Q[x]||{}).sort().map(E=>{var S,L;return e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("h5",{children:ue(`${E}`)}),e.jsx("ol",{children:(L=(S=Q[x])==null?void 0:S[E])==null?void 0:L.map((I,ce)=>e.jsx("li",{className:I._id===me?n["new-score"]:"",children:e.jsxs("div",{children:[e.jsx("span",{children:I.players.map(ne=>e.jsxs("span",{children:[ne.name,": ",ne.score," "]},ne.id))}),e.jsxs("i",{className:n.time,children:[I.time.toFixed(1),"s"]})]})},I._id||`${ce}-${I.time.toFixed(1)}`))})]})},`${x}-${E}`)})]})})()})]})})},0)}else re||J(ea[s],!1,5)},[Q,re,me,Oe,X]);const Ge=a=>{if(!(se||h.includes(a)||k.includes(a))&&(v(o=>[...o,a]),h.length===1)){V(!0);const o=h[0],m=a,p=c[o],x=c[m];p.value===x.value?(A(u=>[...u,o,m]),B(u=>u.map((E,S)=>S===t?{...E,score:E.score+1}:E)),v([]),V(!1)):setTimeout(()=>{v([]),b(u=>[...u,o,m]),V(!1),r(u=>(u+1)%N.length)},800)}};f.useEffect(()=>{M&&k.length===c.length&&c.length>0&&!Be&&(de(!1),setTimeout(()=>{ze()},1e3))},[M,k,c]);const Ke=a=>(g==null?void 0:g.value)===C.icons?a.value:e.jsx("span",{children:a.value}),Re=(a,o)=>{if(/[^\p{L}0-9 ]/gu.test(o)){l(J($a[s],!0,5));return}const x=o.replace(/[^\p{L}0-9 ]/gu,"").trim();B(u=>u.map((E,S)=>S===a?{...E,name:x||`${R[s]} ${S+1}`}:E))},Ue=a=>{B(o=>Array.from({length:a},(p,x)=>{const u=o[x];return u?{...u,id:x+1}:{id:x+1,name:`${R[s]} ${x+1}`,score:0}})),r(0)};f.useEffect(()=>{const a=Ee.map(m=>m.type.displayName||m.type.name),o=a.filter((m,p)=>a.indexOf(m)!==p);o.length>0&&console.log("Duplicate Icons Found:",o)},[]);const ue=a=>{const o=a.split("_");let m="",p=e.jsx(e.Fragment,{});return o[1]===C.numbers?(p=e.jsx("span",{className:n["title-svg"],children:e.jsx(ke,{"aria-hidden":"true"})}),m=ge[s]):o[1]===C.letters?(p=e.jsx("span",{className:n["title-svg"],children:e.jsx(Ne,{"aria-hidden":"true"})}),m=ve[s]):o[1]===C.icons&&(p=e.jsx("span",{className:n["title-icon"],children:e.jsx(le,{"aria-hidden":"true"})}),m=xe[s]),e.jsxs(e.Fragment,{children:[o[0]," ",p," ",e.jsx("br",{}),m]})};f.useEffect(()=>{M&&sa("game")},[M]);const fe=15;return e.jsxs("div",{id:n["game-container"],className:`${n.container} ${H?n.light:""}`,children:[!M&&k.length===c.length&&c.length>0&&e.jsx("section",{className:`card ${n.sectioncard}`,children:e.jsx("div",{children:e.jsxs("div",{className:n["game-over"],children:[e.jsx("h2",{children:aa[s]}),e.jsxs("p",{children:[ta[s],": ",e.jsx(we,{timer:te})]}),e.jsxs("div",{children:[e.jsxs("h3",{children:[ra[s],":"]}),N.map(a=>e.jsxs("p",{children:[a.name,": ",a.score]},a.id))]}),e.jsx("button",{onClick:pe,children:ca[s]})]})})}),!M&&e.jsx("section",{className:`card ${n.sectioncard}`,children:e.jsx("div",{children:e.jsxs("div",{id:"settings",className:n.settings,children:[e.jsx("h2",{className:"scr",children:na[s]}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("h3",{children:ia[s]}),e.jsx("div",{className:n["set-card-type"],children:w.map(a=>e.jsx(Ua,{option:a,isActive:(g==null?void 0:g.value)===a.value,onClick:()=>K(a)},a.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{children:oa[s]}),e.jsx("div",{className:n["set-grid"],children:T.map(a=>e.jsx(Wa,{option:a,isActive:($==null?void 0:$.value)===a.value,onClick:()=>D(a)},a.value))})]}),e.jsxs("div",{className:n["player-names-wrap"],children:[e.jsx("h3",{children:la[s]}),e.jsx("div",{className:n["set-players"],children:e.jsx(e.Fragment,{children:O.map(a=>e.jsx(Ya,{value:a,isActive:N.length===a,onClick:()=>Ue(a)},a))})}),e.jsxs("div",{className:n["player-names"],children:[e.jsxs("small",{children:[da[s],"."," ",ha[s]]}),N.map((a,o)=>e.jsxs("div",{className:"input-wrap",children:[e.jsxs("label",{children:[e.jsx("input",{type:"text",name:`player-${o}`,value:a.name,onChange:m=>Re(o,m.target.value),maxLength:fe,placeholder:`${R[s]} ${o+1}`}),e.jsx("span",{children:`${R[s]} ${o+1} ${Se[s].toLowerCase()}:`})]}),e.jsxs("small",{children:[a.name.length,"/",fe]})]},a.id))]})]})]}),e.jsx("button",{className:n.big,onClick:pe,children:ma[s]})]})})}),!M&&e.jsx("section",{className:`card ${n.sectioncard} ${n["scores-wrap"]}`,children:e.jsx("div",{children:e.jsxs("div",{id:"high-scores",children:[e.jsxs("h2",{children:[W>400&&e.jsx(Z,{"aria-hidden":"true",style:{transform:"scale(0.8, 0.8)"}}),pa[s]," ",W>400&&e.jsx(Z,{"aria-hidden":"true",style:{transform:"scale(-0.8, 0.8)"}})]}),e.jsxs("p",{className:"textcenter margin0auto",children:[W>200&&e.jsx("span",{"aria-hidden":"true",children:"— "}),ja[s],W>200&&e.jsx("span",{"aria-hidden":"true",children:" —"})]}),e.jsx("div",{className:n["high-scores"],children:it.map(a=>{let o="";return a===q.solo?o=_e[s]:a===q.duet&&(o=ye[s]),e.jsxs(f.Fragment,{children:[e.jsxs("h3",{children:[W>200&&e.jsx(Z,{"aria-hidden":"true",style:{transform:"scale(0.8)"}}),o,W>200&&e.jsx(Z,{"aria-hidden":"true",style:{transform:"scale(-0.8)"}})]}),X&&e.jsxs("p",{children:[X," — ",$e[s]]}),Object.keys(Q[a]||{}).sort().map(m=>{var p,x;return e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("h4",{children:ue(`${m}`)}),e.jsx("ol",{children:(x=(p=Q[a])==null?void 0:p[m])==null?void 0:x.map((u,E)=>e.jsx("li",{children:e.jsxs("div",{children:[e.jsx("span",{children:u.players.map(S=>e.jsxs(f.Fragment,{children:[e.jsxs("span",{children:[S.name," ",u.players.length>1?`: ${S.score}`:""," "]}),i&&i.role&&i.role>1&&e.jsx(ua,{hideBrackets:!0,language:s,id:`edit-${u._id}`,className:"edit",wrapperClass:`${n["edit-wrap"]}`,text:e.jsx(e.Fragment,{children:e.jsx(We,{"aria-hidden":"true"})}),isOpen:!1,closeClass:n.close,setIsFormOpen:()=>{},tooltip:fa[s],y:"above",children:e.jsx("form",{onSubmit:L=>{L.preventDefault();const I=S.name,ce=L.target.name;De(I,ce,i==null?void 0:i._id)},children:e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{children:[e.jsx("input",{type:"text",name:"name",required:!0}),e.jsxs("span",{children:[xa[s]," (",S.name,"):"]})]})})})})]},S.id))}),e.jsxs("span",{className:`flex ${n["time-wrap"]}`,children:[e.jsxs("i",{className:n.time,children:[u.time.toFixed(1),"s"]}),i&&i.role&&i.role>1&&e.jsx(e.Fragment,{children:e.jsxs("button",{type:"button",className:`danger small tooltip-wrap ${n["delete-btn"]}`,onClick:()=>{u._id&&window.confirm(ga[s])&&Te(u._id).catch(S=>{var L,I;console.error(S),(I=(L=S.response)==null?void 0:L.data)!=null&&I.message?l(J(S.response.data.message,!0,8)):l(J(S.message,!0,5))})},children:[e.jsx("span",{"aria-hidden":"true",children:e.jsx(Ye,{"aria-hidden":"true"})}),e.jsx("span",{className:"tooltip above narrow2",children:be[s]})]})})]})]})},`${a}-${m}-${E}-${u.time.toFixed(1)}`))})]})},`${a}-${m}`)})]},a)})}),i&&i.role&&i.role>1&&e.jsxs("form",{className:`${n["delete-name-form"]}`,onSubmit:a=>{a.preventDefault(),window.confirm(va[s])&&Ae(j,i==null?void 0:i._id).then(()=>{d("")}).catch(o=>{var m,p;console.error(o),(p=(m=o.response)==null?void 0:m.data)!=null&&p.message?l(J(o.response.data.message,!0,8)):l(J(o.message,!0,5))})},children:[e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{children:[e.jsx("input",{type:"text",name:"name",value:j,required:!0,onChange:a=>d(a.target.value)}),e.jsxs("span",{children:[Se[s]," (",R[s],"):"]})]})}),e.jsx("button",{type:"submit",className:"danger",children:be[s]})]})]})})}),M&&e.jsx("section",{className:`card ${n.sectioncard} ${n.game}`,children:e.jsx("div",{children:e.jsxs("div",{id:"game",children:[e.jsxs("div",{className:n.header,children:[e.jsxs("div",{children:[_a[s],": ",e.jsx(we,{timer:te})]}),e.jsxs("div",{children:[R[s],": ",N[t].name," | ",ya[s],":"," ",N[t].score]})]}),e.jsx(Ja,{language:s,setGameStarted:ae,gridSize:$.value,cards:c,cardType:g,flippedCards:h,flippedOverCards:P,matchedCards:k,handleCardClick:Ge,renderCardContent:Ke})]})})})]})};export{Et as default};
