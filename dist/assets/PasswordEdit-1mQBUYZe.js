import{r as p,j as s}from"./react-A9DAvxly.js";import{H as E,bZ as P,b_ as b,b$ as v,c0 as y,a$ as C,R as a,c1 as U,c2 as _,c3 as N,a_ as S,c4 as R,c5 as $}from"./index-2oR4sV5q.js";import{s as D}from"./edit.module-Tb44_we2.js";import"./hoist-non-react-statics-D5aJipOz.js";import"./react-dom-yh0erWL-.js";import"./scheduler-CzFDRTuY.js";import"./react-redux-CHm9GgGE.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-DEc9BFqZ.js";import"./@reduxjs-DTZ4pglK.js";import"./immer-BNrqi0cU.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./axios-BimPEqV4.js";import"./react-icons-B_BWYIjI.js";import"./react-router-dom-Dz0dtoa0.js";import"./react-router-KETZ66Sq.js";import"./@remix-run-DTnHqtaE.js";import"./uuid-Dv1xt2bl.js";const Y=({user:d,language:r})=>{const e=E(),[n,m]=p.useState(""),[i,c]=p.useState(""),[l,u]=p.useState(""),f=async o=>{o.preventDefault();try{if(i.trim()!==l.trim()){e(a(U[r],!0,5));return}else if(i.length<10){e(a(_[r],!0,5));return}const j={_id:d._id,passwordOld:n,password:i,language:r};d&&e(N(j)).then(t=>{t&&(t.success===!1?e(a(`${t.message||S[r]}`,!0,5)):(e(a(`${t.message||R[r]}`,!1,5)),m(""),c(""),u("")))}).catch(t=>{var w,x;console.error(t),t.code==="ERR_BAD_REQUEST"&&((x=(w=t.response)==null?void 0:w.data)!=null&&x.message)?e(a(`${t.response.data.message}`,!0,5)):setTimeout(()=>{e(a($[r],!0,5))},2e3)})}catch(h){console.error("error",h)}};return s.jsx(s.Fragment,{children:d?s.jsxs(s.Fragment,{children:[s.jsx("h2",{children:P[r]}),s.jsxs("form",{onSubmit:f,className:D["edit-user"],children:[s.jsx("div",{className:"input-wrap",children:s.jsxs("label",{children:[s.jsx("input",{required:!0,type:"password",name:"old-password",id:"old-password",value:n,onChange:({target:o})=>m(o.value.trim())}),s.jsx("span",{children:b[r]})]})}),s.jsx("div",{className:"input-wrap",children:s.jsxs("label",{children:[s.jsx("input",{required:!0,type:"password",name:"password",id:"password-edit",value:i,onChange:({target:o})=>c(o.value.trim())}),s.jsx("span",{children:v[r]})]})}),s.jsx("div",{className:"input-wrap",children:s.jsxs("label",{children:[s.jsx("input",{required:!0,type:"password",name:"confirmPassword",id:"confirmPassword",value:l,onChange:({target:o})=>u(o.value.trim())}),s.jsx("span",{children:y[r]})]})}),s.jsx("button",{type:"submit",children:C[r]})]})]}):s.jsx(s.Fragment,{})})};export{Y as default};
