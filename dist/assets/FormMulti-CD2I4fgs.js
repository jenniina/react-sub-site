import{j as e,r as d}from"./react-A9DAvxly.js";import{R as U}from"./react-icons-5ULj0WcV.js";import{S as B}from"./Select-BZ5uqlR9.js";import{bU as y,bV as X,bW as E,b2 as Z,ba as C,bX as M,bY as G,bZ as H,b_ as Q,bj as g,u as ee,b3 as T,b$ as I,c0 as se,c1 as A,n as te}from"./AccessibleColors-CRBQVtI_.js";import{a as L,b as q,c as re,d as ie,e as oe,f as le,g as ae,h as W,i as $,j as Y,k as ne,l as ce,m as de,n as me,o as D,p as pe,q as he,r as ue,s as fe,t as xe,u as be,v as je,w as Ee,x as ve,y as Ne,z as Se,A as ye,E as we,B as Fe}from"./Cart-DyrMmj7e.js";import{a as ke}from"./axios-CCb-kr4I.js";import{E as _e}from"./Blob-DEVQxHac.js";import"./hoist-non-react-statics-D5aJipOz.js";import"./react-redux-CHm9GgGE.js";import"./react-dom-yh0erWL-.js";import"./scheduler-CzFDRTuY.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-DEc9BFqZ.js";import"./@reduxjs-DhFEcpJw.js";import"./immer-C0GRqQ_d.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./Store-DjxFmAqX.js";import"./react-router-dom-B5GO_nIJ.js";import"./react-router-U2TbpS38.js";import"./@remix-run-DTnHqtaE.js";import"./ScrollButton-n3qA92RG.js";import"./Jokes-CqqEXrgz.js";import"./ButtonToggle-Rzsm3Ymy.js";import"./Accordion-DsZcHxu2.js";import"./uuid-Dv1xt2bl.js";import"./UserEdit-CMC3bHRb.js";import"./Hero-CfmILBX6.js";function w({title:t,description:a,children:i}){return e.jsx(e.Fragment,{children:e.jsxs("fieldset",{children:[e.jsxs("legend",{children:[" ",t,e.jsxs("p",{children:[" ",a," "]})]}),i]})})}const Ce="_wrapper_1exrd_1",Me="_steps_1exrd_13",Te="_hiddenform_1exrd_25",Ie="_subfield_1exrd_67",Ae="_btns_1exrd_151",Le="_submit_1exrd_167",qe="_dropdownsingle_1exrd_177",We="_dropdownmultiple_1exrd_179",l={wrapper:Ce,steps:Me,hiddenform:Te,subfield:Ie,btns:Ae,submit:Le,dropdownsingle:qe,dropdownmultiple:We};function P({email:t,message:a,select:i,updateFields:m,language:r}){const u=[{label:y[r],value:X[r]},{label:L[r],value:L[r]},{label:q[r],value:q[r]},{label:E[r],value:E[r]}],[n,c]=d.useState(u[0]);return e.jsxs(w,{title:"Message",description:re[r],children:[e.jsx("div",{className:l.subfield,style:{paddingTop:"4em"},children:e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{children:[e.jsx("input",{id:"form-email",autoFocus:!0,required:!0,type:"email",name:"email",value:t,onChange:s=>m({email:s.target.value})}),e.jsxs("span",{children:[ie[r]," ",e.jsx("i",{className:"required","aria-hidden":"true",children:"*"})]})]})})}),e.jsxs("div",{className:l.subfield,children:[e.jsx("label",{children:oe[r]}),e.jsx(B,{language:r,id:"single",className:`${l.dropdownsingle} full`,instructions:y[r],hide:!0,options:u,value:n,onChange:s=>{c(s),m({select:(s==null?void 0:s.label)??(n==null?void 0:n.label)})}})]}),e.jsxs("div",{className:l.subfield,children:[e.jsxs("label",{htmlFor:"form-message",children:[le[r]," ",e.jsx("i",{className:"required","aria-hidden":"true",children:"*"})]}),e.jsx("textarea",{id:"form-message",required:!0,name:"message",value:a,rows:4,placeholder:ae[r],onChange:s=>m({message:s.target.value})})]})]})}function $e({encouragement:t,color:a,dark:i,light:m,gdpr:r,selectmulti:u,clarification:n,updateFields:c,language:s}){const v=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",[p,x]=Z(`${v?"local-":""}multivalues`,[]),h=[{label:C[s],value:C[s]},{label:W[s],value:W[s]},{label:$[s],value:$[s]},{label:`${E[s]}, ${M[s]}`,value:E[s]},{label:`${Y[s]}, ${M[s]}`,value:Y[s]}];return d.useEffect(()=>{c({selectmulti:p==null?void 0:p.map(o=>o==null?void 0:o.value).join(", ")})},[p]),e.jsx(e.Fragment,{children:e.jsxs(w,{title:ne[s],description:ce[s],children:[e.jsxs("div",{className:l.subfield,children:[e.jsx("label",{className:"full left",htmlFor:"form-encouragement",children:de[s]}),e.jsx("textarea",{id:"form-encouragement",className:"full",autoFocus:!0,name:"encouragement",value:t,rows:3,placeholder:me[s],onChange:o=>c({encouragement:o.target.value})})]}),e.jsxs("div",{className:l.subfield,children:[e.jsx("label",{id:"label-color",className:`left nowrap full ${l.colorlabel}`,htmlFor:"form-color2",children:D[s]}),e.jsx("input",{id:"form-color2",className:"half bg","aria-labelledby":"label-color",type:"text",name:"color",value:a,onChange:o=>c({color:o.target.value})}),e.jsxs("label",{className:"scr",htmlFor:"form-color",children:[D[s]," ",pe[s]]}),e.jsx("input",{id:"form-color",className:"half","aria-labelledby":"label-color",type:"color",name:"color",value:a,onChange:o=>c({color:o.target.value})})]}),e.jsxs("div",{className:l.subfield,children:[e.jsx("label",{className:"full",children:he[s]}),e.jsxs("label",{className:"nowrap",children:[e.jsx("input",{id:"form-dark",type:"radio",name:"mode",value:"dark mode",onChange:o=>c({dark:o.target.value})})," ",G[s]]}),e.jsxs("label",{htmlFor:"form-light",className:"nowrap",children:[e.jsx("input",{id:"form-light",type:"radio",name:"mode",value:"light mode",onChange:o=>{c({light:o.target.value})}})," ",H[s]]})]}),e.jsxs("div",{className:l.subfield,children:[e.jsx("label",{htmlFor:"multiple-hide",children:ue[s]}),e.jsx("span",{style:{position:"relative",zIndex:"2",width:"100%"},children:e.jsx(B,{language:s,multiple:!0,id:"multiple-hide",className:l.dropdownmultiple,instructions:`${y[s]}. ${Q[s]}`,hide:!0,options:h,value:p,onChange:o=>{x(o),c({selectmulti:p==null?void 0:p.map(f=>f==null?void 0:f.value).join(", ")})}})}),e.jsxs("label",{className:"full",children:[e.jsx("span",{children:fe[s]}),e.jsx("input",{className:"bg",type:"text",name:"clarification",onChange:o=>{c({clarification:o.target.value})}})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"radio-checkbox",children:[e.jsx("input",{id:"form-gdpr",required:!0,type:"checkbox",name:"gdpr",value:"gdpr-ok",onChange:o=>{c({gdpr:o.target.value})}}),e.jsx("i",{className:"required","aria-hidden":"true",children:"*"})," ",g[s]," "]})})]})})}function Ye(t){const[a,i]=d.useState(0);function m(){i(n=>n>=t.length-1?n:n+1)}function r(){i(n=>n<=0?n:n-1)}function u(n){i(n)}return{currentStepIndex:a,step:t[a],steps:t,isFirstStep:a===0,isLastStep:a===t.length-1,goTo:u,next:m,back:r}}function R({firstName:t,lastName:a,updateFields:i,language:m}){return e.jsxs(w,{title:xe[m],description:be[m],children:[e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{children:[e.jsx("input",{required:!0,type:"text",name:"firstname",value:t,onChange:r=>i({firstName:r.target.value})}),e.jsxs("span",{children:[je[m]," ",e.jsx("i",{className:"required","aria-hidden":"true",children:"*"})]})]})}),e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{className:"drop",children:[e.jsx("input",{id:"form-last-name",required:!0,type:"text",name:"lastname",value:a,onChange:r=>i({lastName:r.target.value})}),e.jsxs("span",{children:[Ee[m]," ",e.jsx("i",{className:"required","aria-hidden":"true",children:"*"})]})]})})]})}const O={firstName:"",lastName:"",encouragement:"",color:"#FFFFFF",dark:"",light:"",email:"",message:"",gdpr:"",select:"",selectmulti:"",clarification:""},De="http://localhost:4000",Pe=async t=>(await ke.post(`${De}/api/send-email-form`,t)).data;function fs({language:t}){const a=d.useRef(),[i,m]=d.useState(O),[r,u]=d.useState(!1),n=ee();function c(N){m(S=>({...S,...N}))}const{steps:s,currentStepIndex:v,step:p,isFirstStep:x,isLastStep:h,back:o,next:f,goTo:z}=Ye([d.createElement(R,{...i,updateFields:c,key:"InitialForm",language:t}),d.createElement(P,{...i,updateFields:c,key:"MessageForm",language:t}),d.createElement($e,{...i,updateFields:c,key:"ExtrasForm",language:t})]);async function J(N){if(N.preventDefault(),!h)return f();if(a.current)try{u(!0),await Pe(i).then(()=>{u(!1),z(0),m(O),k(!0),setTimeout(()=>{k(!1)},1e5),n(te(A[t],!1,8))})}catch(S){console.error("error",S),alert(Fe[t])}}function V(){x&&(i.firstName==null||i.firstName==""||i.lastName==null||i.lastName=="")?(b(!0),setTimeout(()=>{b(!1)},3e3)):!x&&!h&&(i.email==null||i.email.trim()==""||i.message==null||i.message.trim()=="")?(b(!0),setTimeout(()=>{b(!1)},3e3)):f()}const[F,b]=d.useState(!1),[K,k]=d.useState(!1),j=d.useRef(),_=d.useRef();return d.useEffect(()=>{if(!(j.current==null||_.current==null))return j.current.style.top="-2em",()=>{}},[F]),e.jsxs("div",{className:l.wrapper,children:[t!==T.Suomi&&t!==T.English&&e.jsx("p",{children:_e[t]}),e.jsxs("form",{ref:a,onSubmit:J,"aria-labelledby":"steps",children:[e.jsxs("span",{id:"steps",className:l.steps,children:[ve[t]," ",Ne[t]," ",e.jsxs("span",{children:[v+1," / ",s.length]})]}),e.jsx("div",{className:l.hiddenform,children:h?e.jsxs(e.Fragment,{children:[d.createElement(R,{...i,updateFields:c,language:t,key:"InitialForm2"}),d.createElement(P,{...i,updateFields:c,language:t,key:"MessageForm2"})]}):""}),p,e.jsxs("div",{className:l.btns,style:{position:"relative"},children:[!x&&e.jsxs("button",{type:"button",onClick:o,children:[e.jsx("span",{"aria-hidden":"true",children:"«"})," ",Se[t]]}),!h&&e.jsxs("button",{ref:_,type:"button",className:h?l.submit:l.next,onClick:V,children:[r?I[t]:ye[t]," ",e.jsx("span",{"aria-hidden":"true",children:"»"})]}),h&&e.jsxs("button",{className:h?l.submit:l.next,type:"submit",disabled:r,children:[r?I[t]:se[t]," ",e.jsx(U,{})]}),F&&e.jsx("div",{ref:j,"aria-live":"assertive",style:{position:"absolute",fontWeight:"bold",color:"inherit",letterSpacing:"0.04em"},children:we[t]}),K&&e.jsx("div",{ref:j,"aria-live":"polite",style:{position:"absolute",top:"-1.4em",fontWeight:"bold",color:"inherit",letterSpacing:"0.04em"},children:A[t]})]})]})]})}export{fs as default};
