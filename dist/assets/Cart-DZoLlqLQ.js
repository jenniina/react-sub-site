import{r as g,j as e}from"./react-kX_YxI4E.js";import{A as se}from"./AdditionalInfo-xjo803cQ.js";import{L as te,l as re,u as ne,q as n,E as I,e as m,r as le,t as ie,v as oe,A as ce,T as de}from"./index-De2CRixK.js";import{c as pe}from"./cart-CgS8CQgD.js";import{L as B}from"./react-router-dom-StiqOUIT.js";import{B as ue}from"./ButtonToggle-Brqk0qTA.js";import{a as he,t as me,R as xe}from"./react-icons-DhcENkY1.js";import"./dom-to-image-more-CfDXlNbO.js";import"./react-dom-B5MLDbn_.js";import"./scheduler-CzFDRTuY.js";import"./react-redux-BEmJlIGA.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-BPp6CH6k.js";import"./@reduxjs-DhFEcpJw.js";import"./immer-C0GRqQ_d.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./axios-CCb-kr4I.js";import"./react-router-DUuhLvki.js";import"./@remix-run-DTnHqtaE.js";const je="_light_uwfyl_1",ye="_quantity_uwfyl_51",we="_total_uwfyl_129",fe="_gdpr_uwfyl_231",ge="_terms_uwfyl_233",Ee="_wrap_uwfyl_393",ve="_submit_uwfyl_461",t={light:je,"cart-wrap":"_cart-wrap_uwfyl_5","addition-wrap":"_addition-wrap_uwfyl_41",quantity:ye,"quantity-btn":"_quantity-btn_uwfyl_69","item-details":"_item-details_uwfyl_83","textarea-wrap":"_textarea-wrap_uwfyl_99","input-wrap":"_input-wrap_uwfyl_101",total:we,"please-fill":"_please-fill_uwfyl_157","toggle-wrap":"_toggle-wrap_uwfyl_179","clear-btn-wrap":"_clear-btn-wrap_uwfyl_203","send-order-wrap":"_send-order-wrap_uwfyl_225",gdpr:fe,terms:ge,"accordion-wrap":"_accordion-wrap_uwfyl_271","additional-info-wrap":"_additional-info-wrap_uwfyl_285","back-to-store":"_back-to-store_uwfyl_323","cart-form":"_cart-form_uwfyl_375",wrap:Ee,"more-info-wrap":"_more-info-wrap_uwfyl_439",submit:ve},Ge=({language:x,cart:j,addToCart:L,removeFromCart:v,editDetails:J,removeCart:$})=>{const{t:s}=g.useContext(te),O=re(),u=ne(),[q,C]=n("localStorageTotal",0),[l,k]=n("localStorageEmail",""),[i,A]=n("JCartName",""),[y,H]=n("JCartBusiness",!1),[E,M]=n("JCartCompanyName",""),[o,F]=n("JCartCountry",""),[c,T]=n("JCartAddress",""),[d,P]=n("JCartCity",""),[p,D]=n("JCartZip",""),[w,z]=n("JCartPhone",""),[f,G]=n("JCartBusinessID",""),[K,W]=n("JCartDetails",{email:l,name:i,businessID:f,zip:p,city:d,address:c,country:o,phone:w}),[S,Q]=n("JCartExtra",""),[Z,U]=g.useState(!1),[Y,V]=g.useState(!1),[X,h]=g.useState(!1),b=5,R=10,ee=1,_=3;g.useEffect(()=>{W({name:i,companyName:E,email:l,businessID:f,zip:p,city:d,address:c,country:o,phone:w})},[i,E,l,f,p,d,c,o,w]);const N=(a,r)=>{if(r<0&&a&&v(a==null?void 0:a.id),r>0)L(a);else return};return g.useEffect(()=>{C(j.reduce((a,r)=>a+r.price*r.quantity,0))},[j]),e.jsxs("div",{className:`${t["cart-wrap"]} ${O?t.light:""}`,children:[e.jsxs(B,{to:"/store",className:t["back-to-store"],children:[e.jsx("span",{"aria-hidden":!0,children:"«"})," ",e.jsx(he,{})," ",e.jsx("strong",{children:s("EBackToStore")})]}),x!==I.fi&&x!==I.en&&e.jsx("p",{children:s("EPleaseNoteThatTheAuthorJenniinaLaineSpeaksOnlyEnglishAndFinnishSo")}),e.jsxs("form",{onSubmit:a=>{a.preventDefault(),h(!0),j.length<1&&(u(m(s("EPleaseChooseAProduct"),!0,8)),h(!1)),Z?Y?y&&i&&i.trim()!==""&&E&&E.trim()!==""&&f&&f.trim()!==""&&l&&l.trim()!==""&&c&&c.trim()!==""&&p&&p.trim()!==""&&d&&d.trim()!==""&&o&&o.trim()!==""||!y&&i&&i.trim()!==""&&l&&l.trim()!==""&&c&&c.trim()!==""&&p&&p.trim()!==""&&d&&d.trim()!==""&&o&&o.trim()!==""?pe.newOrder(x,{orderID:`${Math.ceil(le(1e5,999999))}-${ie(2,!0)}`,info:K,total:q,extra:S,items:j}).then(r=>{r.success?(u(m(r.message,!1,10)),$(),C(0),h(!1)):(u(m(r.message,!1,10)),h(!1))}).catch(r=>{r.response&&r.response.data&&r.response.data.message?u(m(r.response.data.message,!0,8)):u(m(r.message,!0,8)),h(!1)}):(u(m(s("EPleaseFillInTheFields"),!0,8)),h(!1)):(u(m(`${s("ERemember")}: ${s("ETermsOfService")}`,!0,8)),h(!1)):(u(m(`${s("ERemember")}: ${s("EGDPRConsent")}`,!0,8)),h(!1))},className:t["cart-form"],children:[j.map((a,r)=>e.jsxs("div",{className:t.wrap,children:[e.jsxs("h2",{children:[e.jsxs("span",{children:[r+1,". "]}),e.jsx("span",{children:a.name})]}),e.jsx("p",{children:oe(a.description)}),e.jsx(se,{type:a.id,language:x,styles:t,isOpen:!0,setIsFormOpen:()=>{},classNameWrap:t["additional-info-wrap"],text:s("EIncludes")}),e.jsxs("div",{className:`${t.quantity}`,children:[a.id!=="misc-quote"?e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",onClick:()=>{if(a.quantity-1<1)if(window.confirm(`${s("ERemove")}: ${a.name}?`)){v(a.id);return}else return;N(a,-1)},className:`tooltip-wrap ${t["quantity-btn"]}`,children:[e.jsx("span",{className:"tooltip above space right narrow2",children:s("ESubtractFromCart")}),e.jsx("span",{children:"-1"})]}),e.jsxs("span",{children:[s("EQuantity"),": ",a.quantity]}),e.jsxs("button",{type:"button",onClick:()=>{N(a,1)},className:`tooltip-wrap ${t["quantity-btn"]}`,children:[e.jsx("span",{className:"tooltip above space right narrow2",children:s("EAddToCart")}),e.jsx("span",{children:"+1"})]})]}):e.jsx("button",{type:"button",onClick:()=>{if(a.quantity-1<1)if(window.confirm(`${s("ERemove")}: ${a.name}?`)){v(a.id);return}else return;N(a,-1)},children:e.jsx("span",{children:s("ERemove")})}),a.quantity>=R?e.jsxs("span",{children:[s("ETotal"),": ",a.quantity+_," ",s("EHours")]}):a.quantity>=b?e.jsxs("span",{children:[s("ETotal"),": ",a.quantity+ee," ",s("EHours")]}):""]}),a.id!=="misc-quote"?e.jsx(e.Fragment,{children:e.jsxs("p",{children:[s("EPrice"),": ",a.price," € × ",a.quantity," ="," ",e.jsxs("b",{children:[a.price*a.quantity," €"]})]})}):e.jsxs("p",{children:[s("EPrice"),": ",a.price," €"," "]}),a.id.startsWith("misc")&&a.quantity>=b&&e.jsx("p",{children:e.jsxs("big",{children:[e.jsx(me,{})," ",e.jsx("span",{children:s("EFreeHourUnlocked")})," ",a.quantity>=R?e.jsxs(e.Fragment,{children:[e.jsxs("strong",{children:[" × ",_," "]}),e.jsx("span",{children:"—"})," ",e.jsx("span",{children:s("ESaveTheFollowingAmountOfMoney")}),e.jsxs("strong",{children:[" ",a.price*_," € "]})]}):a.quantity>=b?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:" —"})," ",e.jsx("span",{children:s("ESaveTheFollowingAmountOfMoney")}),e.jsxs("strong",{children:[" ",a.price," € "]})]}):""]})}),e.jsx("div",{className:t["item-details"],children:e.jsx("div",{className:`${t["textarea-wrap"]} textarea-wrap`,children:e.jsxs("label",{htmlFor:`${a.id}-details`,children:[e.jsxs("span",{children:[s("ERequestsAndNeeds"),":"]}),e.jsx("textarea",{rows:5,required:!0,id:`details-${a.id}`,name:`details-${a.id}`,placeholder:a.id.startsWith("misc")&&a.id!=="misc-quote"?s("EAdditionalInformation"):s("ERequestsIdeasAndLinksForInspiration"),onChange:ae=>{J(a.id,ae.target.value)}})]})})})]},`${a.id}-${r}`)),j.length>0?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:t.total,children:e.jsx("big",{children:e.jsxs("span",{children:[s("ETotal"),": ",q," €"," "]})})}),e.jsxs("div",{className:`${t["please-fill"]}`,children:[e.jsx("div",{className:`${t["toggle-wrap"]}`,children:e.jsx(ue,{id:"business-toggle",className:`${t.toggle}`,name:"company",on:s("EYes"),off:s("ENo"),equal:!0,isChecked:y,handleToggleChange:()=>H(!y),label:`${s("ECompanyOrAssociation")}: `})}),y?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"business-id",children:[e.jsx("input",{type:"text",name:"business-id",id:"business-id",required:!0,value:f,placeholder:s("EBusinessID"),onChange:a=>G(a.target.value)}),e.jsxs("span",{children:[s("EBusinessID"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"company-name",children:[e.jsx("input",{type:"text",id:"company-name",name:"company",required:!0,value:E,placeholder:`${s("ECompanyName")}/${s("EAssociationName")}`,onChange:a=>M(a.target.value)}),e.jsxs("span",{children:[s("ECompany"),"/",s("EAssociation"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"name-cart",children:[e.jsx("input",{type:"text",id:"name-cart",name:"name",required:!0,value:i,placeholder:s("EContactPerson"),onChange:a=>A(a.target.value)}),e.jsxs("span",{children:[s("EContactPerson"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"email-cart",children:[e.jsx("input",{type:"email",name:"email",id:"email-cart",required:!0,value:l,placeholder:s("EEmailAddress"),onChange:a=>k(a.target.value)}),e.jsxs("span",{children:[s("EEmail"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"address-cart",children:[e.jsx("input",{type:"text",id:"address-cart",name:"address",required:!0,value:c,placeholder:s("EBillingAddress"),onChange:a=>T(a.target.value)}),e.jsxs("span",{children:[s("EBillingAddress"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"zip-cart",children:[e.jsx("input",{type:"text",id:"zip-cart",name:"postal-code",required:!0,value:p,placeholder:s("EPostalCode"),onChange:a=>D(a.target.value),onKeyDown:a=>{!/[0-9]/.test(a.key)&&a.key!=="Backspace"&&a.key!=="Delete"&&a.key!=="ArrowLeft"&&a.key!=="ArrowRight"&&a.key!=="Tab"&&a.preventDefault()}}),e.jsxs("span",{children:[s("EPostalCode"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"city-cart",children:[e.jsx("input",{id:"city-cart",type:"text",name:"city",required:!0,value:d,placeholder:s("ECity"),onChange:a=>P(a.target.value)}),e.jsxs("span",{children:[s("ECity"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"country-cart",children:[e.jsx("input",{type:"text",id:"country-cart",name:"country",required:!0,value:o,placeholder:s("ECountry"),onChange:a=>F(a.target.value)}),e.jsxs("span",{children:[s("ECountry"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder not-required ${w&&w.trim()!==""?"filled":"not-filled"}`,children:e.jsxs("label",{htmlFor:"phone-cart",children:[e.jsx("input",{type:"text",id:"phone-cart",name:"phone",value:w,placeholder:s("EPhone"),onChange:a=>z(a.target.value),onKeyDown:a=>{!/[0-9]/.test(a.key)&&a.key!=="Backspace"&&a.key!=="Delete"&&a.key!=="ArrowLeft"&&a.key!=="ArrowRight"&&a.key!=="Tab"&&a.key!==" "&&a.preventDefault()}}),e.jsxs("span",{children:[s("EPhone")," (",s("EOptional").toLowerCase(),"):"]})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"name-cart",children:[e.jsx("input",{type:"text",id:"name-cart",name:"name",required:!0,value:i,placeholder:s("EPrivatePerson"),onChange:a=>A(a.target.value)}),e.jsxs("span",{children:[s("EName"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"email-cart",children:[e.jsx("input",{type:"email",name:"email",id:"email-cart",required:!0,value:l,placeholder:s("EEmailAddress"),onChange:a=>k(a.target.value)}),e.jsxs("span",{children:[s("EEmail"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"address-cart",children:[e.jsx("input",{type:"text",id:"address-cart",name:"address",required:!0,value:c,placeholder:s("EBillingAddress"),onChange:a=>T(a.target.value)}),e.jsxs("span",{children:[s("EBillingAddress"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"zip-cart",children:[e.jsx("input",{type:"text",name:"postal-code",id:"zip-cart",required:!0,value:p,placeholder:s("EPostalCode"),onChange:a=>D(a.target.value),onKeyDown:a=>{!/[0-9]/.test(a.key)&&a.key!=="Backspace"&&a.key!=="Delete"&&a.key!=="ArrowLeft"&&a.key!=="ArrowRight"&&a.key!=="Tab"&&a.preventDefault()}}),e.jsxs("span",{children:[s("EPostalCode"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"city-cart",children:[e.jsx("input",{type:"text",id:"city-cart",name:"city",required:!0,value:d,placeholder:s("ECity"),onChange:a=>P(a.target.value)}),e.jsxs("span",{children:[s("ECity"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"country-cart",children:[e.jsx("input",{type:"text",id:"country-cart",name:"country",required:!0,value:o,placeholder:s("ECountry"),onChange:a=>F(a.target.value)}),e.jsxs("span",{children:[s("ECountry"),":"]})]})})]}),e.jsx("div",{className:`${t["textarea-wrap"]} textarea-wrap`,children:e.jsxs("label",{htmlFor:"extra",children:[e.jsxs("span",{children:[s("EAdditionalInformation"),":"]}),e.jsx("textarea",{rows:5,id:"extra",value:S,placeholder:`${s("EClarifications")}${y?`, ${s("EEG")} ${s("EDesiredReference")}`:""}`,onChange:a=>Q(a.target.value)})]})})]}),e.jsxs("div",{className:`${t["send-order-wrap"]} flex center`,children:[e.jsx("div",{className:t.terms,children:e.jsxs("label",{children:[e.jsx("input",{id:"terms-cart",required:!0,type:"checkbox",name:"terms",onChange:a=>{V(a.target.checked)}}),e.jsxs("span",{children:[s("EIAcceptThe")," ",e.jsx(B,{to:"/terms",children:s("ETermsOfServiceLink")})]})]})}),e.jsx("div",{className:t.gdpr,children:e.jsxs("label",{className:"radio-checkbox",children:[e.jsx("input",{id:"gdpr-cart",required:!0,type:"checkbox",name:"gdpr",onChange:a=>{U(a.target.checked)}}),e.jsx("span",{children:s("EItIsAlrightToSendTheEnteredInformationToJenniina")})]})}),e.jsxs("button",{className:t.submit,type:"submit",disabled:X,children:[e.jsx("span",{children:s("ESubmitOrder")})," ",e.jsx(xe,{})]}),e.jsx(ce,{className:"cart-accordion grayer",text:s("ETermsRelatedToProducts"),language:x,wrapperClass:t["more-info-wrap"],children:e.jsx(de,{language:x})})]}),e.jsx("div",{className:`${t["clear-btn-wrap"]} flex center`,children:e.jsx("button",{type:"button",onClick:()=>{window.confirm(`${s("ERemove")}: ${s("ECart")}?`)&&($(),C(0))},className:"danger delete",children:s("EClearCart")})})]}):e.jsx(e.Fragment,{children:e.jsxs("p",{className:"flex center",children:["[ ",s("EEmptyCart")," ]"]})})," "]})]})};export{Ge as default};
