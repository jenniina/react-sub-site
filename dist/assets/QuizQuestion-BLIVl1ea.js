import{j as s,r as p}from"./react-A9DAvxly.js";import{a as l}from"./react-redux-CHm9GgGE.js";import{aZ as h,i1 as f,i2 as N,i3 as q,i4 as w,i5 as b,i6 as z,M as y,i7 as Q}from"./index-nWW9Io9b.js";import{s as r}from"./quiz.module-DTU83NUw.js";import{i as k,j as F,k as A,l as C,m as M,n as P,o as S}from"./quiz-BfGJjqZ6.js";import{c as u,f as g}from"./react-router-344DmMNz.js";import{J as I}from"./form-C1vuQpLD.js";import"./hoist-non-react-statics-D5aJipOz.js";import"./react-dom-yh0erWL-.js";import"./scheduler-CzFDRTuY.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-DEc9BFqZ.js";import"./@reduxjs-DTZ4pglK.js";import"./immer-BNrqi0cU.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./axios-BimPEqV4.js";import"./react-icons-CMyplLKx.js";import"./react-router-dom-BQMcumiI.js";import"./@remix-run-DTnHqtaE.js";const T=({language:e})=>{const{answer:o,index:t,points:i}=l(n=>n.questions);return s.jsxs("header",{className:`${r.progress}`,children:[s.jsx("progress",{max:"15",value:t+ +(o!==null)}),s.jsxs("p",{children:[k[e],"  ",s.jsx("b",{children:t+1})," / 15"]}),s.jsxs("p",{children:[s.jsxs("b",{children:[F[e],": ",i]})," ","/ 300"]})]})},D=()=>{const{secondsRemaining:e}=l(a=>a.questions),o=e%60,t=Math.floor(e/60),i=h(),n=u();return p.useEffect(()=>{e===0&&(i(f()),i(N()),i(q()),n("/portfolio/quiz/results"))},[e]),p.useEffect(()=>{const a=setInterval(()=>{i(w())},1e3);return()=>clearInterval(a)},[]),s.jsxs("div",{className:`${r.timer}`,children:[t<10&&"0",t,":",o<10&&"0",o]})},L=({language:e})=>s.jsxs("div",{className:`${r["loader-wrap"]}`,children:[s.jsx("div",{className:`${r.loader}`}),s.jsx("h3",{children:A[e]})]}),R=({language:e})=>{const{index:o}=l(a=>a.questions),t=h(),i=u(),n=()=>{t(f()),t(N()),i("/portfolio/quiz/results")};return o<14?s.jsx("button",{className:`${r.next}`,onClick:()=>t(b()),children:I[e]}):s.jsx("button",{className:`${r.next}`,onClick:n,children:C[e]})},J=({type:e,message:o})=>s.jsx("p",{className:e,children:o}),ls=({language:e})=>{const{difficulty:o}=g(),{mode:t}=l(c=>c.difficulty),{currentQuestion:i,answer:n,index:a,status:d}=l(c=>c.questions),j=h();p.useEffect(()=>{j(z(t))},[]);const v=i==null?void 0:i.question,m=i==null?void 0:i.options,x=n!==null,E=u(),$=()=>{E("/portfolio/quiz")};return s.jsx("section",{className:`card ${r.top}`,children:s.jsx("div",{children:s.jsxs("div",{className:`${r.quiz} `,children:[d==="loading"&&s.jsx(L,{language:e}),d==="error"&&s.jsx(J,{type:"error",message:M[e]}),d==="ready"&&s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:r.h1,children:s.jsxs("a",{href:"#",onClick:$,children:["« ",y[e]]})}),s.jsx("h2",{children:P[e]}),s.jsx(T,{language:e}),s.jsxs("div",{className:r.wrap,children:[s.jsxs("div",{className:`${r.diff}`,children:[S[e],": ",o]}),s.jsx("h2",{className:`${r.question}`,children:v}),s.jsx("div",{className:`${r.options}`,children:m==null?void 0:m.map(c=>s.jsx("button",{className:`${n===c?r.answer:""} 
            ${x&&i.correctAnswer===c?r.correct:""} 
            ${x?r.disabled:""}
            `,disabled:x,onClick:()=>j(Q(c)),children:c},c))})]}),s.jsxs("footer",{children:[s.jsx(D,{}),n&&s.jsx(R,{language:e})]})]})]})})})};export{ls as default};
