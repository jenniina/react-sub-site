import{a as o,j as e}from"./react-B26j9x-B.js";import{L,u as q,l as N,x as n,e as D}from"./index-C0uTZr51.js";import{c as P}from"./cart-C501ueEG.js";import"./dom-to-image-more-sr33WCep.js";import"./react-dom-C5TvV5XQ.js";import"./scheduler-C323NY8X.js";import"./react-redux-EG6qnwNo.js";import"./hoist-non-react-statics-C-Qo8PK8.js";import"./react-is-BwqtTtay.js";import"./use-sync-external-store-BqPSEvA7.js";import"./@reduxjs-D09xkNSb.js";import"./immer-C0GRqQ_d.js";import"./redux-D9aXM7rm.js";import"./@babel-CYk816RD.js";import"./redux-thunk-CY0Q9z1Q.js";import"./axios-ngrFHoWO.js";import"./react-icons-BjZ8OXEo.js";import"./react-router-dom-Dghs3TPc.js";import"./react-router-vPOY4muN.js";import"./@remix-run-ox1qIyJK.js";import"./react-helmet-async-CnDSc5Ri.js";import"./react-fast-compare-BHbKlhN4.js";import"./invariant-B_pwkeTo.js";import"./shallowequal-C7ef0Lra.js";const se=({language:S,paidStatus:c,itemStatus:l,splitToLines:v,info:y})=>{var m,j,f,g;const{t}=o.useContext(L),p=q(),I=N(),[s,w]=o.useState(null),[h,x]=o.useState(""),[A,d]=o.useState(!1),u=async(r=h)=>{var i,b;d(!0);try{const a=await P.getOrderByOrderID(S,r),O={...a,createdAt:new Date(a.createdAt),updatedAt:new Date(a.updatedAt)};w(O),d(!1)}catch(a){(b=(i=a.response)==null?void 0:i.data)!=null&&b.message?p(D(a.response.data.message,!0,8)):p(D(a.message,!0,8)),d(!1)}};return o.useEffect(()=>{const i=new URLSearchParams(window.location.search).get("orderID");i&&(x(i),u(i))},[]),e.jsxs("div",{className:`${n["order-wrap"]} ${I?n.light:""}`,children:[e.jsxs("form",{onSubmit:r=>{r.preventDefault(),u()},children:[e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{children:[e.jsx("input",{type:"text",required:!0,name:"orderID",value:h,onChange:r=>x(r.target.value)}),e.jsx("span",{className:"label",children:t("OrderID")})]})}),e.jsx("button",{type:"submit",disabled:A,children:t("Submit")})]}),s&&e.jsxs("div",{children:[e.jsx("h2",{children:s.orderID}),e.jsxs("div",{className:n["order-items"],children:[(m=s.items)==null?void 0:m.map(r=>e.jsxs("div",{className:n["order-item"],children:[e.jsxs("h3",{children:[r.name,r.id==="misc-quote"?"":` x ${r.quantity}`]}),e.jsx("p",{children:r.description}),e.jsxs("p",{children:[e.jsxs("strong",{children:[t("Price"),":"]})," ",r.id==="misc-quote"?r.price+" €":r.price+" x "+r.quantity+" = "+r.quantity*r.price+" €"]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[t("Info"),":"]})," ",e.jsx("br",{})," ",v(r.details)]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[t("Status"),":"]})," ",l(r.status)," "]}),r.id==="misc-quote"?null:e.jsxs("p",{children:[e.jsxs("strong",{children:[t("PaymentState"),":"]})," ",c[r.paid]]},r.id)]},r.id))," "]}),e.jsxs("div",{className:n["info-wrap"],children:[e.jsxs("table",{className:`${n["info-table"]}`,children:[e.jsx("caption",{children:t("Info")}),e.jsx("tbody",{children:Object.keys(s.info).map(r=>{var i;return r==="_id"?null:s.info[r]!==null&&((i=s.info[r])==null?void 0:i.trim())!==""&&e.jsxs("tr",{children:[e.jsxs("th",{children:[y(r),":"]}),e.jsx("td",{children:s.info[r]})]},r)})})]}),e.jsx("p",{children:s.extra}),e.jsxs("p",{children:[t("Total"),": ",e.jsxs("big",{children:[s.total," € "]}),e.jsx("br",{})]}),e.jsxs("p",{children:[t("Status"),": ",l(s.status)]}),e.jsxs("p",{children:[t("PaymentState"),":"," ",c[s.items.every(r=>r.paid==="full")?"full":s.items.every(r=>r.paid==="none")?"none":"partial"]]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[t("Ordered"),": "]}),(j=s.createdAt)==null?void 0:j.toLocaleDateString()," ",(f=s.createdAt)==null?void 0:f.toLocaleTimeString()," ",e.jsx("br",{}),e.jsxs("strong",{children:[t("LastUpdated"),": "]}),s.updatedAt.toLocaleDateString()," ",(g=s.updatedAt)==null?void 0:g.toLocaleTimeString()]})]})]})]})};export{se as default};
