const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/WordCloud-CGVcGlcm.js","assets/react-A9DAvxly.js","assets/hoist-non-react-statics-D5aJipOz.js","assets/index-cnNXJZTP.js","assets/react-dom-CxfJ6lHP.js","assets/scheduler-CzFDRTuY.js","assets/react-redux-C4cSaZU-.js","assets/react-is-DUDD-a5e.js","assets/use-sync-external-store-DEc9BFqZ.js","assets/@reduxjs-DhFEcpJw.js","assets/immer-C0GRqQ_d.js","assets/redux-CE3tqztX.js","assets/@babel-DF5_wy6Y.js","assets/redux-thunk-CY0Q9z1Q.js","assets/axios-CCb-kr4I.js","assets/react-icons-yVutJqMS.js","assets/react-router-dom-j9Ns2JNj.js","assets/react-router-BoqxkIr7.js","assets/@remix-run-DTnHqtaE.js","assets/index-CfEGHDOJ.css","assets/WordCloud-DzVGRM3g.css","assets/Image-Cwe5POm7.js","assets/poems-GVCb1oj2.js","assets/Video-nvHSax5l.js"])))=>i.map(i=>d[i]);
import{gZ as M,_ as q,u as ge,gt as qe,g_ as Ge,g$ as Ue,h0 as Ke,h1 as Qe,h2 as y,h3 as S,Z as Ze,J as $,h4 as P,fu as F,h5 as a,h6 as Je,aG as le,h7 as Xe,h8 as Ye,h9 as H,ha as W,hb as es,q as k,hc as ss,hd as ts,he as g,hf as as,c3 as u,hg as rs,hh as is,hi as os,hj as cs,ao as ns,hk as ls,hl as hs,hm as ds,hn as ps,ho as ms,hp as us,f as vs,hq as xs,hr as G,hs as U,ht as K,hu as he,hv as de,cf as fs,hw as js}from"./index-cnNXJZTP.js";import{r,j as t}from"./react-A9DAvxly.js";import{a as bs}from"./axios-CCb-kr4I.js";import{aK as ys,aL as Ss,aM as _s,aN as Es}from"./react-icons-yVutJqMS.js";const Ns="http://localhost:4000",ws=`${Ns}/api/images`,Cs=async(e,i)=>{var v,n;try{const o=new URLSearchParams;return o.append("q",i.q),i.type?o.append("image_type",i.type):o.append("image_type","all"),i.video_type&&o.append("video_type",i.video_type),i.orientation?o.append("orientation",i.orientation):o.append("orientation",M.All),i.category&&o.append("category",i.category),i.min_width!==void 0&&i.min_width>=0?o.append("min_width",i.min_width.toString()):o.append("min_width","0"),i.min_height!==void 0&&i.min_height>=0?o.append("min_height",i.min_height.toString()):o.append("min_height","0"),i.colors&&i.colors.length>0&&o.append("colors",i.colors.join(",")),o.append("editors_choice",i.editors_choice?"true":"false"),o.append("safesearch",i.safesearch?"true":"false"),i.order?o.append("order",i.order):o.append("order","popular"),o.append("per_page",i.per_page&&i.per_page>=3&&i.per_page<=200?i.per_page.toString():"200"),(await bs.get(`${ws}/${e}?${o.toString()}`)).data}catch(o){return console.error("Error fetching images:",o),{success:!1,message:((n=(v=o.response)==null?void 0:v.data)==null?void 0:n.message)||`Error fetching images. ${o.message}`,totalHits:0,hits:[]}}},Ms={searchMedia:Cs},Ts=()=>{const[e,i]=r.useState({visible:!1,x:0,y:0}),v=r.useCallback((o,_)=>{i({visible:!0,x:o,y:_})},[]),n=r.useCallback(()=>{i(o=>({...o,visible:!1}))},[]);return{tooltip:e,handleMouseMove:v,handleMouseLeave:n}};var pe=(e=>(e.en="Poem",e.es="Poema",e.fr="Poème",e.de="Gedicht",e.pt="Poema",e.cs="Báseň",e.fi="Runo",e))(pe||{});const $s=r.lazy(()=>q(()=>import("./WordCloud-CGVcGlcm.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]))),Ps=G.map(e=>({text:e,weight:e==="design"?50:U.includes(e)?Math.floor(Math.random()*10)+30:K.includes(e)?Math.floor(Math.random()*5)+15:Math.floor(Math.random()*10)+15})),ks=G.map(e=>({text:e,weight:e==="design"?33:U.includes(e)?Math.floor(Math.random()*10)+16:K.includes(e)?Math.floor(Math.random()*5)+14:Math.floor(Math.random()*6)+15})),Os=G.map(e=>({text:e,weight:e==="design"?28:U.includes(e)?Math.floor(Math.random()*10)+13:K.includes(e)?Math.floor(Math.random()*5)+14:Math.floor(Math.random()*5)+15})),Ls=r.lazy(()=>q(()=>import("./Image-Cwe5POm7.js"),__vite__mapDeps([21,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,22]))),As=r.lazy(()=>q(()=>import("./Video-nvHSax5l.js"),__vite__mapDeps([23,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,22]))),Rs=({language:e})=>{const i=ge(),{show:v}=qe(),[n,o]=r.useState([]),[_,Q]=r.useState(!1),[Z,T]=r.useState(""),[x,J]=r.useState("imagination"),[f,me]=r.useState("photo"),[E,ue]=r.useState("all"),[O,ve]=r.useState(M.All),[L,xe]=r.useState("poem"),fe=["all","photo","illustration","vector","video"],je=["all","film","animation"],be=[M.All,M.Horizontal,M.Vertical],X=[{label:pe[e],value:"poem"},{label:Ge[e],value:"quote"}],ye=Object.values(Ue),Se=Object.values(Ke),_e=Object.values(Qe),Y=y(je,e),ee=y(_e,e),se=y(fe,e),te=y(be.map(s=>s),e),A=y(ye,e);A.unshift({label:S[e],value:""});const Ee=y(Se,e),[R,Ne]=r.useState(void 0),[N,we]=r.useState([]),[b,Ce]=r.useState([]),[D,Me]=r.useState(!1),[I,Te]=r.useState(!0),[z,$e]=r.useState("popular"),[w,Ds]=r.useState(100),[h,j]=r.useState(1),[m,Pe]=r.useState(20),[d,ae]=r.useState(1),[C,ke]=r.useState(1),[Is,Oe]=r.useState(0),[Le,Ae]=r.useState(!1),re=r.useRef(!0),[l,B]=r.useState(1),ie=[{label:"10",value:10},{label:"20",value:20},{label:"50",value:50},{label:"100",value:100}],{windowWidth:p}=Ze(),{tooltip:V,handleMouseMove:Re,handleMouseLeave:De}=Ts(),Ie=s=>{const c=s.currentTarget.getBoundingClientRect(),He=s.clientX-c.left-50,We=s.clientY-c.top+30;Re(He,We)},oe=async s=>{Q(!0),T("");const c=await Ms.searchMedia(e,s);c.success?(o(c.hits),Oe(c.totalHits),ae(Math.ceil(c.hits.length<m?1:c.hits.length/m)),ke(Math.ceil(c.totalHits<w?1:c.totalHits/w)),F("image-container")):(i($(c.message||"Error fetching images.",!0,6)),T(c.message||"Error fetching images.")),Q(!1)};r.useEffect(()=>{const s=N==null?void 0:N.map(c=>c.value);Ce(s)},[N]);const ze=s=>{if(s.preventDefault(),x.trim()===""){i($(P[e],!0,6)),T(P[e]);return}j(1),Ae(!0);const c={q:x,type:f,video_type:E!=="all"?E:void 0,orientation:O,category:R,colors:b&&b.length>0?b:void 0,editors_choice:D,safesearch:I,order:z,per_page:w,page:l};oe(c)};r.useEffect(()=>{if(re.current){re.current=!1;return}if(!Le)return;if(x.trim()===""){i($(P[e],!0,6)),T(P[e]);return}j(1),F("image-container");const s={q:x,type:f,video_type:E!=="all"?E:void 0,orientation:O,category:R,colors:b&&b.length>0?b:void 0,editors_choice:D,safesearch:I,order:z,per_page:w,page:l};oe(s)},[l]),r.useEffect(()=>{ae(Math.ceil(n.length<m?1:n.length/m))},[n,m]);const Be=n.slice((h-1)*m,h*m),ce=()=>n.length===0?t.jsx(t.Fragment,{}):d===1?t.jsx(t.Fragment,{}):t.jsxs("div",{className:a["pagination-wrap"],children:[t.jsxs("button",{className:"tooltip-wrap",disabled:h===1,onClick:()=>j(1),children:[t.jsx(ys,{}),t.jsx("span",{className:"scr",children:he[e]}),t.jsx("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:he[e]})]}),t.jsxs("button",{className:"tooltip-wrap",onClick:()=>j(s=>Math.max(s-1,1)),disabled:h===1,children:[t.jsx(Ss,{}),t.jsx("span",{className:"scr",children:H[e]}),t.jsx("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:H[e]})]}),t.jsxs("span",{children:[le[e]," ",h," / ",d]}),t.jsxs("button",{className:"tooltip-wrap",onClick:()=>j(s=>Math.min(s+1,d)),disabled:h===d,children:[t.jsx(_s,{}),t.jsx("span",{className:"scr",children:W[e]}),t.jsx("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:W[e]})]}),t.jsxs("button",{className:"tooltip-wrap",disabled:h===d,onClick:()=>j(d),children:[t.jsx(Es,{}),t.jsxs("span",{className:"scr",children:[de[e]," (",d,")"]}),t.jsxs("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:[de[e]," (",d,")"]})]})]}),Ve=Array.from({length:C},(s,c)=>c+1).map((s,c)=>t.jsx(r.Fragment,{children:t.jsxs("button",{onClick:()=>{j(1),B(s)},className:`tooltip-wrap ${a["fetch-page-button"]} ${s===l?a.active:""}`,"data-current":s===l?Je[e]:"",disabled:c===l-1||s>C,children:[s,t.jsxs("span",{className:"tooltip above narrow2",children:[le[e]," ",s]})]})},s)),ne=t.jsxs(t.Fragment,{children:[t.jsxs("p",{className:a["batch-paragraph"],children:[Xe[e]," ",w," ",Ye[e],":"]}),t.jsxs("div",{id:`${a["fetch-btn-wrap"]}`,className:a["fetch-page-buttons-wrap"],children:[l!==1&&t.jsxs("button",{className:`reset ${a["fetch-more-btn"]}`,onClick:()=>B(s=>s-1),children:["« ",H[e]]}),Ve,l!==C&&t.jsxs("button",{className:`reset ${a["fetch-more-btn"]}`,onClick:()=>B(s=>s+1),children:[W[e]," »"]}),h===d&&l>=C&&t.jsx("p",{className:`${a["end-message"]}`,children:es[e]})]})]}),Fe=s=>{J(s),F("search-container","start"),i($(`${fs[e]}: ${js[e]}: ${s}`,!1,4))};return t.jsxs("div",{id:"search-container",className:a["search-container"],children:[t.jsx("section",{className:`card ${a["settings-section"]}`,children:t.jsxs("div",{children:[t.jsxs("div",{className:`tooltip-wrap ${a["wordcloud-wrap"]}`,onMouseMove:Ie,onMouseLeave:De,children:[t.jsx(r.Suspense,{fallback:t.jsxs("div",{className:"flex center margin0auto textcenter",children:[k[e],"..."]}),children:t.jsx($s,{language:e,title:ss[e],onClick:Fe,words:p>700?Ps:p>500?ks:Os,width:p<300?p-20:p<600?p-80:p-p/100*30,height:p<300?900:p<500?800:500})}),V.visible&&t.jsx("span",{className:"tooltip narrow",style:{top:V.y,left:V.x,right:"unset"},children:ts[e]})]}),t.jsxs("form",{onSubmit:ze,children:[t.jsxs("div",{className:a["search-wrap"],children:[t.jsx("h2",{children:g[e]}),t.jsxs("div",{className:a.column,children:[t.jsx("div",{className:`input-wrap ${a["input-wrap"]}`,children:t.jsxs("label",{children:[t.jsx("input",{name:"search",type:"text",maxLength:100,value:x,onChange:s=>J(s.target.value),placeholder:as[e]}),t.jsx("span",{children:g[e]})]})}),f!=="video"&&t.jsx(u,{z:8,id:"colors",className:`${a.select} ${a.colors}`,multiple:!0,instructions:rs[e],value:N,onChange:s=>we(s),options:Ee,language:e})]}),t.jsxs("div",{className:a["controls-wrap"],children:[t.jsx(u,{z:7,id:"result-type",className:`${a.select} ${a["result-type"]}`,hideDelete:!0,instructions:is[e],value:se.find(s=>s.value===f)||{label:S[e],value:"all"},onChange:s=>me(s==null?void 0:s.value),options:se,language:e}),f==="video"?t.jsx(u,{z:6,id:"result-type",className:`${a.select} ${a["result-type"]}`,hideDelete:!0,instructions:os[e],value:Y.find(s=>s.value===E)||{label:S[e],value:"all"},onChange:s=>ue(s==null?void 0:s.value),options:Y,language:e}):t.jsx(u,{z:5,id:"orientation",className:`${a.select} ${a.orientation}`,instructions:cs[e],hideDelete:!0,value:te.find(s=>s.value===O)||{label:S[e],value:"all"},onChange:s=>ve(s==null?void 0:s.value),options:te,language:e}),t.jsx(u,{z:4,id:"category",className:`${a.select} ${a.category}`,hideDelete:!0,instructions:ns[e],value:A.find(s=>s.value===R)||{label:S[e],value:""},onChange:s=>Ne(s==null?void 0:s.value),options:A,language:e}),t.jsx(u,{z:3,id:"order-by",className:`${a.select} ${a["order-by"]}`,hideDelete:!0,instructions:ls[e],value:ee.find(s=>s.value===z)||{label:"Popular",value:"popular"},onChange:s=>$e(s==null?void 0:s.value),options:ee,language:e})]})]}),t.jsxs("div",{className:`${a["checkbox-wrap"]}`,children:[t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:D,onChange:s=>Me(s.target.checked)}),hs[e]," (Pixabay)"]}),t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:I,onChange:s=>Te(s.target.checked)}),ds[e]]})]}),t.jsxs("div",{className:a["submit-wrap"],children:[t.jsx(u,{z:2,id:"text-type",className:`${a.select} ${a["text-type"]}`,hideDelete:!0,instructions:ps[e],value:X.find(s=>s.value===L)||{label:S[e],value:""},onChange:s=>xe(s==null?void 0:s.value),options:X,language:e}),t.jsx(u,{z:1,id:"images-per-page",className:`${a.select} ${a["images-per-page"]}`,hideDelete:!0,instructions:ms[e],value:ie.find(s=>s.value===m)||{label:"20",value:20},onChange:s=>{Pe(Number(s==null?void 0:s.value))},options:ie,language:e}),t.jsx("button",{type:"submit",disabled:_,children:f==="video"?us[e]:g[e]})]}),f==="vector"&&t.jsxs("p",{className:`textcenter flex center   ${a.note}`,children:[vs[e]," ",xs[e]]})]})]})}),n.length>0&&t.jsx("section",{className:`card ${a["image-section"]}`,children:t.jsxs("div",{children:[_&&t.jsxs("p",{className:"textcenter flex center margin0auto textcenter",children:[k[e],"..."]}),Z&&t.jsx("p",{className:a.error,children:Z}),ce(),t.jsx("div",{id:"image-container",className:a["image-container"],children:Be.map(s=>t.jsx(r.Fragment,{children:"videos"in s?t.jsx(r.Suspense,{fallback:t.jsxs("div",{className:"flex center margin0auto textcenter",style:{width:"100%",height:"auto",aspectRatio:s.videos.small.width/s.videos.small.height},children:[k[e],"..."]},`key-${s.id}`),children:t.jsx(As,{video:s,language:e,show:v,searchTerm:x,textType:L},s.id)}):t.jsx(r.Suspense,{fallback:t.jsxs("div",{className:"flex center margin0auto textcenter",style:{width:"100%",height:`${s.previewHeight}px`,aspectRatio:s.previewWidth/s.previewHeight},children:[k[e],"..."]},`key-${s.id}`),children:t.jsx(Ls,{image:s,language:e,show:v,searchTerm:x,textType:L},s.id)})},s.id))}),ce(),h===1&&l>1&&ne,h===d&&l<=C&&ne]})})]})},Ws=Object.freeze(Object.defineProperty({__proto__:null,default:Rs},Symbol.toStringTag,{value:"Module"}));export{Ws as I,Ts as u};
