const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginRegisterCombo-Cq8WPZx_.js","assets/react-kX_YxI4E.js","assets/dom-to-image-more-CfDXlNbO.js","assets/index-DXi6uXCT.js","assets/react-dom-B5MLDbn_.js","assets/scheduler-CzFDRTuY.js","assets/react-redux-BEmJlIGA.js","assets/hoist-non-react-statics-DQogQWOa.js","assets/react-is-DUDD-a5e.js","assets/use-sync-external-store-BPp6CH6k.js","assets/@reduxjs-DhFEcpJw.js","assets/immer-C0GRqQ_d.js","assets/redux-CE3tqztX.js","assets/@babel-DF5_wy6Y.js","assets/redux-thunk-CY0Q9z1Q.js","assets/axios-CCb-kr4I.js","assets/react-icons-D7bD3W54.js","assets/react-router-dom-StiqOUIT.js","assets/react-router-DUuhLvki.js","assets/@remix-run-DTnHqtaE.js","assets/index-Dgb_yWai.css","assets/quiz.module-DCrCubZg.js","assets/quiz-Bmyx5hYj.css","assets/quiz-BgDInUK-.js"])))=>i.map(i=>d[i]);
import{_ as b,u as L,i as F,g as A,o as x,c as y,p as O,l as P,e as T}from"./index-DXi6uXCT.js";import{r as n,j as s}from"./react-kX_YxI4E.js";import{a as j}from"./react-redux-BEmJlIGA.js";import{s as E}from"./quiz.module-DCrCubZg.js";import{p as k,q as $,r as B,s as D,t as M,u as Q,v as R,w as C,o as H,h as I,g as J,f as U,x as _,y as G,z as V,A as Y,B as K,C as X}from"./quiz-BgDInUK-.js";import{a as Z}from"./react-router-DUuhLvki.js";import"./react-dom-B5MLDbn_.js";import"./dom-to-image-more-CfDXlNbO.js";import"./scheduler-CzFDRTuY.js";import"./@reduxjs-DhFEcpJw.js";import"./immer-C0GRqQ_d.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./axios-CCb-kr4I.js";import"./react-icons-D7bD3W54.js";import"./react-router-dom-StiqOUIT.js";import"./@remix-run-DTnHqtaE.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-BPp6CH6k.js";const g=n.lazy(()=>b(()=>import("./LoginRegisterCombo-Cq8WPZx_.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]))),vs=({language:e})=>{const{points:a,highscores:f,finalSeconds:i}=j(t=>t.questions),{mode:o}=j(t=>t.difficulty),h=+(a*100/300).toFixed(1),p=Z(),[W,S]=n.useState(!1),[ss,z]=n.useState(!1);n.useState(""),n.useState(""),n.useState(""),n.useState("");const q=i%60,v=Math.floor(i/60),d=L(),r=j(t=>{var c;return(c=t.auth)==null?void 0:c.user});n.useEffect(()=>{d(F())},[]),n.useEffect(()=>{i===0&&p("/portfolio/quiz")},[]);const N=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";n.useEffect(()=>{(!r&&a!==0&&i!==0||i===void 0)&&localStorage.setItem(`${N?"local-":""}quiz-highscores`,JSON.stringify(f)),(r!=null&&r._id&&a!==0&&i!==0||r!=null&&r._id&&i!==void 0)&&d(A(r._id)).then(t=>{if(t===null){const c={highscores:{...f,[o]:{score:a,time:i}},user:r._id};d(x(k[e],!1,3)),d(y(c)).then(m=>{d(O(r._id)).then(u=>{})})}else if(t!==null&&t.highscores[o].score<=a){const c={highscores:{...t.highscores,[o]:{score:a,time:t.highscores[o].time}},user:r._id};t.highscores[o].score<a?(d(x(k[e],!1,3)),c.highscores[o].time=i):t.highscores[o].score===a&&t.highscores[o].time>i&&(d(x($[e],!1,3)),c.highscores[o].time=i),d(y(c)).then(m=>{})}})},[]);let l;switch(!0){case h===100:l=Q[e];break;case(h>=80&&h<100):l=M[e];break;case(h>=50&&h<80):l=D[e];break;case(h>=0&&h<50):l=B[e];break;default:l=""}n.useEffect(()=>{const t=document.querySelector(".login-wrap .open"),c=document.querySelector(".login-wrap .close"),m=document.querySelector(".register-wrap .open"),u=document.querySelector(".register-wrap .close");t==null||t.addEventListener("click",()=>{S(!0)}),c==null||c.addEventListener("click",()=>{S(!1)}),m==null||m.addEventListener("click",()=>{z(!0)}),u==null||u.addEventListener("click",()=>{z(!1)})},[]);const w=()=>{p("/portfolio/quiz")};return s.jsx(s.Fragment,{children:i!==0&&s.jsx(s.Fragment,{children:s.jsx("section",{className:`card ${E.top}`,children:s.jsxs("div",{children:[s.jsxs("div",{className:`${E.quiz}`,children:[s.jsx("h1",{className:E.h1,children:s.jsxs("a",{href:"#",onClick:w,children:["« ",P[e]]})}),s.jsx("h2",{children:l}),s.jsxs("p",{className:"result",children:[R[e]," ",s.jsx("strong",{children:a})," ",C[e]," (",h,"%)"]}),s.jsxs("p",{children:[H[e],":"," ",(()=>{switch(o){case"easy":return U[e];case"medium":return J[e];case"hard":return I[e];default:return o}})()]}),s.jsx("p",{children:i===0?s.jsxs(s.Fragment,{children:[_[e],": ",G[e]]}):s.jsxs(s.Fragment,{children:[_[e],": ",v<10&&"0",v,":",q<10&&"0",q]})}),s.jsxs("p",{className:"highscore",children:["(",V[e],": ",f[o].score," ",Y[e],")"]}),s.jsxs("div",{className:`${E.reset}`,children:[s.jsx("button",{className:"btn",onClick:()=>p("/portfolio/quiz"),children:K[e]}),s.jsx("button",{className:"btn",onClick:()=>p(`/portfolio/quiz/difficulty/${o}`),children:X[e]})]})]}),s.jsx(n.Suspense,{fallback:s.jsxs("div",{className:"flex center margin0auto textcenter",children:[T[e],"..."]}),children:s.jsx(g,{language:e,user:r,highscoresLocal:f,text:"quizfinish"})})]})})})})};export{vs as default};
