const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CardTypeButton-BCkxJKl0.js","assets/react-B6RMQhYh.js","assets/dom-to-image-more-sr33WCep.js","assets/react-icons-CHi_nPWV.js","assets/main-_oimaMDG.js","assets/react-dom-DKT7fI1i.js","assets/scheduler-C323NY8X.js","assets/react-redux-CQ4WY322.js","assets/hoist-non-react-statics-C-Qo8PK8.js","assets/react-is-BwqtTtay.js","assets/use-sync-external-store-w3cjJFH7.js","assets/@reduxjs-CJhiLCiq.js","assets/redux-BXkGT1VS.js","assets/immer-BGhKXxrG.js","assets/redux-thunk-ClJT1hhx.js","assets/axios-ngrFHoWO.js","assets/react-router-dom-_ze6FMLH.js","assets/react-router-hVrguzn3.js","assets/@remix-run-CeDW-7A3.js","assets/react-helmet-async-DQ_5QNst.js","assets/react-fast-compare-BHbKlhN4.js","assets/invariant-B_pwkeTo.js","assets/shallowequal-C7ef0Lra.js","assets/main-DPWMNifH.css","assets/GridSizeButton-CuRNP29F.js","assets/PlayerAmountButton-BMsUX9wO.js","assets/GameGrid-BnkXoqhP.js"])))=>i.map(i=>d[i]);
import{L as fe,q as Ae,u as Ie,K as Le,l as Oe,r as oe,j as Te,e as G,N as ze,A as Me,_ as Q}from"./main-_oimaMDG.js";import{a as l,j as e}from"./react-B6RMQhYh.js";import{Q as J,U as Be,V as Re,W as Ue,X as Ge,Y as ye,Z as Ke,_ as We,$ as Ve,a0 as Ye,a1 as Je,a2 as Qe,a3 as Xe,a4 as Ze,a5 as es,a6 as ss,a7 as as,a8 as ts,a9 as rs,aa as ns,ab as is,ac as cs,ad as os,ae as ls,af as ds,ag as hs,ah as ms,ai as us,aj as gs,ak as xs,al as ps,am as js,an as _s,ao as fs,ap as ys,aq as vs,ar as Ss,as as ks,at as $s,au as bs,av as Fs,aw as Ns,ax as ws,ay as Cs,az as Hs,aA as Ps,aB as Es,aC as qs,aD as Ds,aE as As,aF as Is,aG as Ls,aH as Os,l as Ts,aI as zs,aJ as Ms}from"./react-icons-CHi_nPWV.js";import{a as L}from"./axios-ngrFHoWO.js";import{a as Bs}from"./react-redux-CQ4WY322.js";const Rs="_sectioncard_4rqkr_21",Us="_game_4rqkr_53",Gs="_container_4rqkr_69",Ks="_modal_4rqkr_71",Ws="_settings_4rqkr_85",Vs="_size8_4rqkr_129",Ys="_size10_4rqkr_131",Js="_light_4rqkr_183",Qs="_grid_4rqkr_121",Xs="_card_4rqkr_229",Zs="_flipped_4rqkr_289",ea="_front_4rqkr_289",sa="_flip_4rqkr_289",aa="_back_4rqkr_301",ta="_header_4rqkr_497",ra="_time_4rqkr_865",na="_select_4rqkr_937",ia="_active_4rqkr_1083",ca="_finish_4rqkr_1255",oa="_close_4rqkr_1291",la="_big_4rqkr_1305",h={"game-container":"_game-container_4rqkr_1",sectioncard:Rs,game:Us,container:Gs,modal:Ks,settings:Ws,"player-names-wrap":"_player-names-wrap_4rqkr_111","grid-wrap":"_grid-wrap_4rqkr_121",size8:Vs,size10:Ys,light:Js,grid:Qs,card:Xs,flipped:Zs,front:ea,flip:sa,back:aa,"flip-back":"_flip-back_4rqkr_1","flipped-over":"_flipped-over_4rqkr_313",header:ta,"game-over":"_game-over_4rqkr_513","high-scores":"_high-scores_4rqkr_525","new-score":"_new-score_4rqkr_637","title-svg":"_title-svg_4rqkr_787","title-icon":"_title-icon_4rqkr_795","time-wrap":"_time-wrap_4rqkr_865",time:ra,"delete-btn":"_delete-btn_4rqkr_907","delete-name-form":"_delete-name-form_4rqkr_915",select:na,"player-names":"_player-names_4rqkr_111","set-card-type":"_set-card-type_4rqkr_961","set-players":"_set-players_4rqkr_979","set-grid":"_set-grid_4rqkr_981",active:ia,"set-handedness":"_set-handedness_4rqkr_1109",finish:ca,"edit-wrap":"_edit-wrap_4rqkr_1261",close:oa,big:la};var E=(r=>(r.letters="letters",r.numbers="numbers",r.icons="icons",r))(E||{}),M=(r=>(r.solo="solo",r.duet="duet",r))(M||{});const da=(r,s)=>{const[y,$]=l.useState(0),v=l.useCallback(()=>{$(0)},[]);return l.useEffect(()=>{let T;if(r){$(0);const C=100,B=.1;T=setInterval(()=>{$(f=>{const R=f+B;return parseFloat(R.toFixed(1))})},C)}return()=>{T&&clearInterval(T)}},[r,s]),{timer:y,resetTimer:v}},ha="https://bg.jenniina.fi",O=`${ha}/api/highscores`,ma=async(r,s)=>(await L.post(`${O}/${r}/key/${s.levelKey}`,s)).data,ua=async(r,s)=>(await L.get(`${O}/${r}/key/${s}`)).data,ga=async r=>(await L.get(`${O}/${r}`)).data,xa=async(r,s)=>(await L.delete(`${O}/${r}/id/${s}`)).data,pa=async(r,s,y)=>(await L.put(`${O}/${r}/id/${s._id}?userID=${y}`,s)).data,ja=async(r,s,y)=>(await L.delete(`${O}/${r}/player/${s}?userID=${y}`)).data,_a=async(r,s)=>(await L.post(`${O}/${r}/cleanup/${s}`)).data,fa=async(r,s,y,$)=>(await L.put(`${O}/${r}/player?userID=${$}`,{oldName:s,newName:y})).data,z={addHighScore:ma,getHighScoresByLevel:ua,getAllHighScores:ga,deleteHighScore:xa,updateHighScore:pa,deleteHighScoresByPlayerName:ja,changePlayerName:fa,cleanUpHighScores:_a},pe=localStorage.getItem("AppLanguage"),I=pe?pe.replace(/"/g,""):"en",ya=()=>{const{t:r}=l.useContext(fe),[s,y]=l.useState({}),[$,v]=l.useState(!0),[T,C]=l.useState(null);l.useEffect(()=>{(async()=>{try{const o=await z.getAllHighScores(I),n={};o.forEach(i=>{const[c,...g]=i.levelKey.split("_"),d=g.join("_");n[c]||(n[c]={}),n[c][d]||(n[c][d]=[]),n[c][d].push(i)}),Object.keys(n).forEach(i=>{Object.keys(n[i]).forEach(c=>{n[i][c]=n[i][c].sort((g,d)=>g.time-d.time).slice(0,5)})}),y(n)}catch(o){console.error(r("ErrorRetrievingHighScores"),o),C(r("ErrorRetrievingHighScores"))}finally{v(!1)}})()},[I]);const B=async j=>{try{const o=await z.addHighScore(I,j);if(o.highScore){const[n,...i]=o.highScore.levelKey.split("_"),c=i.join("_");return y(g=>{const d={...g};d[n]||(d[n]={}),d[n][c]||(d[n][c]=[]);const _=d[n][c]||[],N=_.findIndex(P=>{var w;return P._id===((w=o.highScore)==null?void 0:w._id)});let k;return N!==-1?(k=[..._],o.highScore&&(k[N]=o.highScore)):o.highScore?k=[..._,o.highScore]:k=[..._],k=k.sort((P,w)=>P.time-w.time).slice(0,5),d[n][c]=k,d}),await Z(),o.highScore}else return}catch{C("Failed to add high score.");return}},f=async j=>{try{const o=await z.getHighScoresByLevel(I,j);return o.sort((n,i)=>n.time-i.time),o.slice(0,5)}catch(o){return console.error(r("ErrorRetrievingHighScores"),o),C(r("ErrorRetrievingHighScores")),[]}},R=async j=>{try{const o=await z.deleteHighScore(I,j);o.success?y(n=>{const i={};return Object.keys(n).forEach(c=>{i[c]={...n[c]},Object.keys(i[c]).forEach(g=>{i[c][g]=i[c][g].filter(d=>d._id!==j)})}),i}):console.error(r("ErrorDeletingHighScore"),o.message)}catch(o){console.error(r("ErrorDeletingHighScore"),o),C(r("ErrorDeletingHighScore"))}},V=async(j,o)=>{try{const n=await z.updateHighScore(I,j,o);if(n.success&&n.highScore){const i=n.highScore,[c,...g]=i.levelKey.split("_"),d=g.join("_");y(_=>{_[c]||(_[c]={}),_[c][d]||(_[c][d]=[]);const N=_[c][d]||[],k=N.findIndex(P=>P._id===i._id);if(k!==-1){const P=[...N];P[k]=i;const w=P.sort((Y,ee)=>Y.time-ee.time).slice(0,5);return{..._,[c]:{..._[c],[d]:w}}}return _}),console.log(r("HighScoreUpdatedSuccessfully"))}else console.error(r("ErrorUpdatingHighScore"),n.message)}catch(n){console.error(r("ErrorUpdatingHighScore"),n),C(r("ErrorUpdatingHighScore"))}},b=async(j,o)=>{try{const n=await z.deleteHighScoresByPlayerName(I,j,o);n.success?y(i=>{const c={};return Object.keys(i).forEach(g=>{c[g]={},Object.keys(i[g]).forEach(d=>{c[g][d]=i[g][d].filter(_=>!_.players.some(N=>N.name===j))})}),c}):console.error(r("ErrorDeletingHighScore"),n.message)}catch(n){console.error(r("ErrorDeletingHighScore"),n),C(r("ErrorDeletingHighScore"))}},X=j=>{const n=[...j.players].sort((i,c)=>i.name.localeCompare(c.name)).map(i=>`${i.name}:${i.score}`).join("-");return`${j.levelKey}_${j.time}-${n}`},Z=async()=>{const j=Object.values(s).flatMap(n=>Object.values(n)).flat(),o={};j.forEach(n=>{const i=X(n);o[i]||(o[i]=[]),o[i].push(n)});for(const n in o){const i=o[n];if(i.length>1){i.sort((d,_)=>new Date(_.createdAt??0).getTime()-new Date(d.createdAt??0).getTime());const[c,...g]=i;for(const d of g)d._id&&await R(d._id)}}};return{highScores:s,addHighScore:B,getHighScoresByLevel:f,deleteHighScore:R,updateHighScore:V,deleteHighScoresByPlayerName:b,changePlayerName:async(j,o,n)=>{try{await z.changePlayerName(I,j,o,n),y(i=>{const c={};return Object.keys(i).forEach(g=>{c[g]={},Object.keys(i[g]).forEach(d=>{c[g][d]=i[g][d].map(_=>{const N=_.players.map(k=>k.name===j?{...k,name:o}:k);return{..._,players:N}})})}),c})}catch(i){console.error("Failed to change player name.",i)}},loading:$,error:T}},je=l.memo(({timer:r})=>e.jsxs("span",{children:[r.toFixed(1),"s"]})),va=l.lazy(()=>Q(()=>import("./CardTypeButton-BCkxJKl0.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]))),Sa=l.lazy(()=>Q(()=>import("./GridSizeButton-CuRNP29F.js"),__vite__mapDeps([24,1,2,4,5,6,7,8,9,10,11,12,13,14,15,3,16,17,18,19,20,21,22,23]))),ka=l.lazy(()=>Q(()=>import("./PlayerAmountButton-BMsUX9wO.js"),__vite__mapDeps([25,1,2,4,5,6,7,8,9,10,11,12,13,14,15,3,16,17,18,19,20,21,22,23]))),$a=l.lazy(()=>Q(()=>import("./GameGrid-BnkXoqhP.js"),__vite__mapDeps([26,1,2,4,5,6,7,8,9,10,11,12,13,14,15,3,16,17,18,19,20,21,22,23]))),_e=[e.jsx(Ke,{}),e.jsx(We,{}),e.jsx(Ve,{}),e.jsx(Ye,{}),e.jsx(Je,{}),e.jsx(Qe,{}),e.jsx(Xe,{}),e.jsx(Ze,{}),e.jsx(es,{}),e.jsx(ss,{}),e.jsx(as,{}),e.jsx(ts,{}),e.jsx(rs,{}),e.jsx(ns,{}),e.jsx(is,{}),e.jsx(cs,{}),e.jsx(os,{}),e.jsx(ls,{}),e.jsx(ds,{}),e.jsx(hs,{}),e.jsx(ms,{}),e.jsx(us,{}),e.jsx(gs,{}),e.jsx(xs,{}),e.jsx(ps,{}),e.jsx(ye,{}),e.jsx(js,{}),e.jsx(_s,{}),e.jsx(fs,{}),e.jsx(ys,{}),e.jsx(vs,{}),e.jsx(Ss,{}),e.jsx(ks,{}),e.jsx($s,{}),e.jsx(bs,{}),e.jsx(Fs,{}),e.jsx(Ns,{}),e.jsx(ws,{}),e.jsx(Cs,{}),e.jsx(Hs,{}),e.jsx(Ps,{}),e.jsx(Es,{}),e.jsx(qs,{}),e.jsx(Ds,{}),e.jsx(As,{}),e.jsx(Is,{}),e.jsx(Ls,{}),e.jsx(Os,{}),e.jsx(Ts,{}),e.jsx(zs,{}),e.jsx(Ms,{})],ba=["solo","duet"],Fa=({language:r})=>{const{t:s}=l.useContext(fe),y=Ae(),$=Ie(),v=Bs(a=>{var t;return(t=a.auth)==null?void 0:t.user}),{show:T}=Le(),C=Oe();l.useEffect(()=>{},[]);const B=[{value:E.icons,label:s("Icons")},{value:E.numbers,label:s("Numbers")},{value:E.letters,label:s("Letters")}],[f,R]=oe("memoryCardType",B[0]),V=[{value:4,icon:"4 × 4",label:`${s("Beginner")}`},{value:6,icon:"6 × 6",label:`${s("Usual")}`},{value:8,icon:"8 × 8",label:`${s("Advanced")}`},{value:10,icon:"10 × 10",label:`${s("Expert")}`}],[b,X]=oe("memoryGrid",V[1]),Z=[1,2],[H,j]=oe("memoryPlayers",[{id:1,name:`${s("Player")} 1`,score:0}]),[o,n]=l.useState(""),[i,c]=l.useState(0),[g,d]=l.useState([]),[_,N]=l.useState([]),[k,P]=l.useState([]),[w,Y]=l.useState([]),[ee,se]=l.useState(!1),[D,ae]=l.useState(!1),[ve,le]=l.useState(!1),{timer:te,resetTimer:Se}=da(ve,"1ms"),{highScores:K,addHighScore:ke,deleteHighScore:$e,deleteHighScoresByPlayerName:be,changePlayerName:Fe,loading:re,error:W}=ya(),[Ne,de]=l.useState(!1),[ne,we]=l.useState(!1),[he,Ce]=l.useState(null),{windowWidth:U}=Te(),me=()=>{let a=[];const t=b?Number(b.value)*Number(b.value)/2:0;if((f==null?void 0:f.value)===E.letters){const u=Array.from({length:t},(p,x)=>{const F=65+x%26;return Math.floor(x/26)%2===0?String.fromCharCode(F):String.fromCharCode(F+32)});a=[...u,...u]}else if((f==null?void 0:f.value)===E.numbers){const u=Array.from({length:t},(p,x)=>x.toString());a=[...u,...u]}else if((f==null?void 0:f.value)===E.icons){const p=[..._e].sort(()=>Math.random()-.5).slice(0,t);a=[...p,...p]}const m=a.map((u,p)=>({value:u,id:p})).sort(()=>Math.random()-.5).slice(0,b?Number(b.value)*Number(b.value):0);d(m),N([]),Y([]),ae(!0),le(!0),Se(),j(u=>u.map(p=>({...p,score:0}))),c(0),de(!1)},ue=(a,t,m)=>`${m}_${a}x${a}_${t}`,He=async()=>{de(!0),ae(!1);const a=H.length===1?"solo":"duet",m={levelKey:ue(Number(b.value),f.value,a),time:te,players:H,size:Number(b.value),type:f.value},u=await ke(m);u&&(Ce(u._id||null),we(!0)),P([])};l.useEffect(()=>{if(ne){const a=H.length===1?"solo":"duet",t=ue(Number(b.value),f.value,a);setTimeout(()=>{const[m,...u]=t.split("_");u.join("_"),T({title:s("YouMadeItToTheHighScores"),className:"",children:e.jsxs("div",{id:"high-scores",className:`${h.modal} ${C?h.light:""}`,children:[e.jsx("h3",{children:s("YouMadeItToTheHighScores")}),e.jsx("div",{className:`${h["high-scores"]}`,children:(()=>{const p=H.length===1?M.solo:M.duet;let x="";return p===M.solo?x=s("Solo"):p===M.duet&&(x=s("Duet")),e.jsxs(e.Fragment,{children:[e.jsx("h4",{children:x},p),re&&e.jsxs("p",{className:"flex center margin0auto textcenter",children:[s("Loading"),"..."]}),W&&e.jsxs("p",{children:[W," — ",s("TryWithADifferentBrowser")]}),Object.keys(K[p]||{}).sort().map(F=>{var S,A;return e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("h5",{children:ge(`${F}`)}),e.jsx("ol",{children:(A=(S=K[p])==null?void 0:S[F])==null?void 0:A.map((q,ie)=>e.jsx("li",{className:q._id===he?h["new-score"]:"",children:e.jsxs("div",{children:[e.jsx("span",{children:q.players.map(ce=>e.jsxs("span",{children:[ce.name,": ",ce.score," "]},ce.id))}),e.jsxs("i",{className:h.time,children:[q.time.toFixed(1),"s"]})]})},q._id||`${ie}-${q.time.toFixed(1)}`))})]})},`${p}-${F}`)})]})})()})]})})},0)}else ne||G(s("GoodJob"),!1,5)},[K,ne,he,re,W]);const Pe=a=>{if(!(ee||_.includes(a)||w.includes(a))&&(N(t=>[...t,a]),_.length===1)){se(!0);const t=_[0],m=a,u=g[t],p=g[m];u.value===p.value?(Y(x=>[...x,t,m]),j(x=>x.map((F,S)=>S===i?{...F,score:F.score+1}:F)),N([]),se(!1)):setTimeout(()=>{N([]),P(x=>[...x,t,m]),se(!1),c(x=>(x+1)%H.length)},800)}};l.useEffect(()=>{D&&w.length===g.length&&g.length>0&&!Ne&&(le(!1),setTimeout(()=>{He()},1e3))},[D,w,g]);const Ee=a=>(f==null?void 0:f.value)===E.icons?a.value:e.jsx("span",{children:a.value}),qe=(a,t)=>{if(/[^\p{L}0-9 ]/gu.test(t)){$(G(s("SpecialCharactersNotAllowed"),!0,5));return}const p=t.replace(/[^\p{L}0-9 ]/gu,"").trim();j(x=>x.map((F,S)=>S===a?{...F,name:p||`${s("Player")} ${S+1}`}:F))},De=a=>{j(t=>Array.from({length:a},(u,p)=>{const x=t[p];return x?{...x,id:p+1}:{id:p+1,name:`${s("Player")} ${p+1}`,score:0}})),c(0)};l.useEffect(()=>{const a=_e.map(m=>m.type.displayName||m.type.name),t=a.filter((m,u)=>a.indexOf(m)!==u);t.length>0&&console.log("Duplicate Icons Found:",t)},[]);const ge=a=>{const t=a.split("_");let m="",u=e.jsx(e.Fragment,{});return t[1]===E.numbers?(u=e.jsx("span",{className:h["title-svg"],children:e.jsx(Ue,{"aria-hidden":"true"})}),m=s("Numbers")):t[1]===E.letters?(u=e.jsx("span",{className:h["title-svg"],children:e.jsx(Ge,{"aria-hidden":"true"})}),m=s("Letters")):t[1]===E.icons&&(u=e.jsx("span",{className:h["title-icon"],children:e.jsx(ye,{"aria-hidden":"true"})}),m=s("Icons")),e.jsxs(e.Fragment,{children:[t[0]," ",u," ",e.jsx("br",{}),m]})};l.useEffect(()=>{D&&ze("game")},[D]);const xe=15;return e.jsxs("div",{id:h["game-container"],className:`${h.container} ${C?h.light:""}`,children:[!D&&w.length===g.length&&g.length>0&&e.jsx("section",{className:`card ${h.sectioncard}`,children:e.jsx("div",{children:e.jsxs("div",{className:h["game-over"],children:[e.jsx("h2",{children:s("Done")}),e.jsxs("p",{children:[s("TimeTaken"),": ",e.jsx(je,{timer:te})]}),e.jsxs("div",{children:[e.jsxs("h3",{children:[s("Scores"),":"]}),H.map(a=>e.jsxs("p",{children:[a.name,": ",a.score]},a.id))]}),e.jsx("button",{onClick:me,children:s("PlayAgain")})]})})}),!D&&e.jsx("section",{className:`card ${h.sectioncard}`,children:e.jsx("div",{children:e.jsxs("div",{id:"settings",className:h.settings,children:[e.jsx("h2",{className:"scr",children:s("Settings")}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("h3",{children:s("CardType")}),e.jsx("div",{className:h["set-card-type"],children:B.map((a,t)=>e.jsx(l.Suspense,{fallback:e.jsxs("div",{className:"flex center margin0auto textcenter",children:[s("Loading"),"..."]}),children:e.jsx(va,{option:a,isActive:(f==null?void 0:f.value)===a.value,onClick:()=>R(a)},a.value)},t))})]}),e.jsxs("div",{children:[e.jsx("h3",{children:s("GridSize")}),e.jsx("div",{className:h["set-grid"],children:V.map((a,t)=>e.jsx(l.Suspense,{fallback:e.jsxs("div",{className:"flex center margin0auto textcenter",children:[s("Loading"),"..."]}),children:e.jsx(Sa,{option:a,isActive:(b==null?void 0:b.value)===a.value,onClick:()=>X(a)},a.value)},t))})]}),e.jsxs("div",{className:h["player-names-wrap"],children:[e.jsx("h3",{children:s("Players")}),e.jsx("div",{className:h["set-players"],children:e.jsx(e.Fragment,{children:Z.map((a,t)=>e.jsx(l.Suspense,{fallback:e.jsxs("div",{className:"flex center margin0auto textcenter",children:[s("Loading"),"..."]}),children:e.jsx(ka,{language:r,value:a,isActive:H.length===a,onClick:()=>De(a)},a)},t))})}),e.jsxs("div",{className:h["player-names"],children:[e.jsxs("small",{children:[s("PleaseUseGoodTasteWhenChoosingYourNickname"),"."," ",s("ProfanityWillBeRemovedByTheAdmin")]}),H.map((a,t)=>e.jsxs("div",{className:"input-wrap",children:[e.jsxs("label",{children:[e.jsx("input",{type:"text",name:`player-${t}`,value:a.name,onChange:m=>qe(t,m.target.value),maxLength:xe,placeholder:`${s("Player")} ${t+1}`}),e.jsx("span",{children:`${s("Player")} ${t+1} ${s("Name").toLowerCase()}:`})]}),e.jsxs("small",{children:[a.name.length,"/",xe]})]},a.id))]})]})]}),e.jsx("button",{className:h.big,onClick:me,children:s("StartGame")})]})})}),!D&&e.jsx("section",{className:`card ${h.sectioncard} ${h["scores-wrap"]}`,children:e.jsx("div",{children:e.jsxs("div",{id:"high-scores",children:[e.jsxs("h2",{children:[U>400&&e.jsx(J,{"aria-hidden":"true",style:{transform:"scale(0.8, 0.8)"}}),s("HighScores")," ",U>400&&e.jsx(J,{"aria-hidden":"true",style:{transform:"scale(-0.8, 0.8)"}})]}),e.jsxs("p",{className:"textcenter margin0auto",children:[U>200&&e.jsx("span",{"aria-hidden":"true",children:"— "}),s("FastestTime"),U>200&&e.jsx("span",{"aria-hidden":"true",children:" —"})]}),e.jsx("div",{className:h["high-scores"],children:ba.map(a=>{let t="";return a===M.solo?t=s("Solo"):a===M.duet&&(t=s("Duet")),e.jsxs(l.Fragment,{children:[e.jsxs("h3",{children:[U>200&&e.jsx(J,{"aria-hidden":"true",style:{transform:"scale(0.8)"}}),t,U>200&&e.jsx(J,{"aria-hidden":"true",style:{transform:"scale(-0.8)"}})]}),re&&e.jsxs("p",{className:"flex center margin0auto textcenter",children:[s("Loading"),"..."]}),W&&e.jsxs("p",{children:[W," — ",s("TryWithADifferentBrowser")]}),Object.keys(K[a]||{}).sort().map(m=>{var u,p;return e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("h4",{children:ge(`${m}`)}),e.jsx("ol",{children:(p=(u=K[a])==null?void 0:u[m])==null?void 0:p.map((x,F)=>e.jsx("li",{children:e.jsxs("div",{children:[e.jsx("span",{children:x.players.map(S=>e.jsxs(l.Fragment,{children:[e.jsxs("span",{children:[S.name," ",x.players.length>1?`: ${S.score}`:""," "]}),v&&v.role&&v.role>1&&e.jsx(Me,{hideBrackets:!0,language:r,id:`edit-${x._id}`,className:"edit",wrapperClass:`${h["edit-wrap"]}`,text:e.jsx(e.Fragment,{children:e.jsx(Be,{"aria-hidden":"true"})}),isOpen:!1,closeClass:h.close,setIsFormOpen:()=>{},tooltip:s("Edit"),y:"above",children:e.jsx("form",{onSubmit:A=>{A.preventDefault();const q=S.name,ie=A.target.name;Fe(q,ie,v==null?void 0:v._id)},children:e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{children:[e.jsx("input",{type:"text",name:"name",required:!0}),e.jsxs("span",{children:[s("NewName")," (",S.name,"):"]})]})})})})]},S.id))}),e.jsxs("span",{className:`flex ${h["time-wrap"]}`,children:[e.jsxs("i",{className:h.time,children:[x.time.toFixed(1),"s"]}),v&&v.role&&v.role>1&&e.jsx(e.Fragment,{children:e.jsxs("button",{type:"button",className:`danger small tooltip-wrap ${h["delete-btn"]}`,onClick:async()=>{x._id&&await y({message:s("DeleteHighScore")})&&$e(x._id).catch(S=>{var A,q;console.error(S),(q=(A=S.response)==null?void 0:A.data)!=null&&q.message?$(G(S.response.data.message,!0,8)):$(G(S.message,!0,5))})},children:[e.jsx("span",{"aria-hidden":"true",children:e.jsx(Re,{"aria-hidden":"true"})}),e.jsx("span",{className:"tooltip above narrow2",children:s("Delete")})]})})]})]})},`${a}-${m}-${F}-${x.time.toFixed(1)}`))})]})},`${a}-${m}`)})]},a)})}),v&&v.role&&v.role>1&&e.jsxs("form",{className:`${h["delete-name-form"]}`,onSubmit:async a=>{a.preventDefault(),await y({message:s("DeletePlayersHighScores")})&&be(o,v==null?void 0:v._id).then(()=>{n("")}).catch(t=>{var m,u;console.error(t),(u=(m=t.response)==null?void 0:m.data)!=null&&u.message?$(G(t.response.data.message,!0,8)):$(G(t.message,!0,5))})},children:[e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{children:[e.jsx("input",{type:"text",name:"name",value:o,required:!0,onChange:a=>n(a.target.value)}),e.jsxs("span",{children:[s("Name")," (",s("Player"),"):"]})]})}),e.jsx("button",{type:"submit",className:"danger",children:s("Delete")})]})]})})}),D&&e.jsx("section",{className:`card ${h.sectioncard} ${h.game}`,children:e.jsx("div",{children:e.jsxs("div",{id:"game",children:[e.jsxs("div",{className:h.header,children:[e.jsxs("div",{children:[s("Time"),": ",e.jsx(je,{timer:te})]}),e.jsxs("div",{children:[s("Player"),": ",H[i].name," | ",s("Score"),":"," ",H[i].score]})]}),e.jsx(l.Suspense,{fallback:e.jsxs("div",{className:"flex center margin0auto textcenter",children:[s("Loading"),"..."]}),children:e.jsx($a,{language:r,setGameStarted:ae,gridSize:b.value,cards:g,cardType:f,flippedCards:_,flippedOverCards:k,matchedCards:w,handleCardClick:Pe,renderCardContent:Ee})})]})})})]})},Ea=Object.freeze(Object.defineProperty({__proto__:null,default:Fa},Symbol.toStringTag,{value:"Module"}));export{E as C,Ea as M,h as s};
