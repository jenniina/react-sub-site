import{r as u,j as e}from"./react-A9DAvxly.js";import{H as _,cc as w,S as y,cd as h,b_ as S,a$ as $,ce as L,R as n,a_ as g,c4 as R,cf as N,cg as C,bf as D,c5 as F}from"./index-2oR4sV5q.js";import{s as f}from"./edit.module-Tb44_we2.js";import"./hoist-non-react-statics-D5aJipOz.js";import"./react-dom-yh0erWL-.js";import"./scheduler-CzFDRTuY.js";import"./react-redux-CHm9GgGE.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-DEc9BFqZ.js";import"./@reduxjs-DTZ4pglK.js";import"./immer-BNrqi0cU.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./axios-BimPEqV4.js";import"./react-icons-B_BWYIjI.js";import"./react-router-dom-Dz0dtoa0.js";import"./react-router-KETZ66Sq.js";import"./@remix-run-DTnHqtaE.js";import"./uuid-Dv1xt2bl.js";const ee=({user:s,language:a,setLanguage:E,options:x,getKeyByValue:j})=>{const r=_(),[d,p]=u.useState(""),[o,U]=u.useState((s==null?void 0:s.language)??a),b=async i=>{i.preventDefault();try{const v={_id:s._id,name:s.name,passwordOld:d,language:o};s&&r(L(v)).then(t=>{t&&(t.success===!1?r(n(`${g[a]}: ${t.message}`,!0,5)):(r(n(`${t.message??R[o]}`,!1,5)),r(N(t.user)).then(()=>{r(C(s==null?void 0:s._id)).then(()=>r(D())),E(o)}),p("")))}).catch(t=>{var c,l;console.error(t),t.code==="ERR_BAD_REQUEST"&&((l=(c=t.response)==null?void 0:c.data)!=null&&l.message)?r(n(`${g[a]}: ${t.response.data.message}`,!0,5)):setTimeout(()=>{r(n(F[a],!0,5))},2e3)})}catch(m){console.error("error",m)}};return e.jsx(e.Fragment,{children:s?e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:w[a]}),e.jsxs("form",{onSubmit:b,className:f["edit-user"],children:[e.jsx(y,{language:a,id:"language-register",className:`language ${f.language}`,instructions:"Language",hide:!0,options:x(h),value:o?{value:o,label:j(h,o)}:void 0,onChange:i=>{U(i==null?void 0:i.value)}}),e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{children:[e.jsx("input",{required:!0,type:"password",name:"old-password",id:"old-password-user-language",value:d,onChange:({target:i})=>p(i.value.trim())}),e.jsx("span",{children:S[a]})]})}),e.jsx("button",{type:"submit",children:$[a]})]})]}):e.jsx(e.Fragment,{})})};export{ee as default};
