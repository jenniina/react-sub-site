import{r as c,j as s}from"./react-A9DAvxly.js";import{a3 as Fs,a4 as Bs,a5 as Os,a6 as Ts,a7 as Ms,a8 as Is,a9 as Ps,aa as Rs,ab as ks,ac as Us,ad as _s,ae as Ds,af as Vs,Z as Ve,Y as qe,ag as qs,ah as zs,ai as Ws,aj as Hs}from"./react-icons-BGZR1ov-.js";import{L as E,cT as z,K as Ys,dy as oe,bl as Xs,bk as Zs,dv as ze,dz as he,dA as We,dB as ge,dC as Ee,dD as Gs,cU as He,dE as Qs,cW as Ks,cX as et,dF as st,dG as tt,dH as at,S as Q,dI as it,dJ as Se,dK as lt,dL as Ye,dM as nt,c$ as Xe,dN as rt,dO as ct,d2 as Ze,am as dt,dP as ot,dQ as ht,dR as xt,dS as pt,dT as ft,dU as ut,dV as vt,dW as mt,dX as yt,d5 as A,dY as jt,dk as bt,di as Ct,dZ as wt,df as gt,dg as Et,d_ as St,d$ as Lt,e0 as Nt,a$ as $t,e1 as At,e2 as Ge,e3 as Jt,b0 as Ft,b5 as Bt,d6 as Ot,d7 as Tt,dj as Mt,e4 as It,e5 as Pt,e6 as Rt,e7 as kt,e8 as Ut,d0 as _t,dm as Dt,dn as K,e9 as Vt,W,ea as qt,eb as zt,ec as Wt,dw as Ht,ed as Yt,ee as Xt,ef as Zt,eg as Gt,eh as Qt,ei as Kt,ej as ea}from"./index-CKGjDRr5.js";import{a as Qe}from"./react-redux-CHm9GgGE.js";import"./hoist-non-react-statics-D5aJipOz.js";import"./react-dom-yh0erWL-.js";import"./scheduler-CzFDRTuY.js";import"./@reduxjs-DhFEcpJw.js";import"./immer-C0GRqQ_d.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./axios-CCb-kr4I.js";import"./react-router-dom-CYs6befe.js";import"./react-router-S1Hdk0kP.js";import"./@remix-run-DTnHqtaE.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-DEc9BFqZ.js";var sa=(d=>(d.newest="newest",d.oldest="oldest",d))(sa||{});const ba=({user:d,handleDelete:Le,handleUpdate:Ke,language:t,isCheckedSafemode:ee,setIsCheckedSafemode:es,handleToggleChangeSafemode:ss,translateWordLanguage:ts,optionsSortBy:as,getKeyofEnum:H,options:is,norrisCategories:ls,getCategoryInLanguage:se,setIsEditOpen:ns,editId:rs,setEditId:cs,handleRemoveJokeFromBlacklisted:ds,handleBlacklistUpdate:os})=>{var Re;const te=Qe(e=>e.users),p=d==null?void 0:d._id,v=Qe(e=>{var a;return(a=e.jokes)==null?void 0:a.jokes}),[J,hs]=c.useState([]),[xe,xs]=c.useState({}),[j,Y]=c.useState(!1),[X,pe]=c.useState(J),[m,B]=c.useState(!1),[fe,ps]=c.useState([]),[Z,ie]=c.useState(!1),[fs,Ne]=c.useState(0),[F,ue]=c.useState("popularity"),[f,$e]=c.useState(""),[O,le]=c.useState(""),[U,Ae]=c.useState(""),[Je,us]=c.useState(!1),[S,ve]=c.useState(ls[0]),[vs,b]=c.useState(void 0),[me,Fe]=c.useState(E.English),[Be,Oe]=c.useState(z.Misc),[ye,Te]=c.useState("newest"),[ne,ms]=c.useState(!0),[g,ys]=c.useState(3),[re,je]=c.useState(!1),C=Ys();c.useEffect(()=>{if(Array.isArray(v)&&v.length>0&&Array.isArray(te)&&(te==null?void 0:te.length)>0){let e=v==null?void 0:v.map(a=>{const i=d==null?void 0:d.name,l=oe[t][H(E,a.language)];return{...a,visible:!1,translatedLanguage:l??"",name:a.anonymous?"ÖÖÖ_Anonymous":i??""}});e=ee?ee?e.filter(a=>a.safe).sort((a,i)=>{var l,o;return((l=i.user)==null?void 0:l.length)-((o=a.user)==null?void 0:o.length)}):[]:e.filter(a=>a.safe===!1).sort((a,i)=>{var l,o;return((l=i.user)==null?void 0:l.length)-((o=a.user)==null?void 0:o.length)}),hs(e)}},[v,te,t,ee,F,ye,ne]),c.useEffect(()=>{Te(ne?"newest":"oldest")},[ne]);const js=()=>{ms(e=>!e)};c.useEffect(()=>{C(Xs()),C(Zs()),C(ze())},[]),c.useEffect(()=>{const e=O===z.ChuckNorris;us(e)},[O]);const Me=e=>{D(1),$e(e.target.value)},bs=()=>{le(""),Ae(""),ve(_[0]),$e(""),ie(!1),Ne(e=>e+1),ue("popularity"),D(1),es(!0)},Cs=e=>{le(e.value)};c.useEffect(()=>{setTimeout(()=>{const e=document.querySelectorAll(".select-container"),a=(e==null?void 0:e.length)+2;e==null||e.forEach((i,l)=>{const o=a-l;i.style.zIndex=`${o}`})},500)},[m]),c.useEffect(()=>{Y(!p)},[p]);const ws=e=>{xs(a=>({...a,[e]:!a[e]}))};c.useEffect(()=>{D(1);let e=[...J];F==="age"&&(e=[...J].sort((i,l)=>{const o=i.createdAt?new Date(i.createdAt).getTime():0,x=l.createdAt?new Date(l.createdAt).getTime():0;return ye==="newest"?x-o:o-x})),e=e==null?void 0:e.filter(i=>{var l,o,x,y,L,N,T,M,I;if(i){const P=("joke"in i?(l=i.joke)==null?void 0:l.toLowerCase().includes(f.toLowerCase()):!1)||("setup"in i?(o=i.setup)==null?void 0:o.toLowerCase().includes(f.toLowerCase()):!1)||("delivery"in i?(x=i.delivery)==null?void 0:x.toLowerCase().includes(f.toLowerCase()):!1)||((y=i.name)==null?void 0:y.toLowerCase().includes(f.toLowerCase()))||((L=i.category)==null?void 0:L.toLowerCase().includes(f.toLowerCase()))||((N=i.subCategories)==null?void 0:N.includes(f==null?void 0:f.toLowerCase()))||((T=i.translatedLanguage)==null?void 0:T.toLowerCase().includes(f.toLowerCase())),R=O?i.category===O:!0,k=U!==""?i.language===U:!0,r=(S==null?void 0:S.value)!==""&&(S==null?void 0:S.value)!=="any"?(M=i.subCategories)==null?void 0:M.includes(S==null?void 0:S.value):!0;return j&&i.private===!1&&i.verified===!0||j&&i.private===void 0||!j&&((I=i.user)!=null&&I.includes(p))?k&&R&&r&&P:!1}}),e=e==null?void 0:e.filter(i=>{var o;return!((o=d==null?void 0:d.blacklistedJokes)==null?void 0:o.some(x=>x.jokeId===i.jokeId&&x.language===i.language))}),F==="popularity"&&(e=e==null?void 0:e.sort((i,l)=>{var o,x;return((o=l.user)==null?void 0:o.length)-((x=i.user)==null?void 0:x.length)})),F==="category"&&(e=e==null?void 0:e.sort((i,l)=>i.category>l.category?1:-1)),F==="language"&&(e=e==null?void 0:e.sort((i,l)=>i.translatedLanguage>l.translatedLanguage?1:-1)),F==="name"&&(e=e==null?void 0:e.sort((i,l)=>i.name>l.name?1:-1));const a=e.slice(0,g);if(Z&&e.length>0){const i=e[Math.floor(Math.random()*e.length)];pe([i])}else pe(re?a:e)},[j,J,O,U,S,f,Z,fs,ye,F,re,g]);const gs=e=>{let a=e;e==="Chuck Norris"?a="ChuckNorris":e==="Dad Joke"&&(a="DadJoke"),le(a)},Es=e=>{var i;const a=v==null?void 0:v.find(l=>l._id===e);if(!a){C(W(`${qt[t]}`,!0,8));return}if(a){if((i=a.user)!=null&&i.includes(p==null?void 0:p.toString())){C(W(`${zt[t]}`,!1,8));return}C(Wt({...a,user:[...a.user,p]})).then(()=>{C(ze()),C(W(`${Ht[t]}`,!1,8))})}};let _=Array.from(new Set((Re=J==null?void 0:J.filter(e=>e.private===!1&&e.verified===!0||e.private===void 0))==null?void 0:Re.flatMap(e=>e.subCategories))).map(e=>{const a=e?he[e][t]||e:"",i=(a==null?void 0:a.charAt(0).toUpperCase())??e??"",l=(a==null?void 0:a.slice(1))??e??"";return{label:i+l,value:e}});_=_.filter(e=>e.value!=="any"),_.unshift({label:he.any[t].charAt(0).toUpperCase()+he.any[t].slice(1),value:"any"}),c.useEffect(()=>{ve(_[0])},[t]),c.useEffect(()=>{(async()=>{var a;if(Array.isArray(v)&&v.length>0&&d&&(d!=null&&d.blacklistedJokes)){const i=await Promise.all(((a=d==null?void 0:d.blacklistedJokes)==null?void 0:a.map(async l=>{let o=l.value;return(v==null?void 0:v.find(y=>{var L,N;return((L=y.jokeId)==null?void 0:L.toString())===((N=l.jokeId)==null?void 0:N.toString())&&y.language===l.language}))??await Ss(l.jokeId,l.language,o??void 0)}))||[]);ps(i)}})()},[d==null?void 0:d.blacklistedJokes,v]);const G=fe==null?void 0:fe.filter(e=>{var a,i,l,o,x;if(e)return("joke"in e?(a=e.joke)==null?void 0:a.toLowerCase().includes(f.toLowerCase()):!1)||("setup"in e?(i=e.setup)==null?void 0:i.toLowerCase().includes(f.toLowerCase()):!1)||("delivery"in e?(l=e.delivery)==null?void 0:l.toLowerCase().includes(f.toLowerCase()):!1)||((o=e.category)==null?void 0:o.toLowerCase().includes(f.toLowerCase()))||((x=e.subCategories)==null?void 0:x.includes(f==null?void 0:f.toLowerCase()))}),Ss=async(e,a,i)=>{var l,o,x,y,L,N,T,M,I,P,R,k,r,w,q,de,ke,Ue,_e;try{if(i){let $;try{$=await Yt.searchNorrisJoke(i)}catch(h){return(o=(l=h.response)==null?void 0:l.data)!=null&&o.message&&C(W(h.response.data.message,!0,8)),console.error(h),null}finally{return{jokeId:$.id,joke:$.value,category:z.ChuckNorris,language:E.English,type:A.single,safe:!((x=$.categories)!=null&&x.includes("explicit")||(y=$.categories)!=null&&y.includes("political")||(L=$.categories)!=null&&L.includes("religion"))}}}else{const h=await(await fetch(`https://v2.jokeapi.dev/joke/Any?idRange=${e}&lang=${a}&format=json`)).json();if(h.error){const De=await Xt.getDadJokeById(e);return{jokeId:De.id,joke:De.joke,category:z.DadJoke,language:E.English,type:A.single,safe:!0}}else return h.type==="twopart"?{jokeId:h.id,setup:h.setup,delivery:h.delivery,category:h.category,language:h.lang,type:A.twopart,safe:!((N=h.flags)!=null&&N.nsfw||(T=h.flags)!=null&&T.religious||(M=h.flags)!=null&&M.political||(I=h.flags)!=null&&I.racist||(P=h.flags)!=null&&P.sexist||(R=h.flags)!=null&&R.explicit||!h.safe)}:{jokeId:h.id,joke:h.joke,category:h.category,language:h.lang,type:A.single,safe:!((k=h.flags)!=null&&k.nsfw||(r=h.flags)!=null&&r.religious||(w=h.flags)!=null&&w.political||(q=h.flags)!=null&&q.racist||(de=h.flags)!=null&&de.sexist||(ke=h.flags)!=null&&ke.explicit||!h.safe)}}}catch($){return(_e=(Ue=$.response)==null?void 0:Ue.data)!=null&&_e.message&&C(W($.response.data.message,!0,8)),console.error($),null}};c.useEffect(()=>{p||B(!1)},[p]);const[u,D]=c.useState(1),[ce,Ls]=c.useState(10),[Ns,be]=c.useState(1),[$s,Ce]=c.useState(3),ae=e=>{D(e),e<=2?(be(1),Ce(3)):e>=n.length-1?(be(n.length-2),Ce(n.length)):(be(e-1),Ce(e+1))};c.useEffect(()=>{u||D(1)},[u]);const Ie=u*ce,As=Ie-ce,V=X==null?void 0:X.slice(As,Ie),n=[];for(let e=1;e<=Math.ceil((X==null?void 0:X.length)/ce);e++)n==null||n.push(e);const we=n==null?void 0:n.slice(Ns-1,$s);c.useEffect(()=>{u>n.length&&D(1)},[n]);const Js=e=>{navigator.clipboard.writeText(e).then(function(){C(W(`${Zt[t]}`,!1,3))},function(){C(W(`${Gt[t]}`,!0,3))})},Pe=e=>s.jsxs("div",{className:"pagination",children:[(n==null?void 0:n.length)>1&&s.jsx("div",{children:s.jsxs("span",{children:[u," / ",n==null?void 0:n.length]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"chevrons-wrap back",children:[s.jsxs("button",{className:`inner-nav-btn first ${u===1?"disabled":""} ${(n==null?void 0:n.length)<=3?"hidden":""}`,disabled:u===1,onClick:()=>ae(1),children:[s.jsx(qe,{})," ",s.jsx("span",{className:"scr",children:Qt[t]})]}),s.jsx("button",{className:`inner-nav-btn back ${u===1?"disabled":""} ${(n==null?void 0:n.length)<=3?"hidden":""}`,disabled:u===1,onClick:()=>ae(u-1),children:s.jsx(Ws,{})})]}),s.jsx("div",{className:`numbers${(n==null?void 0:n.length)===1?" hidden":""}`,children:we==null?void 0:we.map(a=>s.jsx("button",{className:`${a>9?"over9":a>99?"over99":a>999?"over999":""} ${a===u?"active":""}`,onClick:()=>ae(a),children:a},a))}),s.jsxs("div",{className:"chevrons-wrap forward",children:[s.jsx("button",{className:`inner-nav-btn forward ${u===(n==null?void 0:n.length)?"disabled":""} ${(n==null?void 0:n.length)<=3?"hidden":""}`,disabled:u===(n==null?void 0:n.length),onClick:()=>ae(u+1),children:s.jsx(Hs,{})}),s.jsxs("button",{className:`inner-nav-btn last tooltip-wrap ${u===(n==null?void 0:n.length)?"disabled":""} ${(n==null?void 0:n.length)<=3?"hidden":""}`,disabled:u===(n==null?void 0:n.length),onClick:()=>ae(n==null?void 0:n.length),children:[s.jsx(Ve,{}),s.jsxs("span",{className:"tooltip narrow left below",children:[Kt[t],": ",n==null?void 0:n.length]})]})]})]}),s.jsxs("div",{children:[s.jsx("input",{"aria-labelledby":"items-per-page",className:"items-per-page narrow",name:"items-per-page",id:`items-per-page-input-${e}`,type:"number",min:"1",max:"100",defaultValue:ce,onChange:a=>Ls(a.target.valueAsNumber>0?a.target.valueAsNumber:1)})," ",s.jsx("span",{id:"items-per-page",children:ea[t]})," "]})]});return s.jsxs("div",{className:"saved",id:"saved",children:[p&&s.jsxs("div",{className:"local-saved-wrap",children:[s.jsx("button",{className:`btn${j&&!m?" active":""}`,onClick:()=>{Y(!0),B(!1)},children:j?ge[t]:We[t]}),s.jsx("button",{className:`btn${!j&&!m?" active":""}`,onClick:()=>{Y(!1),B(!1)},children:Ee[t]})]}),s.jsxs("div",{className:"saved-inner",children:[s.jsx("div",{className:"filler"}),s.jsxs("div",{children:[!m&&s.jsxs(s.Fragment,{children:[s.jsx("h3",{children:j?ge[t]:Ee[t]}),j&&s.jsxs("p",{className:"mb3 flex center textcenter",children:[" ",Gs[t]]}),s.jsxs("div",{className:"toggle-wrap",children:[s.jsxs("div",{className:"toggle-inner-wrap",children:[s.jsxs("div",{className:"safemode-wrap",children:[s.jsx(He,{isChecked:ee,name:"safemode",id:"safemode2",className:`${t} ${ee?"":"unsafe"} userjokes safemode`,label:`${Qs[t]}: `,hideLabel:!1,on:Ks[t],off:et[t],handleToggleChange:ss}),F==="age"&&s.jsx(He,{isChecked:ne,name:"age",id:"age",className:`${t} age`,label:`${st[t]}: `,hideLabel:!1,on:tt[t],off:at[t],handleToggleChange:()=>{js()},equal:!0})]}),s.jsx("div",{className:"sortby-wrap",children:s.jsx(Q,{language:t,id:"sortby",className:"sortby",instructions:`${it[t]}:`,options:as(Se),value:{label:Se[F][E[H(E,t)]],value:Se[F][E[H(E,t)]]},onChange:e=>{ue(e==null?void 0:e.value)}})})]}),s.jsxs("div",{className:"toggle-inner-wrap",children:[s.jsx("div",{children:s.jsx(Q,{language:t,id:"joke-languages",className:"language-filter",instructions:`${lt[t]}:`,options:[{label:Ye[t],value:""},...Array.from(new Set(J==null?void 0:J.map(e=>e.language))).map(e=>({label:oe[e][H(E,e)],value:e}))],value:U?{label:oe[U][H(E,U)],value:U}:{label:Ye[t],value:""},onChange:e=>{Ae(e==null?void 0:e.value)}})}),s.jsx("div",{children:s.jsx(Q,{language:t,id:"single-category-select",className:"single-category-select",instructions:`${nt[t]}:`,options:[{label:Xe[t],value:""},...Object.values(z).map(e=>({label:se(e,t),value:e}))],value:O?{label:se(O,t),value:O}:{label:Xe[t],value:""},onChange:e=>{le(e==null?void 0:e.value),Cs(e),gs(e==null?void 0:e.value)}})})]}),s.jsxs("div",{className:"toggle-inner-wrap",children:[s.jsx("div",{children:s.jsx(Q,{language:t,id:"userNorrisCategories",className:`category extras ${Je?"":"hidden"}`,instructions:`${rt[t]}:`,selectAnOption:_[0].label,value:S,options:_,onChange:e=>{ve(e)}})}),s.jsx("div",{className:Je?"search-jokes-wrap":"full search-jokes-wrap",children:s.jsx("div",{className:"search-jokes input-wrap",children:s.jsxs("label",{htmlFor:"search-jokes",children:[s.jsx("input",{type:"text",id:"search-jokes",value:f,onChange:Me,placeholder:ct[t]}),s.jsx("span",{children:Ze[t]})]})})})]})]}),s.jsx("div",{className:"reset-btn-wrap mb3",children:s.jsxs("button",{className:"reset-btn delete danger",onClick:()=>bs(),children:[s.jsx(Fs,{})," ",s.jsx("span",{children:dt[t]})]})})]}),s.jsxs("div",{className:"button-wrap",children:[!m&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{className:`icontext random-btn ${Z?"active":""}`,onClick:()=>{D(1),B(!1),ie(!0),Ne(e=>e+1),je(!1)},children:[ot[t]," ",s.jsx(Bs,{})]})," ",s.jsxs("button",{className:`icontext all-or-latest-btn ${!Z&&!re?"active":""}`,onClick:()=>{ie(!1),B(!1),je(!1)},children:[ht[t]," ",s.jsx(Os,{})]}),s.jsxs("div",{className:"flex center",children:[s.jsxs("button",{className:`icontext all-or-latest-btn ${re?"active":""}`,onClick:()=>{ie(!1),B(!1),Te("newest"),ue("age"),je(!0)},children:[xt[t],s.jsx("span",{className:"scr",children:g})," ",g===3&&s.jsx(Ts,{}),g===4&&s.jsx(Ms,{}),g===5&&s.jsx(Is,{}),g===6&&s.jsx(Ps,{}),g===7&&s.jsx(Rs,{}),g===8&&s.jsx(ks,{}),g===9&&s.jsx(Us,{}),g>9&&s.jsx(_s,{})]}),s.jsxs("div",{children:[s.jsx("input",{type:"number",min:3,max:100,id:"number-of-latest",defaultValue:g,className:"narrow",onChange:e=>{ys(e.target.valueAsNumber)}}),s.jsx("label",{htmlFor:"number-of-latest",className:"scr",children:s.jsx("span",{children:pt[t]})})]})]})]}),d&&s.jsx("button",{className:`blocked-btn danger ${m?"active":""}`,onClick:()=>B(e=>!e),children:m?s.jsxs(s.Fragment,{children:[ft[t]," ",s.jsx(Ds,{})]}):s.jsxs(s.Fragment,{children:[ut[t]," ",s.jsx(Vs,{})]})})]}),!Z&&!m&&Pe(1),d&&m&&(G==null?void 0:G.length)>0?s.jsx("div",{className:"blocked-controls-wrap",children:s.jsx("div",{className:"input-wrap search-blacklist",children:s.jsxs("label",{htmlFor:"searchBlacklistedJokes",children:[s.jsx("input",{id:"searchBlacklistedJokes",type:"text",onChange:Me}),s.jsx("span",{children:Ze[t]})]})})}):m?s.jsx("p",{className:"textcenter",children:vt[t]}):"",s.jsx("ul",{className:`userjokeslist ${m?"blockedJokes":""}`,children:d&&m?G==null?void 0:G.map((e,a)=>{var i,l;return s.jsxs("li",{children:[s.jsx("form",{onSubmit:o=>{var x,y;C(mt(e)),ds(o,e,(y=(x=d==null?void 0:d.blacklistedJokes)==null?void 0:x[a])==null?void 0:y._id)},children:s.jsx("button",{className:"",type:"submit",children:yt[t]})}),e?e.type===A.single?s.jsx("p",{children:e.joke}):s.jsxs("div",{children:[s.jsx("p",{children:e.setup}),s.jsx("p",{children:e.delivery})]}):""]},((l=(i=d==null?void 0:d.blacklistedJokes)==null?void 0:i[a])==null?void 0:l.jokeId)??a)}):V&&(V==null?void 0:V.length)>0?V==null?void 0:V.map(e=>{var o,x,y,L,N,T,M,I,P,R,k;const{visible:a,translatedLanguage:i,...l}=e;return s.jsxs("li",{children:[s.jsx("div",{className:"primary-wrap",children:e.type===A.single?s.jsx("p",{className:"",children:e.joke}):s.jsxs("div",{children:[s.jsx("p",{className:"",children:e.setup}),s.jsx("p",{children:e.delivery?s.jsxs("button",{type:"button",onClick:()=>ws(e.jokeId),className:`${xe[e.jokeId]?"reveal":""} delivery`,children:[s.jsxs("span",{...xe[e.jokeId]?{"aria-hidden":!0}:{"aria-hidden":!1},children:[s.jsx(Ve,{})," ",jt[t]," ",s.jsx(qe,{})]}),s.jsx("p",{"aria-live":"assertive",children:xe[e.jokeId]?e.delivery:""})]}):""})]})}),s.jsxs("div",{className:"secondary-wrap",children:[s.jsxs("div",{children:[s.jsxs("span",{children:[bt[t],":"," ",se(e.category,t)," ",e.subCategories&&((o=e.subCategories)==null?void 0:o.length)>0&&((x=e.subCategories)!=null&&x.find(r=>r!=="any"))?s.jsxs(s.Fragment,{children:["(",(L=(y=e.subCategories)==null?void 0:y.filter(r=>r!=="any"))==null?void 0:L.map(r=>he[r][t].toLowerCase()??r).join(", "),")"]}):""]}),s.jsxs("span",{children:[ts,": ",e.translatedLanguage]}),e.anonymous?s.jsxs("span",{children:[Ct[t]," "]}):e.anonymous===!1?s.jsxs("span",{children:[wt[t],": ",e.name??""]}):"",!j&&p&&e.private?s.jsx("span",{children:gt[t]}):!j&&p&&e.private===!1?s.jsx("span",{children:Et[t]}):"",e.private===!1&&e.verified===!1&&s.jsx("span",{children:St[t]}),((N=e.user)==null?void 0:N.length)>1&&s.jsxs("span",{children:[Lt[t]," ",(T=e.user)==null?void 0:T.length]})]}),s.jsxs("div",{children:[p&&((M=e.user)==null?void 0:M.includes(p))&&s.jsx("form",{onSubmit:e.type===A.single?Le(e==null?void 0:e._id,e==null?void 0:e.joke):Le(e==null?void 0:e._id,e==null?void 0:e.setup),className:"button-wrap",children:s.jsx("button",{type:"submit",className:"delete danger",children:((I=e.user)==null?void 0:I.length)>1?Nt[t]:$t[t]})}),e.author!==p&&!((P=e.user)!=null&&P.includes(p))&&s.jsx("button",{onClick:()=>os(e.jokeId,e.language,e.category===z.ChuckNorris&&e.type===A.single?e.joke:void 0),className:"delete danger",children:At[t]}),!((R=e.user)!=null&&R.includes(p))&&s.jsxs("button",{onClick:()=>Es(e._id),className:"save",children:[Ge[t]," ",s.jsx(qs,{})]}),s.jsxs("button",{onClick:()=>Js(e.type===A.single?e.joke:e.setup+` 
`+e.delivery),children:[Jt[t]," ",s.jsx(zs,{})]}),p&&((k=e.user)==null?void 0:k.includes(p))&&e.author===p&&s.jsx(Ft,{language:t,id:`joke-edit-${e.jokeId}`,className:"joke-edit",wrapperClass:"joke-edit-wrap",text:Bt[t],onClick:()=>{Fe(e.language),Oe(e.category),b(l),cs(e.jokeId)},isOpen:rs===e.jokeId,setIsFormOpen:ns,children:s.jsxs("form",{onSubmit:Ke(e==null?void 0:e._id,vs??e),className:"joke-edit",children:[s.jsx("div",{className:"edit-wrap",children:e.private===!0&&e.type===A.twopart?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"input-wrap",children:s.jsxs("label",{htmlFor:"edit-setup",children:[s.jsx("input",{required:!0,type:"text",name:"edit-setup",id:"setup",defaultValue:e.setup,onChange:r=>{b(w=>({...w,setup:r.target.value}))}}),s.jsx("span",{children:Ot[t]})]})}),s.jsx("div",{className:"input-wrap",children:s.jsxs("label",{htmlFor:"edit-delivery",children:[s.jsx("input",{required:!0,type:"text",name:"delivery",id:"edit-delivery",defaultValue:e.delivery,onChange:r=>{b(w=>({...w,delivery:r.target.value}))}}),s.jsx("span",{children:Tt[t]})," "]})})]}):e.private===!0&&e.type===A.single?s.jsx("div",{className:"input-wrap",children:s.jsxs("label",{htmlFor:"edit-joke",children:[s.jsx("input",{required:!0,type:"text",name:"joke",id:"edit-joke",defaultValue:e.joke,onChange:r=>{b(w=>({...w,joke:r.target.value}))}}),s.jsx("span",{children:Mt[t]})]})}):s.jsxs("div",{children:[It[t],"."," ",Pt[t]," ",Rt[t]]})}),e.private===!0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex column center gap",children:[s.jsx(Q,{language:t,id:"edit-language",className:"edit-language",instructions:`${kt[t]}:`,hide:!0,options:is(E),value:{label:oe[me][H(E,me)],value:me},onChange:r=>{Fe(r==null?void 0:r.value),b(w=>({...w,language:r==null?void 0:r.value}))}}),s.jsx(Q,{language:t,id:"edit-category",className:"edit-category",instructions:`${Ut[t]}:`,hide:!0,options:[{label:_t[t],value:""},...Object.values(z).map(r=>({label:se(r,t),value:r}))],value:{label:se(Be,t),value:Be},onChange:r=>{const{visible:w,translatedLanguage:q,...de}=e;Oe(r==null?void 0:r.value),b(()=>({...de,category:r==null?void 0:r.value}))}})]}),s.jsxs("fieldset",{children:[s.jsx("legend",{children:Dt[t]}),s.jsxs("div",{className:"checkbox-wrap",children:[s.jsxs("div",{children:[s.jsx("input",{type:"checkbox",id:"flag-nsfw",name:"nsfw",value:"nsfw",onChange:()=>{b(()=>({...l,nsfw:!e.flags.nsfw}))}}),s.jsx("label",{htmlFor:"flag-nsfw",children:K[t].nsfw})]}),s.jsxs("div",{children:[s.jsx("input",{type:"checkbox",id:"flag-religious",name:"religious",value:"religious",onChange:()=>{b(()=>({...l,religious:!e.flags.religious}))}}),s.jsx("label",{htmlFor:"flag-religious",children:K[t].religious})]}),s.jsxs("div",{children:[s.jsx("input",{type:"checkbox",id:"flag-political",name:"political",value:"political",onChange:()=>{b(()=>({...l,political:!e.flags.political}))}}),s.jsx("label",{htmlFor:"flag-political",children:K[t].political})]}),s.jsxs("div",{children:[s.jsx("input",{type:"checkbox",id:"flag-racist",name:"racist",value:"racist",onChange:()=>{b(()=>({...l,racist:!e.flags.racist}))}}),s.jsx("label",{htmlFor:"flag-racist",children:K[t].racist})]}),s.jsxs("div",{children:[s.jsx("input",{type:"checkbox",id:"flag-sexist",name:"sexist",value:"sexist",onChange:()=>{b(()=>({...l,sexist:!e.flags.sexist}))}}),s.jsx("label",{htmlFor:"flag-sexist",children:K[t].sexist})]}),s.jsxs("div",{children:[s.jsx("input",{type:"checkbox",id:"flag-explicit",name:"explicit",value:"explicit",onChange:()=>{b(()=>({...l,explicit:!e.flags.explicit}))}}),s.jsx("label",{htmlFor:"flag-explicit",children:K[t].explicit})]})]})]})]}),s.jsxs("fieldset",{className:"flex center gap margin0auto",children:[s.jsxs("div",{children:[s.jsx("input",{type:"checkbox",name:"anonymous",id:"edit-anonymous",defaultChecked:e.anonymous,onChange:()=>{const{visible:r,translatedLanguage:w,...q}=e;b(()=>({...q,anonymous:!e.anonymous}))}}),s.jsx("label",{htmlFor:"edit-anonymous",children:"Anonymous:"})]}),s.jsxs("div",{children:[s.jsx("input",{type:"checkbox",name:"private",id:"edit-private",defaultChecked:e.private,onChange:()=>{const{visible:r,translatedLanguage:w,...q}=e;b(()=>({...q,private:!e.private}))}}),s.jsx("label",{htmlFor:"edit-private",children:"Private:"})]})]}),s.jsx("button",{type:"submit",className:"save",children:Ge[t]})]})})]})]})]},e._id)}):s.jsx("li",{children:Vt[t]})}),!Z&&!m&&Pe(2)]}),s.jsx("div",{className:"filler below"})]}),p&&s.jsxs("div",{className:"local-saved-wrap below",children:[s.jsx("button",{className:`btn${j&&!m?" active":""}`,onClick:()=>{Y(!0),B(!1)},children:j?ge[t]:We[t]}),s.jsx("button",{className:`btn${!j&&!m?" active":""}`,onClick:()=>{Y(!1),B(!1)},children:Ee[t]})]})]})};export{sa as EOrderByAge,ba as default};
