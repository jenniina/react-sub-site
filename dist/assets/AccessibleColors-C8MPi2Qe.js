const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ColorsInput-5ioEQ-B_.js","assets/react-B26j9x-B.js","assets/dom-to-image-more-sr33WCep.js","assets/index-ba3uvdEn.js","assets/react-dom-C5TvV5XQ.js","assets/scheduler-C323NY8X.js","assets/react-redux-EG6qnwNo.js","assets/hoist-non-react-statics-C-Qo8PK8.js","assets/react-is-BwqtTtay.js","assets/use-sync-external-store-BqPSEvA7.js","assets/@reduxjs-D09xkNSb.js","assets/immer-C0GRqQ_d.js","assets/redux-D9aXM7rm.js","assets/@babel-CYk816RD.js","assets/redux-thunk-CY0Q9z1Q.js","assets/axios-ngrFHoWO.js","assets/react-icons-W-DbsVi9.js","assets/react-router-dom-Dghs3TPc.js","assets/react-router-vPOY4muN.js","assets/@remix-run-ox1qIyJK.js","assets/react-helmet-async-CnDSc5Ri.js","assets/react-fast-compare-BHbKlhN4.js","assets/invariant-B_pwkeTo.js","assets/shallowequal-C7ef0Lra.js","assets/index-lQ2kPkfG.css"])))=>i.map(i=>d[i]);
import{r as Ae,z as qe,B as xe,C as He,D as pe,F as X,G as st,L as nt,q as lt,u as at,l as ct,H as it,S as dt,I as mt,J,e as fe,_ as ut}from"./index-ba3uvdEn.js";import{a as N,j as e}from"./react-B26j9x-B.js";import{w as gt,x as ht,S as pt,P as Oe,y as ft,z as At,D as xt,L as Pe,E as $t}from"./react-icons-W-DbsVi9.js";import{u as bt}from"./react-router-dom-Dghs3TPc.js";const _t="_light_q5m66_39",Ct="_drag_q5m66_309",wt="_overflow_q5m66_323",Nt="_indicator_q5m66_431",yt="_tooltip_q5m66_431",vt="_form_q5m66_601",jt="_remove_q5m66_629",Rt="_inputs_q5m66_659",u={"color-container":"_color-container_q5m66_1",light:_t,"color-picker":"_color-picker_q5m66_57","width-wrap":"_width-wrap_q5m66_131","btn-wrap":"_btn-wrap_q5m66_145","mode-container":"_mode-container_q5m66_163","flat-left":"_flat-left_q5m66_189","info-wrap":"_info-wrap_q5m66_223","mode-btn":"_mode-btn_q5m66_271","color-blocks":"_color-blocks_q5m66_277",drag:Ct,overflow:wt,"block-wrap":"_block-wrap_q5m66_331","color-wrap":"_color-wrap_q5m66_349","color-block":"_color-block_q5m66_277","compliance-indicators":"_compliance-indicators_q5m66_409",indicator:Nt,tooltip:yt,"indicator-aaa":"_indicator-aaa_q5m66_461","indicator-null":"_indicator-null_q5m66_469","toggle-controls":"_toggle-controls_q5m66_485","color-edit-container":"_color-edit-container_q5m66_515","color-select":"_color-select_q5m66_517",form:vt,"color-format-submit":"_color-format-submit_q5m66_627",remove:jt,"color-name":"_color-name_q5m66_643",inputs:Rt,"hex-input":"_hex-input_q5m66_689"},Tt=(V,$)=>{const[F,te]=N.useState(!1),[re,de]=N.useState(V),Z=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",M=N.useMemo(()=>$==null?void 0:$.map(x=>`${Z?"local-":""}DnD-${x}`),[$,Z]),oe=N.useCallback(()=>$==null?void 0:$.reduce((x,_,S)=>{const y=JSON.parse(localStorage.getItem(M[S])||"[]");return x[_]={items:y.length>0?y:V.filter(D=>D.status===_),setItems:D=>{localStorage.setItem(M[S],JSON.stringify(D)),Q(H=>({...H,[_]:{...H[_],items:D}}))},removeItems:()=>{localStorage.removeItem(M[S]),Q(D=>({...D,[_]:{...D[_],items:[]}}))}},x},{}),[$,M]),se=(x,_)=>JSON.stringify(x)===JSON.stringify(_),[d,Q]=N.useState(oe);N.useEffect(()=>{$.forEach((x,_)=>{var i;const S=((i=d[x])==null?void 0:i.items)||[],y=V.filter(t=>t.status===x),D=new Map(y.map(t=>[t.id,t])),H=S.map(t=>{const C=D.get(t.id);return C&&JSON.stringify(t)!==JSON.stringify(C)?C:t}).filter(t=>D.has(t.id)),l=new Set(S.map(t=>t.id)),g=y.filter(t=>!l.has(t.id)),f=[...H,...g];se(S,f)||d[x].setItems(f)}),$.forEach((x,_)=>{var y;const S=((y=d[x])==null?void 0:y.items)||[];localStorage.setItem(M[_],JSON.stringify(S))})},[V,$,M,se]),N.useEffect(()=>{de($.flatMap(x=>{var _;return((_=d[x])==null?void 0:_.items)||[]}))},[d]),N.useEffect(()=>{$.forEach((x,_)=>{var y;const S=((y=d[x])==null?void 0:y.items)||[];localStorage.setItem(M[_],JSON.stringify(S))})},[re,$,M,d]);const Y=N.useCallback((x,_,S)=>{var f,i,t,C,w,G,W,O,z,c;const y=(f=Object.keys(d))==null?void 0:f.find(h=>{var b,U;return(U=(b=d==null?void 0:d[h])==null?void 0:b.items)==null?void 0:U.find(n=>(n==null?void 0:n.id)===x)});if(!y)return;const D=(t=(i=d==null?void 0:d[y])==null?void 0:i.items)==null?void 0:t.find(h=>(h==null?void 0:h.id)===x),H=(w=(C=d==null?void 0:d[_])==null?void 0:C.items)==null?void 0:w.findIndex(h=>(h==null?void 0:h.id)===S);if(!D)return;D.status=_;const l=(W=(G=d==null?void 0:d[y])==null?void 0:G.items)==null?void 0:W.filter(h=>h.id!==x);(O=d==null?void 0:d[y])==null||O.setItems(l);let g=[...(z=d==null?void 0:d[_])==null?void 0:z.items];return g=g.filter(h=>h.id!==D.id),g.splice(H>=0?H:g.length,0,D),(c=d==null?void 0:d[_])==null||c.setItems(g),Q(h=>({...h,[y]:{...h[y],items:l},[_]:{...h[_],items:g}})),g},[d,Q]),q=N.useCallback((x,_)=>{if(x===_)return;const S=$==null?void 0:$.indexOf(x);if(S===-1){console.error(`Old status "${x}" not found in statuses array`);return}const y=M[S],D=`${Z?"local-":""}DnD-${_}`,H=d[x].items.map(l=>({...l,status:_}));Q(l=>({...l,[x]:{...l[x],items:[]},[_]:{...l[_],items:H}})),localStorage.setItem(D,JSON.stringify(H)),localStorage.removeItem(y)},[d,M,$]);return{isDragging:F,listItemsByStatus:d,handleUpdate:Y,handleRenameStatus:q,handleDragging:x=>te(x)}},le="colors",ue="hsl",ge=[{id:1,color:"hsl(200, 50%, 10%)",luminance:.011540526030345211,status:le,colorFormat:ue,compliantColors:{AAA_RegularText:[4,5],AA_UIComponents:[3,4,5],AA_RegularText:[3,4,5]}},{id:2,color:"hsl(200, 50%, 35%)",luminance:.12179747967530058,status:le,colorFormat:ue,compliantColors:{AAA_RegularText:[],AA_UIComponents:[4,5],AA_RegularText:[5]}},{id:3,color:"hsl(200, 50%, 55%)",luminance:.3071249100459835,status:le,colorFormat:ue,compliantColors:{AAA_RegularText:[],AA_UIComponents:[1],AA_RegularText:[1]}},{id:4,color:"hsl(200, 50%, 75%)",luminance:.5493970089199802,status:le,colorFormat:ue,compliantColors:{AAA_RegularText:[1],AA_UIComponents:[1,2],AA_RegularText:[1]}},{id:5,color:"hsl(200, 50%, 90%)",luminance:.800081557105977,status:le,colorFormat:ue,compliantColors:{AAA_RegularText:[1],AA_UIComponents:[1,2],AA_RegularText:[1,2]}}],It=V=>{const[$,F,te]=Ae("Jenniina-colorsAccessibility",ge);N.useEffect(()=>{const l=()=>{const i=new URL(window.location.href).searchParams.get("colors");if(i)try{const t=i.split("_").map(C=>{const w=C.split("-"),G=w[0];let W="";return G==="hsl"&&w.length===4?W=`hsl(${w[1]}, ${w[2]}%, ${w[3]}%)`:G==="rgb"&&w.length===4?W=`rgb(${w[1]}, ${w[2]}, ${w[3]})`:G==="hex"&&w.length===2&&(W=`#${w[1]}`),{type:G,color:W}});if(Array.isArray(t)){const C=t.map((G,W)=>{let O=G.type,z=G.color,c;if(O==="hex")c=xe(z);else if(O==="hsl"){const b=z.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(b){const U=Number(b[1]),n=Number(b[2]),we=Number(b[3]);c=X(U,n,we)}}else if(O==="rgb"){const b=z.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);b&&(c={r:Number(b[1]),g:Number(b[2]),b:Number(b[3])})}const h=c?pe(c.r,c.g,c.b):0;return{id:W+1,color:z,luminance:h,status:le,colorFormat:O,compliantColors:{AA_RegularText:[],AAA_RegularText:[],AA_UIComponents:[]}}}),w=Y(C);F(w)}}catch{}};l();const g=()=>{l()};return window.addEventListener("popstate",g),()=>{window.removeEventListener("popstate",g)}},[]);const[re,de]=Ae("Jenniina-currentColor","#7D7D7D"),[Z,M]=Ae("Jenniina-idCounter",ge.length+1),[oe,se]=N.useState(V),[d,Q]=N.useState(!1),Y=N.useCallback(l=>l.map(g=>{const f=a(g,l);return{...g,compliantColors:f}}),[]),q=N.useCallback(l=>{const g=l.map(i=>{if(i.colorFormat==="hsl"){const t=i.color.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(t)return`hsl-${t[1]}-${t[2]}-${t[3]}`}else if(i.colorFormat==="rgb"){const t=i.color.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);if(t)return`rgb-${t[1]}-${t[2]}-${t[3]}`}else if(i.colorFormat==="hex"&&i.color.startsWith("#"))return`hex-${i.color.slice(1)}`;return`${i.colorFormat}-${i.color}`}),f=new URL(window.location.href);f.searchParams.set("colors",g.join("_")),window.history.replaceState({},"",f.pathname+"?"+f.searchParams.toString()+f.hash)},[]),a=(l,g)=>{let f=[],i=[],t=[];return g.forEach(C=>{if(C.id===l.id)return;const w=qe(l,C);w.isAAARegularTextCompliant&&f.push(C.id),w.isAARegularTextCompliant&&t.push(C.id),w.isAAUIComponentsCompliant&&i.push(C.id)}),{AAA_RegularText:Array.from(new Set(f)),AA_RegularText:Array.from(new Set(t)),AA_UIComponents:Array.from(new Set(i))}},x=N.useCallback(()=>{const{r:l,g,b:f}=xe(re),{h:i,s:t,l:C}=He(l,g,f),w=pe(l,g,f),G={id:Z,color:`hsl(${i}, ${t}%, ${C}%)`,luminance:w,status:"colors",colorFormat:"hsl",compliantColors:{AA_RegularText:[],AAA_RegularText:[],AA_UIComponents:[]}},W=[...$,G],O=Y(W);F(O),q(O),M(z=>z+1)},[re,Z,Y,F,q,M,$]),_=N.useCallback(l=>{const g=$.filter(i=>i.id!==l).map(i=>({...i,compliantColors:{AAA_RegularText:i.compliantColors.AAA_RegularText.filter(t=>t!==l),AA_RegularText:i.compliantColors.AA_RegularText.filter(t=>t!==l),AA_UIComponents:i.compliantColors.AA_UIComponents.filter(t=>t!==l)}})),f=Y(g);F(f),q(f)},[$,Y,F,q]),S=N.useCallback((l,g,f)=>{try{let i,t,C,w;if(f==="hsl"){const c=g.match(/^hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/i);if(!c)throw new Error("Invalid HSL format");const h=Number(c[1]),b=Number(c[2]),U=Number(c[3]);if(h<0||h>360||b<0||b>100||U<0||U>100)throw new Error("HSL values out of range");i=`hsl(${h}, ${b}%, ${U}%)`;const n=X(h,b,U);t=n.r,C=n.g,w=n.b}else if(f==="rgb"){const c=g.match(/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i);if(!c)throw new Error("Invalid RGB format");const h=Number(c[1]),b=Number(c[2]),U=Number(c[3]);if([h,b,U].some(n=>n<0||n>255))throw new Error("RGB values must be between 0 and 255");i=`rgb(${h}, ${b}, ${U})`,t=h,C=b,w=U}else if(f==="hex"){if(!/^#([0-9A-F]{3}){1,2}$/i.test(g))throw new Error("Invalid Hex format");i=g.toUpperCase();const c=xe(i);t=c.r,C=c.g,w=c.b}else throw new Error("Unsupported color format");const G=pe(t,C,w),W=$.map(c=>c.id===l?{...c,color:i,colorFormat:f,luminance:G,compliantColors:{AAA_RegularText:[],AA_RegularText:[],AA_UIComponents:[]}}:c),O=W.map(c=>{if(c.id===l)return c;const h=W.find(U=>U.id===l);if(!h)return c;const b=qe(c,h);return{...c,compliantColors:{AAA_RegularText:b.isAAARegularTextCompliant?[...new Set([...c.compliantColors.AAA_RegularText,l])]:c.compliantColors.AAA_RegularText.filter(U=>U!==l),AA_RegularText:b.isAARegularTextCompliant?[...new Set([...c.compliantColors.AA_RegularText,l])]:c.compliantColors.AA_RegularText.filter(U=>U!==l),AA_UIComponents:b.isAAUIComponentsCompliant?[...new Set([...c.compliantColors.AA_UIComponents,l])]:c.compliantColors.AA_UIComponents.filter(U=>U!==l)}}}),z=O.find(c=>c.id===l);if(z){const c=a(z,O),h=O.map(b=>b.id===l?{...b,compliantColors:c}:b);F(h),q(h)}else F(O),q(O)}catch(i){console.error("Error updating color:",i)}},[$,F,Y,q]),y=N.useCallback(()=>{te(),F(ge),q(ge),M(ge.length+1)},[te,F,M,q]),D=N.useCallback(()=>{te(),F([]),q([]),M(1)},[te,F,M,q]),H=N.useCallback(()=>{const l=st($,oe,d);let g=Z;const f=l.map(t=>{const C=X(t[0],t[1],t[2]),w=pe(C.r,C.g,C.b);return{id:g++,color:`hsl(${t[0]}, ${t[1]}%, ${t[2]}%)`,luminance:w,status:le,colorFormat:"hsl",compliantColors:{AA_RegularText:[],AAA_RegularText:[],AA_UIComponents:[]}}});let i=[...$,...f];i=Y(i),F(i),q(i),M(g),Q(!1)},[$,oe,d,Y,F,q,M]);return N.useEffect(()=>{d&&$.length===0&&H()},[d,$]),{colors:$,setColors:F,setColorsReset:Q,addColor:x,removeColor:_,updateColor:S,resetColors:y,clearColors:D,currentColor:re,setCurrentColor:de,mode:oe,setMode:se,makeColorPalette:H,updateSearchParams:q}},St=N.lazy(()=>ut(()=>import("./ColorsInput-5ioEQ-B_.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]))),Ce=mt(5);var Ge=(V=>(V.AA_RegularText="AA_RegularText",V.AAA_RegularText="AAA_RegularText",V.AA_UIComponents="AA_UIComponents",V))(Ge||{});const B="colors",Ut=({language:V})=>{var je,Re,Te,Ie,Se,Ue;const{colors:$,setColors:F,addColor:te,removeColor:re,updateColor:de,currentColor:Z,setCurrentColor:M,resetColors:oe,clearColors:se,mode:d,setMode:Q,makeColorPalette:Y,setColorsReset:q}=It("analogous"),{t:a}=N.useContext(nt),x=lt(),_=N.useMemo(()=>[B],[]),S=at(),y=ct(),D=it(),[H,l]=bt({show:"true",name:"true",mode:"analogous"}),g=(H.get("show")||"true")==="true",f=(H.get("name")||"true")==="true",{isDragging:i,listItemsByStatus:t,handleDragging:C,handleUpdate:w}=Tt($,_),G=N.useRef(0),[W,O]=N.useState(0),[z,c]=N.useState(!1),h=8,[b,U]=Ae("Jenniina-color-block-width",h),n=`${b}em`,ne={input:`${.8*(b/h)}em`},me=[{value:"analogous",label:a("Analogous")},{value:"complementary",label:a("Complementary")},{value:"monochromatic",label:a("Monochromatic")},{value:"triad",label:a("Triad")},{value:"tetrad",label:a("Tetrad")}],Ne=Math.floor(Math.random()*me.length),ye=H.get("mode")||me[Ne];N.useEffect(()=>{Q(ye)},[ye]);const We=()=>{t[B].removeItems(),q(!0),se()},Je={AA_RegularText:({xPosition:r,yIndicator:p,blockWidth:j,indicatorSize:o,otherColor:R,blockColor:P,colorFormatBlock:T,colorFormatOther:A})=>{let v,m;if(T==="hex")v=P;else if(T==="rgb"){const s=P.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);v=s?J(Number(s[1]),Number(s[2]),Number(s[3])):"#000000"}else if(T==="hsl"){const s=P.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(s){const E=X(Number(s[1]),Number(s[2]),Number(s[3]));v=J(E.r,E.g,E.b)}else v="#000000"}else v="#000000";if(A==="hex")m=R;else if(A==="rgb"){const s=R.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);m=s?J(Number(s[1]),Number(s[2]),Number(s[3])):"#000000"}else if(A==="hsl"){const s=R.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(s){const E=X(Number(s[1]),Number(s[2]),Number(s[3]));m=J(E.r,E.g,E.b)}else m="#000000"}else m="#000000";return`
 <circle
  cx="${r+j/2}"
  cy="${p+o/2}"
  r="${o*.32}"
  fill="${v}"
  stroke="${m}"
  stroke-width="${o*.1}"
/>
`},AA_UIComponents:({xPosition:r,yIndicator:p,blockWidth:j,indicatorSize:o,otherColor:R,blockColor:P,colorFormatBlock:T,colorFormatOther:A})=>{let v,m;if(T==="hex")v=P;else if(T==="rgb"){const s=P.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);v=s?J(Number(s[1]),Number(s[2]),Number(s[3])):"#000000"}else if(T==="hsl"){const s=P.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(s){const E=X(Number(s[1]),Number(s[2]),Number(s[3]));v=J(E.r,E.g,E.b)}else v="#000000"}else v="#000000";if(A==="hex")m=R;else if(A==="rgb"){const s=R.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);m=s?J(Number(s[1]),Number(s[2]),Number(s[3])):"#000000"}else if(A==="hsl"){const s=R.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(s){const E=X(Number(s[1]),Number(s[2]),Number(s[3]));m=J(E.r,E.g,E.b)}else m="#000000"}else m="#000000";return`
    <rect
  x="${r+j/2-o*.2}"
  y="${p+o/2-o*.15}"
  width="${o*.3}"
  height="${o*.3}"
  fill="${v}"
  stroke="${m}"
  stroke-width="${o*.1}"
/>
`},AAA_RegularText:({xPosition:r,yIndicator:p,blockWidth:j,indicatorSize:o,otherColor:R,blockColor:P,colorFormatBlock:T,colorFormatOther:A})=>{let v;if(A==="hex")v=R;else if(A==="rgb"){const m=R.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);v=m?J(Number(m[1]),Number(m[2]),Number(m[3])):"#000000"}else if(A==="hsl"){const m=R.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(m){const s=X(Number(m[1]),Number(m[2]),Number(m[3]));v=J(s.r,s.g,s.b)}else v="#000000"}else v="#000000";return`
<circle
  cx="${r+j/2}"
  cy="${p+o/2}"
  r="${o/2}"
  fill="${v}"
  stroke="none"
/>
`}},ve=()=>{var De;const r=b*20,p=r,j=p/3,o=j/1.5,R=r/4,P=j/20,T=p/10,A=((De=t[B])==null?void 0:De.items)||[],m=(A==null?void 0:A.length)*(j+o)-o+R*2,s=f?T+R:0,E=A.length*p,be=m+s*1.6,Qe=A==null?void 0:A.map((k,ae)=>{const ce=ae*p;let K;try{if(k.colorFormat==="hex")K=k.color;else if(k.colorFormat==="rgb"){const I=k.color.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);if(I)K=J(Number(I[1]),Number(I[2]),Number(I[3]));else throw new Error("Invalid RGB format")}else if(k.colorFormat==="hsl"){const I=k.color.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(I){const ie=X(Number(I[1]),Number(I[2]),Number(I[3]));K=J(ie.r,ie.g,ie.b)}else throw new Error("Invalid HSL format")}else K="#000000"}catch(I){console.error(I),S(fe(`${a("Error")}: ${I.message}`,!0,4)),K="#000000"}const ee=`
        <rect
          x="${ce}"
          y="0"
          width="${p}"
          height="${m}"
          fill="${K}"
          stroke="none"
        />
      `,L=f?`
        <!-- Text Background -->
        <rect
          x="${ce}"
          y="${m-.5}"
          width="${p}"
          height="${s}"
          fill="${K}"
          stroke="none"
        />
        <!-- Color Text Label -->
        <text
          x="${ce+p/2}"
          y="${m+s/2+T/3}"
          font-size="${T}"
          font-family="Arial"
          text-anchor="middle"
          dominant-baseline="middle"
          fill="${k.luminance>.179?"#000000":"#FFFFFF"}"
          stroke="none"
        >
          ${k.color}
        </text>
      `:"";return`
        <g>
          <!-- Color Block -->
          ${ee}
          <!-- Color Text Label -->
          ${L}
        </g>
      `}).join(""),Ze=A==null?void 0:A.map((k,ae)=>{const K=R+ae*(j+o)+(j-P)/2;let ee;if(k.colorFormat==="hex")ee=k.color;else if(k.colorFormat==="rgb"){const L=k.color.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);ee=L?J(Number(L[1]),Number(L[2]),Number(L[3])):"#000000"}else if(k.colorFormat==="hsl"){const L=k.color.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(L){const I=X(Number(L[1]),Number(L[2]),Number(L[3]));ee=J(I.r,I.g,I.b)}else ee="#000000"}else ee="#000000";return`
        <rect
          x="0"
          y="${K}"
          width="${E}"
          height="${P}"
          fill="${ee}"
          stroke="none"
        />
      `}).join(""),et=A==null?void 0:A.map((k,ae)=>{const ce=ae*p,K=L=>{var I,ie,ke,Le,Ee,Fe;return(ie=(I=k.compliantColors)==null?void 0:I.AAA_RegularText)!=null&&ie.includes(L)?"AAA_RegularText":(Le=(ke=k.compliantColors)==null?void 0:ke.AA_RegularText)!=null&&Le.includes(L)?"AA_RegularText":(Fe=(Ee=k.compliantColors)==null?void 0:Ee.AA_UIComponents)!=null&&Fe.includes(L)?"AA_UIComponents":null};return`
        <g>
          <!-- Compliance Indicators -->
          ${A==null?void 0:A.filter((L,I)=>I!==ae).map(L=>{const I=K(L.id);return I?Je[I]({xPosition:ce,yIndicator:R+A.indexOf(L)*(j+o),blockWidth:p,indicatorSize:j,otherColor:L.color,blockColor:k.color,colorFormatBlock:k.colorFormat,colorFormatOther:L.colorFormat}):""}).join("")}
        </g>
      `}).join(""),_e=10,tt=E-_e,Me=be-_e*1.5,he="https://colors.jenniina.fi",ot=`
      <a href="${he}" target="_blank" rel="noopener noreferrer">
        <text
          x="${tt}"
          y="${Me}"
          font-size="${T}"
          font-family="Arial"
          text-anchor="end"
          fill="#000000"
          stroke="none"
        >
          ${he}
        </text>
      </a>
    `,rt=`
      <a href="${he}" target="_blank" rel="noopener noreferrer">
        <text
          x="${_e}"
          y="${Me}"
          font-size="${T}"
          font-family="Arial"
          text-anchor="start"
          fill="#FFFFFF"
          stroke="none"
        >
          ${he}
        </text>
      </a>
    `;return{svgContent:`
    <svg xmlns="http://www.w3.org/2000/svg" width="${E}" height="${be}">
      <!-- Color Blocks -->
      <g>
        ${Qe}
      </g>
      <!-- Lines -->
      <g>
        ${Ze}
      </g>
      <!-- Compliance Indicators -->
      <g>
        ${et}
      </g>
      <!-- Source Link -->
      <g>
        ${rt}
      </g>
      <g>
        ${ot}
      </g>
    </svg>
  `,svgWidth:E,svgHeight:be}},ze=()=>{const{svgContent:r}=ve(),p=new Blob([r],{type:"image/svg+xml;charset=utf-8"}),j=URL.createObjectURL(p),o=document.createElement("a");o.href=j,o.download="color-blocks.svg",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(j),S(fe(a("ArtSaved"),!1,5))},Ve=()=>{const{svgContent:r,svgWidth:p,svgHeight:j}=ve(),o=new Image;o.width=p,o.height=j;const R=new Blob([r],{type:"image/svg+xml;charset=utf-8"}),P=URL.createObjectURL(R);o.onload=()=>{const T=document.createElement("canvas");T.width=p,T.height=j;const A=T.getContext("2d");A==null||A.drawImage(o,0,0);const v=T.toDataURL("image/png"),m=document.createElement("a");m.href=v,m.download="color-blocks.png",m.target="_blank",m.rel="noreferrer",document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(P),S(fe(a("ArtSaved"),!1,5))},o.onerror=T=>{console.error("Error loading SVG into image for PNG conversion:",T),URL.revokeObjectURL(P),S(fe(a("Error"),!0,4))},o.src=P},Be=(r,p)=>{r.dataTransfer.setData("text/plain",JSON.stringify({type:"item",id:p}))},Ye=(r,p)=>{r.preventDefault(),O(p),G.current=p},Ke=r=>{r.preventDefault(),C(!0)},Xe=r=>{const p=JSON.parse(r.dataTransfer.getData("text/plain"));p.type==="item"&&(w(p.id,B,W),setTimeout(()=>{var j;F((j=t[B])==null?void 0:j.items)},200),C(!1))};N.useEffect(()=>{var r,p;(!((r=t[B])!=null&&r.items)||((p=t[B])==null?void 0:p.items.length)<1)&&oe()},[]);const $e=.04;return e.jsxs("div",{id:u["color-container"],className:`${u["color-container"]} ${y?u.light:""}`,style:{"--font-size":ne.input},children:[e.jsxs("div",{id:"info",className:u["info-wrap"],children:["v",e.jsx("h2",{children:a("SymbolMeanings")}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("div",{style:{display:"inline-block",backgroundColor:"var(--color-primary-20)",borderRadius:"50%",width:"2em",height:"2em"}}),e.jsx("span",{children:a("HighestAAAComplianceWithRegularText")})]}),e.jsxs("li",{children:[e.jsx("div",{style:{display:"inline-block",backgroundColor:"transparent",outline:"0.3em solid var(--color-primary-20)",outlineOffset:"-0.3em",borderRadius:"50%",width:"1.7em",height:"1.7em",margin:"0 0.2em 0 0.2em "}}),e.jsx("span",{children:a("MinimumAAComplianceWithRegularText")})]}),e.jsxs("li",{children:[e.jsx("div",{style:{display:"inline-block",backgroundColor:"transparent",outline:"0.3em solid var(--color-primary-20)",outlineOffset:"-0.26em",borderRadius:"0",width:"0.9em",height:"0.9em",margin:"0 0.65em 0 0.65em"}}),e.jsx("span",{children:a("AAACompliantWithUI")})]})]})]}),e.jsxs("div",{className:u["btn-wrap"],children:[y?e.jsx(e.Fragment,{children:e.jsxs("span",{children:[a("DarkMode"),":"]})}):e.jsx(e.Fragment,{children:e.jsxs("span",{children:[a("LightMode"),":"]})}),e.jsx("button",{onClick:D,className:`gray ${u["mode-btn"]}`,children:y?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"scr",children:a("DarkMode")}),e.jsx(gt,{})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"scr",children:a("LightMode")}),e.jsx(ht,{})," "]})})]}),e.jsx("div",{className:u["btn-wrap"],children:((Re=(je=t[B])==null?void 0:je.items)==null?void 0:Re.length)>0&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",onClick:Ve,className:"gray small",children:[e.jsx(pt,{}),"  ",a("SaveAsPNG"),"  ",e.jsx(Oe,{})]}),e.jsxs("button",{type:"button",onClick:ze,className:"gray small",children:[e.jsx(ft,{}),"  ",a("SaveAsSVG"),"  ",e.jsx(Oe,{})]})]})}),e.jsxs("div",{className:u["btn-wrap"],children:[e.jsxs("button",{className:"gray small",type:"button",onClick:async()=>{($.length===0||await x({message:a("AreYouSureYouWantToResetAllColors")}))&&oe()},children:[a("Reset"),"  ",e.jsx(At,{})]}),e.jsxs("button",{className:"gray small",type:"button",onClick:async()=>{await x({message:a("AreYouSureYouWantToClearAllColors")||""})&&(t[B].removeItems(),se())},children:[a("Clear"),"  ",e.jsx(xt,{})]})]}),e.jsxs("div",{id:"colorpicker",className:u["color-picker"],children:[e.jsxs("label",{htmlFor:"color-input",className:" ",children:[a("ColorPicker"),":"]}),e.jsx("input",{id:"color-input",type:"color",value:Z,onChange:r=>{M(r.target.value)}}),e.jsxs("button",{className:"gray",type:"button",onClick:te,children:[a("AddAColor"),"  ",e.jsx(Pe,{})]})]}),e.jsx("div",{className:u["btn-wrap"],children:e.jsxs("div",{className:`${u["color-edit-container"]} ${u["mode-container"]}`,children:[e.jsx(dt,{options:me,value:{value:d,label:(Te=me.find(r=>r.value===d))==null?void 0:Te.label},onChange:r=>l(p=>(p.set("mode",(r==null?void 0:r.value)||me[Ne].value),p),{replace:!0,preventScrollReset:!0}),id:"color-mode",instructions:a("SelectColorModeForNewColors"),className:`${u["color-select"]}`,hideDelete:!0,tooltip:!0,y:"above narrow2",z:3}),e.jsxs("button",{className:`gray small tooltip-wrap ${u["flat-left"]}`,type:"button",onClick:Y,children:[a("AddToColors"),"  ",e.jsx(Pe,{}),e.jsx("span",{className:"tooltip above narrow2",children:a("GeneratesColorsBasedOnLastColor")})]}),e.jsxs("button",{className:"gray small",type:"button",onClick:async()=>{(z===!0||await x({message:a("AreYouSureYouWantToClearAllColors")||""}))&&We(),c(!0)},children:[a("ClearAndGenerateNew"),"  ",e.jsx($t,{})]})]})}),e.jsx("div",{id:"color-blocks",className:`${u["color-blocks"]} ${!f||!g?u.overflow:""} ${i?u.drag:""}`,children:(Ie=t[B])==null?void 0:Ie.items.map(r=>{var p,j;return e.jsx("ul",{className:u["block-wrap"],onDrop:Xe,children:e.jsxs("li",{className:u["color-wrap"],title:`ID: ${r.id}`,"aria-label":`ID: ${r.id}`,style:{width:`${n}`,maxWidth:`${n}`},children:[e.jsx("ul",{children:e.jsx("li",{draggable:"true",onDragStart:o=>Be(o,r.id),onDragEnter:o=>Ye(o,r.id),onDragOver:o=>Ke(o),onDragEnd:()=>C(!1),"data-identity":r.id,className:u["color-block"],style:{"--color":r.color,backgroundColor:r.color,width:`${n}`,maxWidth:`${n}`,height:`calc(calc(${n} * 0.6) * ${(p=t[B])==null?void 0:p.items.length})`},children:e.jsx("div",{className:u["compliance-indicators"],style:{gap:`calc(${n} / 4)`,"--width-full":`${n}`},children:(j=t[B])==null?void 0:j.items.map(o=>{var P,T,A,v,m,s;if(o.id===r.id)return e.jsx("div",{className:`${u["indicator-null"]} ${u.indicator}`,style:{"--color":o.color,"--width":`calc(${n} / 3)`,"--left":`calc(calc(${n} / 3) * -1)`,backgroundColor:"transparent",width:`calc(${n} / 3)`,height:`calc(${n} / 3)`}},`none-${o.color}-${o.id}`);let R=null;return(T=(P=r.compliantColors)==null?void 0:P.AAA_RegularText)!=null&&T.includes(o.id)?R="AAA_RegularText":(v=(A=r.compliantColors)==null?void 0:A.AA_RegularText)!=null&&v.includes(o.id)?R="AA_RegularText":(s=(m=r.compliantColors)==null?void 0:m.AA_UIComponents)!=null&&s.includes(o.id)&&(R="AA_UIComponents"),R==="AAA_RegularText"?e.jsx("div",{tabIndex:0,className:`${u["indicator-aaa"]} ${u.indicator} tooltip-wrap`,style:{"--color":o.color,backgroundColor:o.color,"--left":`calc(calc(${n} / 3) * -1)`,width:`calc(${n} / 3)`,height:`calc(${n} / 3)`},children:e.jsx("span",{id:`span-${o.id}-${r.id}-${Ce}`,className:`tooltip below narrow3 ${u.tooltip}`,style:{fontSize:`clamp(0.7rem, ${ne.input}, 0.9rem)`,"--tooltip-max-width":n},children:`${a("AAACompliantWithID")}: ${o.id}`})},`aaa-${o.color}-${o.id}`):R==="AA_RegularText"?e.jsx("div",{tabIndex:0,className:`${u["indicator-aa"]} ${u.indicator} tooltip-wrap`,style:{"--color":o.color,backgroundColor:r.color,outline:`calc(${n} * ${$e*1.1}) solid ${o.color}`,outlineOffset:`calc(${n} * -0.013)`,"--left":`calc(calc(${n} / 5) * -2)`,width:`calc(${n} / 5)`,height:`calc(${n} / 5)`,margin:`calc(${n} / 15)`,borderRadius:"50%"},children:e.jsx("span",{id:`span-${o.id}-${r.id}-${Ce}`,className:"tooltip below narrow3",style:{fontSize:`clamp(0.7rem, ${ne.input}, 0.9rem)`,"--tooltip-max-width":n},children:`${a("AACompliantWithID")}: ${o.id}`})},`aa-${o.color}-${o.id}`):R==="AA_UIComponents"?e.jsx("div",{tabIndex:0,className:`${u["indicator-aa-ui"]} ${u.indicator} tooltip-wrap`,style:{"--color":o.color,"--left":`calc(calc(${n} / 7) * -3)`,backgroundColor:r.color,outline:`calc(${n} * ${$e}) solid ${o.color}`,outlineOffset:`calc(${n} * ${$e} * -1)`,width:`calc(${n} / 7)`,height:`calc(${n} / 7)`,margin:`calc(${n} / 10.5)`},children:e.jsx("span",{id:`span-ui-${o.id}-${r.id}-${Ce}`,className:`tooltip below narrow3 ${u.tooltip}`,style:{fontSize:`clamp(0.7rem, ${ne.input}, 0.9rem)`,"--tooltip-max-width":n},children:`${a("AAGraphicElementCompliantWithID")}: ${o.id}`})},`aa-ui-${o.color}-${o.id}`):e.jsx("div",{"aria-hidden":"true",className:`${u["indicator-null"]} ${u.indicator}`,style:{"--color":o.color,backgroundColor:"transparent","--left":`calc(calc(${n} / 3) * -1)`,width:`calc(${n} / 3)`,height:`calc(${n} / 3)`}},`null-${o.color}-${o.id}`)})})})}),f&&e.jsx("div",{style:{backgroundColor:r.color,width:`${n}`,maxWidth:`${n}`,display:"flex",justifyContent:"center",alignItems:"center",padding:"0.5em 0.1em "},className:u["color-name"],children:e.jsx("span",{style:{color:r.luminance<.179?"white":"black",fontSize:`clamp(0.7rem, ${ne.input}, 1.2rem)`,textAlign:"center"},children:r.color})}),g&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:u["color-edit-container"],children:e.jsx(N.Suspense,{fallback:e.jsxs("div",{className:"flex center margin0auto textcenter",children:[a("Loading"),"..."]}),children:e.jsx(St,{language:V,block:r,updateColor:de,width:n,hexToRGB:xe,rgbToHSL:He,rgbToHex:J,hslToRGB:X,fontSize:`clamp(0.75rem, ${ne.input}, 1rem)`})})}),e.jsx("button",{className:`tooltip-wrap small delete danger gray ${u.remove}`,onClick:()=>re(r.id),style:{margin:"0.8em auto",width:"calc(100% - 4px)",minWidth:"calc(100% - 4px)",fontSize:`clamp(0.75rem, ${ne.input}, 2rem)`},children:a("Remove")})]})]})},`${r.id}`)})}),((Ue=(Se=t[B])==null?void 0:Se.items)==null?void 0:Ue.length)>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:u["width-wrap"],children:[e.jsx("label",{htmlFor:"color-block-width",children:a("EditSize")}),e.jsx("input",{id:"color-block-width",type:"range",min:6,max:12,step:.5,value:b,onChange:r=>U(Number(r.target.value))})]}),e.jsxs("div",{className:`${u["toggle-controls"]}`,children:[e.jsxs("div",{children:[e.jsx("strong",{children:a("ToggleControlVisibility")}),e.jsx("button",{id:"toggle-controls",type:"button",onClick:()=>l(r=>(r.set("show",g?"false":"true"),r),{replace:!0,preventScrollReset:!0}),className:"gray small",children:a(g?"HideControls":"ShowControls")})]}),e.jsxs("div",{children:[e.jsx("strong",{children:a("ToggleColorNameVisibility")}),e.jsx("button",{type:"button",onClick:()=>l(r=>(r.set("name",f?"false":"true"),r),{replace:!0,preventScrollReset:!0}),className:"gray small",children:a(f?"HideColorName":"ShowColorName")})]})]})]})]})},Ft=Object.freeze(Object.defineProperty({__proto__:null,ComplianceLevel:Ge,default:Ut},Symbol.toStringTag,{value:"Module"}));export{Ft as A,u as s};
