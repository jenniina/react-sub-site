const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ColorBlocks-Bq55bBXJ.js","assets/react-B26j9x-B.js","assets/dom-to-image-more-sr33WCep.js","assets/index-KrAkqBQ5.js","assets/react-dom-C5TvV5XQ.js","assets/scheduler-C323NY8X.js","assets/react-redux-EG6qnwNo.js","assets/hoist-non-react-statics-C-Qo8PK8.js","assets/react-is-BwqtTtay.js","assets/use-sync-external-store-BqPSEvA7.js","assets/@reduxjs-D09xkNSb.js","assets/immer-C0GRqQ_d.js","assets/redux-D9aXM7rm.js","assets/@babel-CYk816RD.js","assets/redux-thunk-CY0Q9z1Q.js","assets/axios-ngrFHoWO.js","assets/react-icons-Dr2CAAEL.js","assets/react-router-dom-Dghs3TPc.js","assets/react-router-vPOY4muN.js","assets/@remix-run-ox1qIyJK.js","assets/react-helmet-async-CnDSc5Ri.js","assets/react-fast-compare-BHbKlhN4.js","assets/invariant-B_pwkeTo.js","assets/shallowequal-C7ef0Lra.js","assets/index-DPWMNifH.css","assets/Sliders-YMtATvJw.js","assets/DragLayers-CPoWfvYU.js"])))=>i.map(i=>d[i]);
import{L as er,q as tr,aJ as or,u as rr,j as sr,e as p,A as ar,aC as Ue,X as nr,i as lr,w as U,aK as cr,_ as We}from"./index-KrAkqBQ5.js";import{a as n,j as o}from"./react-B26j9x-B.js";import{d as ir}from"./dom-to-image-more-sr33WCep.js";import{aV as ur,aW as dr,aX as pr,aY as mr,aZ as hr,a_ as Ft,a$ as Ut,J as gr,O as fr,b0 as br,k as yr,i as vr,b1 as kr}from"./react-icons-Dr2CAAEL.js";import{a as zt}from"./react-redux-EG6qnwNo.js";import{a as ue}from"./axios-ngrFHoWO.js";import{c as xr}from"./react-router-vPOY4muN.js";import"./react-dom-C5TvV5XQ.js";import"./scheduler-C323NY8X.js";import"./@reduxjs-D09xkNSb.js";import"./immer-C0GRqQ_d.js";import"./redux-D9aXM7rm.js";import"./@babel-CYk816RD.js";import"./redux-thunk-CY0Q9z1Q.js";import"./react-router-dom-Dghs3TPc.js";import"./@remix-run-ox1qIyJK.js";import"./hoist-non-react-statics-C-Qo8PK8.js";import"./react-is-BwqtTtay.js";import"./react-helmet-async-CnDSc5Ri.js";import"./react-fast-compare-BHbKlhN4.js";import"./invariant-B_pwkeTo.js";import"./shallowequal-C7ef0Lra.js";import"./use-sync-external-store-BqPSEvA7.js";const $r="https://bg.jenniina.fi",de=`${$r}/api/blobs`,wr=async(y,t,N)=>(await ue.get(`${de}/${y}/${t}`,{params:{language:N}})).data,jr=async(y,t,N,g)=>(await ue.get(`${de}/${y}/${t}/${N}/${g}`)).data,Br=async(y,t,N,g,$,z)=>(await ue.post(`${de}/${y}/${t}/${g}/${z}`,{draggables:N,backgroundColor:$})).data,Sr=async(y,t,N,g,$,z,s)=>(await ue.put(`${de}/${y}/${t}/${g}/${z}`,{d:t,versionName:g,draggables:N,backgroundColor:$,newVersionName:s})).data,Nr=async(y,t,N,g)=>(await ue.delete(`${de}/${y}/${t}/${N}/${g}`)).data,ie={getAllBlobsByUser:wr,getBlobsVersionByUser:jr,saveBlobsByUser:Br,editBlobsByUser:Sr,deleteBlobsVersionByUser:Nr},Cr=n.lazy(()=>We(()=>import("./ColorBlocks-Bq55bBXJ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]))),Lr=n.lazy(()=>We(()=>import("./Sliders-YMtATvJw.js"),__vite__mapDeps([25,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]))),Dr=n.lazy(()=>We(()=>import("./DragLayers-CPoWfvYU.js"),__vite__mapDeps([26,3,1,2,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]))),Rr=[{color1:"darkorange",color2:"orange"},{color1:"orangered",color2:"palevioletred"},{color1:"magenta",color2:"violet"},{color1:"blue",color2:"cyan"},{color1:"greenyellow",color2:"lemonchiffon"},{color1:"cyan",color2:"greenyellow"},{color1:"cyan",color2:"pink"},{color1:"lemonchiffon",color2:"pink"}],Er=[{color1:"indianred",color2:"palevioletred"},{color1:"sienna",color2:"peru"},{color1:"chocolate",color2:"burlywood"},{color1:"darkkhaki",color2:"moccasin"},{color1:"slateblue",color2:"mediumpurple"},{color1:"royalblue",color2:"turquoise"},{color1:"cadetblue",color2:"mediumaquamarine"},{color1:"lightslategray",color2:"lightsteelblue"}],Mr=[{color1:"indigo",color2:"mediumorchid"},{color1:"darkmagenta",color2:"palevioletred"},{color1:"crimson",color2:"indianred"},{color1:"chocolate",color2:"orangered"},{color1:"darkcyan",color2:"olivedrab"},{color1:"midnightblue",color2:"darkturquoise"},{color1:"mediumblue",color2:"cadetblue"},{color1:"darkblue",color2:"mediumslateblue"}],ze=[Rr,Er,Mr];let Jt="90deg";const Je=3,ee=y=>{y.preventDefault()};function is({language:y,d:t,ds:N,dragWrapOuter:g,scroll:$,setScroll:z}){var Ht,Vt,_t;const{t:s}=n.useContext(er),Y=tr(),P="214",T=t===0?"80":t===2?"50":"45",I=t===0?"30":t===2?"5":"25",{state:pe,dispatch:d}=n.useContext(or),m=rr(),h=zt(e=>{var r;return(r=e.auth)==null?void 0:r.user}),Ye=zt(e=>e.users),u=n.useRef(null),Ne=n.useRef(null),me=n.useRef(null),Wt=n.useRef(null),Yt=n.useRef(null),Gt=n.useRef(null);n.useRef(null),n.useRef(null);const[te,O]=n.useState(!1),Ge=n.useRef(null),C=n.useRef(null),H=n.useRef(null),G=n.useRef(null),J=n.useRef(null),L=n.useRef(null),V=n.useRef(null),he=n.useRef(null),q=n.useRef(null),D=n.useRef(null),R=n.useRef(null),E=n.useRef(null),Ce=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",qe=`${Ce?"local-":""}BlobLayerAmount${[t]}`,oe=`${Ce?"local-":""}BackgroundColor${[t]}`,Le=`${Ce?"local-":""}Draggables${[t]}`,S=pe.backgroundColor,k=pe.draggables,{windowHeight:ge,windowWidth:B}=sr(),[M,re]=n.useState(0),[_,De]=n.useState(new Set),[fe,qt]=n.useState({}),[Zt,Xt]=n.useState(0),[x,Ze]=n.useState(null),[Re,Xe]=n.useState(!1),[se,Qt]=n.useState(!0),[w,Kt]=n.useState(!0),[Qe,Ee]=n.useState(!1),[Ke,Me]=n.useState(!1),[et,tt]=n.useState(!1),ot=n.useRef(null),rt=n.useRef(null),st=n.useRef(null),at=n.useRef(null),nt=n.useRef(null),lt=n.useRef(null),ct=n.useRef(null),it=n.useRef(null),ut=n.useRef(null),dt=n.useRef(null),pt=n.useRef(null),mt=n.useRef(null),ht=n.useRef(null),gt=n.useRef(null),ft=n.useRef(null),bt=n.useRef(null),yt=n.useRef(null),vt=n.useRef(null),kt=n.useRef(null),xt=n.useRef(null),$t=n.useRef(null),wt=n.useRef(null),jt=n.useRef(null),Bt=n.useRef(null),eo=[new Map([[ot,"colorBlockOrange"],[rt,"colorBlockRed"],[st,"colorBlockPurple"],[at,"colorBlockBlue"],[nt,"colorBlockYellowLime"],[lt,"colorBlockCyanYellow"],[ct,"colorBlockCyanPink"],[it,"colorBlockPinkYellow"]]),new Map([[ut,"colorBlockReddish"],[dt,"colorBlockBrown"],[ft,"colorBlockTan"],[pt,"colorBlockKhaki"],[ht,"colorBlockPurplish"],[mt,"colorBlockBluish"],[gt,"colorBlockGreenish"],[bt,"colorBlockGray"]]),new Map([[yt,"colorBlockDarkPurple"],[vt,"colorBlockDarkPink"],[kt,"colorBlockDarkRed"],[xt,"colorBlockDarkOrange"],[$t,"colorBlockDarkGreen"],[wt,"colorBlockGreenishBlue"],[jt,"colorBlockDarkBlue"],[Bt,"colorBlockPurplishBlue"]])],to=(e,r)=>e.get(r),Ae=[[ot,rt,st,at,nt,lt,ct,it],[ut,dt,ft,pt,ht,mt,gt,bt],[yt,vt,kt,xt,$t,wt,jt,Bt]],[Pe,oo]=n.useState(""),ro=e=>{Pe&&d({type:"partialUpdate",payload:{d:t,id:e,update:{background:Pe}}})},so=(e,r)=>{const a=fe[r]+1;d({type:"partialUpdate",payload:{d:t,id:e.id,update:{layer:r,z:a}}}),re(r)},ao=e=>{De(r=>{var l;const a=new Set(r);return a.has(e)?a.delete(e):(a.add(e),re(e!==0?e-1:e),(l=document.activeElement)==null||l.blur()),a})};n.useEffect(()=>{const e=()=>Xe(!0),r=()=>{Xe(!1)},a=()=>{Ze(null)};return window.addEventListener("keyup",e),window.addEventListener("mousedown",r),window.addEventListener("mouseup",a),()=>{window.removeEventListener("keyup",e),window.removeEventListener("mousedown",r),window.removeEventListener("mouseup",a)}},[]);function no(){return new Promise(e=>{setTimeout(()=>{const r=localStorage.getItem(Le);if(r==null||r==null||r==="undefined")e(null);else{const a=JSON.parse(r);e(a.map(l=>({...l,layer:l.layer??0})))}},300)})}function lo(){return new Promise(e=>{setTimeout(()=>{var a;const r=localStorage.getItem(qe);r!=null?e(parseInt(r)):((a=k[t])==null?void 0:a.length)>0?e(Math.max(...k[t].map(l=>l.layer))+1):e(Je)},100)})}function co(){return new Promise(e=>{setTimeout(()=>{const r=localStorage.getItem(oe);r==null||r==null||r==="undefined"?e(null):e(JSON.parse(r))},300)})}function be(e=F){localStorage.setItem(qe,JSON.stringify(e))}function A(e=S[t]){localStorage.setItem(oe,JSON.stringify(e))}function St(e=k[t]){localStorage.setItem(Le,JSON.stringify(e))}const[Z,Nt]=n.useState(s("BlobArt")),[ye,Ct]=n.useState(Z),[io,uo]=n.useState(""),[po,ve]=n.useState(!0),[Lt,mo]=n.useState(!1),[ke,Te]=n.useState(!1),[xe,ho]=n.useState({}),[F,X]=n.useState(0),go=async()=>{var e,r;ve(!0);try{h!=null&&h._id&&ie.getAllBlobsByUser(h==null?void 0:h._id,t,y).then(a=>{if(a){const l={};a.forEach(c=>{const{d:i,versionName:b}=c;l[i]||(l[i]={}),l[i][b]=c}),ho(l),mo(Object.keys(l).length>0),ve(!1)}}).catch(a=>{var l,c;(c=(l=a.response)==null?void 0:l.data)!=null&&c.message?d(p(a.response.data.message,!0,8)):m(p(`${s("Error")}: ${a.message}`,!0,8)),ve(!1)})}catch(a){(r=(e=a.response)==null?void 0:e.data)!=null&&r.message?d(p(a.response.data.message,!0,8)):m(p(s("Error"),!0,8)),ve(!1)}},fo=e=>{for(const r in xe)if(xe[r][e])return!0;return!1},Dt=/^[\w\s\u00C0-\u024F\u1E00-\u1EFF-_]*$/,bo=e=>{const r=e.target.value;Dt.test(r)?Nt(r):m(p(s("SpecialCharactersNotAllowed"),!0,8))},yo=e=>{const r=e.target.value;Dt.test(r)?Ct(r):m(p(s("SpecialCharactersNotAllowed"),!0,8))},vo=async e=>{var r,a;O(!0),e.preventDefault();try{if(Z.trim()===""){m(p(s("NameYourArtwork"),!0,8)),O(!1);return}else if(Z.trim().length>30){O(!1),m(p(`${s("NameTooLong")}. ${s("AMaxOf30CharactersPlease")}`,!0,8));return}else if(h!=null&&h._id){const l=Z.trim();if(fo(l)&&!Y({message:s("AVersionAlreadyExistsOverwrite")}))return;ie.saveBlobsByUser(h==null?void 0:h._id,t,k[t],Z,S[t],y).then(()=>{Te(!ke),O(!1),m(p(s("SavingSuccessful"),!1,8))}).catch(c=>{var i,b;(b=(i=c.response)==null?void 0:i.data)!=null&&b.message?d(p(c.response.data.message,!0,8)):m(p(`${s("Error")}: ${c.message}`,!0,8))})}else m(p(s("LoginToSaveBlobs"),!0,8)),O(!1)}catch(l){(a=(r=l.response)==null?void 0:r.data)!=null&&a.message?d(p(l.response.data.message,!0,8)):m(p(s("Error"),!0,8)),O(!1)}},ko=async(e,r)=>{var l,c;const a=r.trim();if(r.trim()===""){m(p(s("NameYourArtwork"),!0,8));return}else if(r.trim().length>30){m(p(`${s("NameTooLong")}. ${s("AMaxOf30CharactersPlease")}`,!0,8));return}else try{h!=null&&h._id?ie.editBlobsByUser(h==null?void 0:h._id,t,k[t],e,S[t],y,a).then(()=>{Te(!ke),m(p(s("SavingSuccessful"),!1,8))}).catch(i=>{var b,v;(v=(b=i.response)==null?void 0:b.data)!=null&&v.message?d(p(i.response.data.message,!0,8)):m(p(`${s("Error")}: ${i.message}`,!0,8))}):m(p(s("LoginToSaveBlobs"),!0,8))}catch(i){(c=(l=i.response)==null?void 0:l.data)!=null&&c.message?d(p(i.response.data.message,!0,8)):m(p(s("Error"),!0,8))}},xo=async(e,r)=>{const a=r.trim();h!=null&&h._id&&await Y({message:s("NoteThatUnsavedChangesWillBeLost")})&&ie.getBlobsVersionByUser(h==null?void 0:h._id,e,a,y).then(l=>{const c=Math.max(...l.draggables.map(i=>i.layer));X(c+1),setTimeout(()=>{be(c+1)},300),d({type:"setDraggablesAtD",payload:{d:e,draggables:l.draggables}}),d({type:"setBackgroundColor",payload:{d:e,backgroundColor:l.backgroundColor}}),A(l.backgroundColor),ae(l.backgroundColor[0]),ne(l.backgroundColor[1]),le(l.backgroundColor[2]),Oe({[`--hue${e}`]:`${l.backgroundColor[0]}`}),He({[`--saturation${e}`]:`${l.backgroundColor[1]}`}),Ve({[`--lightness${e}`]:`${l.backgroundColor[2]}`})}).then(()=>{Nt(a),Jo(),setTimeout(()=>{Q()},300)}).catch(l=>{var c,i;(i=(c=l.response)==null?void 0:c.data)!=null&&i.message?d(p(l.response.data.message,!0,8)):m(p(`${s("Error")}: ${l.message}`,!0,8))})},$o=async(e,r)=>{h._id&&await Y({message:s("AreYouSureYouWantToDeleteThisVersion")})&&ie.deleteBlobsVersionByUser(h._id,e,r,y).then(()=>{m(p(s("DeletedArt"),!1,8)),Te(!ke)}).catch(a=>{var l,c;(c=(l=a.response)==null?void 0:l.data)!=null&&c.message?d(p(a.response.data.message,!0,8)):m(p(`${s("Error")}: ${a.message}`,!0,8))})};n.useEffect(()=>{(async()=>{await m(nr()),await m(lr())})()},[m]),n.useEffect(()=>{h&&go()},[h,ke]);function wo(e){return e.reduce((r,a)=>{const l=parseInt(a.z,10),c=a.layer;return(!r[c]||l>r[c])&&(r[c]=l),r},{})}n.useEffect(()=>{(async()=>{const r=await no(),a=await co(),l=setTimeout(async()=>{var i,b,v;const c=await lo();a&&a.length===3?(d({type:"setBackgroundColor",payload:{d:t,backgroundColor:a}}),A(a),ae(a[0]),ne(a[1]),le(a[2]),(i=g.current)==null||i.style.setProperty(`--hue${t}`,`${a[0]}`),(b=g.current)==null||b.style.setProperty(`--saturation${t}`,`${a[1]}`),(v=g.current)==null||v.style.setProperty(`--lightness${t}`,`${a[2]}`)):(d({type:"setBackgroundColor",payload:{d:t,backgroundColor:[P,T,I]}}),A([P,T,I])),c?X(c):r&&r.length>0&&X(Math.max(...r.map(f=>f.layer))+1),r&&r.length>0?(r&&r.length>0&&jo(r),Ee(!0)):r==null&&!Qe&&(At(Rt,t),Ee(!0))},300);return()=>clearTimeout(l)})()},[]),n.useEffect(()=>{var e;if(k[t]!==void 0&&((e=k[t])==null?void 0:e.length)>0){St();const r=wo(k[t]);qt(r)}},[k[t]]);function jo(e){if(!Qe&&e&&(e==null?void 0:e.length)>0){for(let r=0;r<(e==null?void 0:e.length);r++)if(e[r]!==null&&e[r]!==void 0){const a={layer:e[r].layer,id:`${e[r].id}`,number:e[r].number,i:e[r].i,x:`${e[r].x}`,y:`${e[r].y}`,z:`${e[r].z}`,background:`${e[r].background??"linear-gradient(90deg, cyan, greenyellow)"}`};d({type:"addDraggable",payload:{d:t,draggable:a}})}}Ee(!0)}const Bo=()=>{d({type:"moveDraggablesLeft",payload:{d:t}})},So=()=>{d({type:"moveDraggablesRight",payload:{d:t}})},No=()=>{d({type:"moveDraggablesUp",payload:{d:t}})},Co=()=>{d({type:"moveDraggablesDown",payload:{d:t}})};function Lo(e){var a;e.preventDefault();const r=(a=g.current)==null?void 0:a.querySelectorAll(".dragzone");r&&!Ke?(r.forEach(l=>{l.classList.remove("animation"),l.offsetWidth}),Me(!0)):r&&(r.forEach(l=>{l.classList.add("animation"),l.offsetWidth}),Me(!1))}n.useEffect(()=>{et&&u.current&&(u.current.classList.add("paused"),Me(!0))},[et]),n.useEffect(()=>{const e=window.matchMedia("(prefers-reduced-motion: reduce)");tt(e.matches);const r=()=>tt(e.matches);return e.addEventListener("change",r),()=>{e.removeEventListener("change",r)}},[]);const Rt=B>700?10:6,Et=e=>{switch(e.key){case"Escape":z(!0),document.body.style.overflowY="auto",document.body.style.overflowX="hidden";break}};n.useEffect(()=>(window.addEventListener("keyup",Et),()=>{window.removeEventListener("keyup",Et)}),[]);const Mt=e=>{const r=k[t].some(c=>c.layer===0&&e<0),a=k[t].some(c=>c.layer===F-1&&e>0);if(r){m(p(s("CannotLowerEveryBlobFurtherSomeBlobsAlreadyLowest"),!0,8));return}if(a){m(p(s("CannotRaiseEveryBlobFurther"),!0,8));return}const l=k[t].map(c=>{const i=c.layer+e;return i>=0&&i<F?{...c,layer:i}:c});d({type:"setDraggablesAtD",payload:{d:t,draggables:l}})};async function Do(e){e.preventDefault(),await Y({message:`${s("ResetBlobs")}?`})&&(window.localStorage.removeItem(Le),d({type:"resetDraggables",payload:{d:t}}),d({type:"setDraggablesAtD",payload:{d:t,draggables:[]}}),At(Rt,t),setTimeout(()=>{Q(),be(Je)},300))}const At=(e,r)=>{re(0);for(let a=0;a<e;a++){const l=()=>{const v=ze[r],f=Math.floor(Math.random()*v.length);return[v[f].color1,v[f].color2]},[c,i]=l(),b={layer:0,id:`blob${a+1}-${r}`,number:a+1,i:B>400?Math.round(U(7,20)):Math.round(U(7,10)),x:B>ge?`${B/100*Math.round(U(2,70))}px`:`${B/100*Math.round(U(2,50))}px`,y:`${ge/100*Math.round(U(2,60))}px`,z:"1",background:`linear-gradient(${Jt}, ${c??"cyan"},${i??"greenyellow"})`};d({type:"addDraggable",payload:{d:r,draggable:b}})}X(Je)},Ie=()=>{const e=["cyan","lemonchiffon","pink","orangered","magenta","deepskyblue","darkorange","tomato","violet","dodgerblue","greenyellow","orange","silver","darkgray","gray","hotpink","wheat","sandybrown","rosybrown","dimgray","darkkhaki","darkseagreen","slateblue","royalblue","moccasin","burlywood","chocolate","cadetblue","mediumpurple","sienna","peru","indianred","palevioletred","plum","palegreen","mediumaquamarine","lightsteelblue","aquamarine","yellowgreen"],r=Math.floor(Math.random()*e.length);return e[r]};n.useEffect(()=>{},[pe.draggables]);const Pt=(e=`${B/100*Math.round(U(25,55))}px`,r=`${ge/100*Math.round(U(2,10))}px`,a=M)=>{if(document.activeElement instanceof HTMLElement&&document.activeElement.id===`make-random${t}`&&document.activeElement.blur(),_.has(M)){m(p(s("LayerHidden"),!0,8));return}const l=Ie(),c=Ie(),i=Math.max(...pe.draggables[t].map(f=>parseInt(f.id.split("-")[0].replace("blob",""),10))),b=isNaN(fe[a])?1:fe[a]+1,v={layer:a,id:`blob${i+1}-${t}`,number:i+1,i:Math.ceil(U(6.5,10)),x:e,y:r,z:`${b}`,background:`linear-gradient(${Jt}, ${l??"cyan"},${c??"greenyellow"})`};d({type:"duplicateDraggable",payload:{d:t,draggable:v}})},Ro=e=>{const r=e.id,a=window.getComputedStyle(e),l=parseInt(e.id.replace("blob","").split("-")[0],10),c=a.getPropertyValue("--i")??e.style.getPropertyValue("--i")??"10",i=a.getPropertyValue("left")??e.style.getPropertyValue("left"),b=a.getPropertyValue("top")??e.style.getPropertyValue("top"),v=a.getPropertyValue("z-index")??e.style.getPropertyValue("z-index"),f=a.getPropertyValue("background")??e.style.getPropertyValue("background"),Se=a.getPropertyValue("--layer")??e.style.getPropertyValue("--layer"),Ko={layer:Se?parseInt(Se):M,id:r,number:l,i:isNaN(parseFloat(c))?10:parseFloat(c),x:i,y:b,z:v,background:f??"linear-gradient(90deg, cyan, greenyellow)"};d({type:"updateDraggable",payload:{d:t,draggable:Ko}})};n.useEffect(()=>{var e,r;return $?$&&(document.body.style.overflowY="auto",document.body.style.overflowX="hidden",document.removeEventListener("touchmove",ee),g.current&&(g.current.style.overflow="auto"),(r=g.current)==null||r.removeEventListener("touchmove",ee)):(document.addEventListener("touchmove",ee,{passive:!1}),document.body.style.overflow="hidden",(e=g.current)==null||e.addEventListener("touchmove",ee,{passive:!1}),g.current&&(g.current.style.overflow="hidden")),()=>{var a;document.removeEventListener("touchmove",ee),(a=g.current)==null||a.removeEventListener("touchmove",ee)}},[$]);function Eo(){z(!$)}const[$e,ae]=n.useState(()=>{const e=localStorage.getItem(oe),r=e?JSON.parse(e):null;return(r==null?void 0:r[0])??P}),[we,ne]=n.useState(()=>{const e=localStorage.getItem(oe),r=e?JSON.parse(e):null;return(r==null?void 0:r[1])??T}),[je,le]=n.useState(()=>{const e=localStorage.getItem(oe),r=e?JSON.parse(e):null;return(r==null?void 0:r[2])??I}),Mo={backgroundColor:`hsl(var(--hue${t}), calc(var(--saturation${t}) * 1%), calc(var(--lightness${t}) * 1%))`},[Ao,Oe]=n.useState(E.current?{[`--hue${t}`]:`${E.current.value}`}:{[`--hue${t}`]:`${$e}`}),[Po,He]=n.useState(R.current?{[`--saturation${t}`]:`${R.current.value}`}:{[`--saturation${t}`]:`${we}`}),[To,Ve]=n.useState(D.current?{[`--lightness${t}`]:`${D.current.value}`}:{[`--lightness${t}`]:`${je}`});function Io(){if(g.current){Oe({[`--hue${t}`]:`${$e}`});const e=JSON.parse(JSON.stringify(S));e[t][0]=$e,d({type:"setBackgroundColor",payload:{d:t,backgroundColor:e[t]}}),A(e[t])}}function Oo(){if(g.current){He({[`--saturation${t}`]:`${we}`});const e=JSON.parse(JSON.stringify(S));e[t][1]=we,d({type:"setBackgroundColor",payload:{d:t,backgroundColor:e[t]}}),A(e[t])}}function Ho(){if(g.current){Ve({[`--lightness${t}`]:`${je}`});const e=JSON.parse(JSON.stringify(S));e[t][2]=je,d({type:"setBackgroundColor",payload:{d:t,backgroundColor:e[t]}}),A(e[t])}}n.useEffect(()=>{D.current&&le(D.current.value)},[(Ht=D==null?void 0:D.current)==null?void 0:Ht.value]),n.useEffect(()=>{R.current&&ne(R.current.value)},[(Vt=R==null?void 0:R.current)==null?void 0:Vt.value]),n.useEffect(()=>{E.current&&ae(E.current.value)},[(_t=E==null?void 0:E.current)==null?void 0:_t.value]);function Vo(){Ve({[`--lightness${t}`]:`${I}`}),D.current&&(D.current.value=I),le(I);const e=JSON.parse(JSON.stringify(S));e[t][2]=I,A(e[t]),d({type:"setBackgroundColor",payload:{d:t,backgroundColor:e[t]}})}function _o(){He({[`--saturation${t}`]:`${T}`}),R.current&&(R.current.value=T),ne(T);const e=JSON.parse(JSON.stringify(S));e[t][1]=T,A(e[t]),d({type:"setBackgroundColor",payload:{d:t,backgroundColor:e[t]}})}function Fo(){Oe({[`--hue${t}`]:`${P}`}),E.current&&(E.current.value=P),ae(P);const e=JSON.parse(JSON.stringify(S));e[t][0]=P,A(e[t]),d({type:"setBackgroundColor",payload:{d:t,backgroundColor:e[t]}})}n.useEffect(()=>{Q()},[B,ge,$]);const Q=()=>{const a=[12,34,56,78];G.current&&u.current&&B<250?j(G.current,15,0):G.current&&u.current&&j(G.current,23,0),he.current&&u.current&&j(he.current,50-he.current.offsetWidth/u.current.offsetWidth*50,0),H.current&&u.current&&B<250?j(H.current,85-H.current.offsetWidth/u.current.offsetWidth*100,.3):H.current&&u.current&&j(H.current,77-H.current.offsetWidth/u.current.offsetWidth*100,.3),V.current&&u.current&&B<300?j(V.current,27,100-V.current.offsetHeight/u.current.offsetHeight*100):V.current&&u.current&&j(V.current,32,100-V.current.offsetHeight/u.current.offsetHeight*100),L.current&&u.current&&B<300?j(L.current,73-L.current.offsetWidth/u.current.offsetWidth*100,100-L.current.offsetHeight/u.current.offsetHeight*100):L.current&&u.current&&j(L.current,68-L.current.offsetWidth/u.current.offsetWidth*100,100-L.current.offsetHeight/u.current.offsetHeight*100),J.current&&u.current&&B<300?j(J.current,2,100-J.current.offsetHeight/u.current.offsetHeight*100):J.current&&u.current&&j(J.current,10,100-J.current.offsetHeight/u.current.offsetHeight*100),C.current&&u.current&&B<300?j(C.current,98-C.current.offsetWidth/u.current.offsetWidth*100,100-C.current.offsetHeight/u.current.offsetHeight*100):C.current&&u.current&&j(C.current,90-C.current.offsetWidth/u.current.offsetWidth*100,100-C.current.offsetHeight/u.current.offsetHeight*100),Ae.forEach(l=>{l.forEach((c,i)=>{if(c.current&&Ne.current){const b=i<4?0:100-c.current.offsetWidth/Ne.current.offsetWidth*100,v=a[i%4];j(c.current,b,v)}})})};function j(e,r,a){e&&u.current&&(e.style.left=u.current.offsetWidth/100*r+"px",e.style.top=u.current.offsetHeight/100*a+"px")}n.useEffect(()=>{x&&se&&Re&&x&&q.current&&(q.current.style.top=`${x.top+x.width*-.05}px`,q.current.style.left=`${x.left+x.width*-.05}px`,q.current.style.width=`${x.width*1.1}px`,q.current.style.height=`${x.height*1.1}px`)},[x,se,Re]);const Tt=xr(),Uo=()=>{Tt("/portfolio/blob?register=register")},zo=()=>{Tt("/portfolio/blob?login=login")},Jo=()=>{const e=document.getElementById(`button-container${t}`);e&&e.scrollIntoView({behavior:"smooth",block:"start"})},Wo=async()=>{if(u.current){O(!0);try{const e=cr(Number(S[t][0]),Number(S[t][1]),Number(S[t][2])),r=t===0?0:1,a=await ir.toPng(u.current,{scale:2,useCORS:!0,allowTaint:!1,bgcolor:e,width:u.current.offsetWidth,height:u.current.offsetHeight,onclone:l=>{const c=document.querySelector(`svg#svgfilter${r}`);if(c){const i=c.cloneNode(!0);l.appendChild(i)}}});if(a){const l=document.createElement("a");l.href=a,l.download="blobs.png",document.body.appendChild(l),l.click(),document.body.removeChild(l),d(p(s("ArtSaved"),!1,8))}else d(p(s("Error"),!0,8))}catch(e){console.error("Screenshot Error:",e),d(p(s("Error"),!0,8))}finally{O(!1)}}};n.useEffect(()=>{te&&m(p(`${s("Loading")}...`,!1,20))},[te]);const[ce,Yo]=n.useState(5),[Go,qo]=n.useState({[t]:1}),Be=(e,r)=>{qo(a=>({...a,[e]:r}))},Zo=async()=>{if(_.size===0){m(p("Please hide the layers you want to delete.",!0,8));return}if(Array.from(_).filter(c=>k[t].some(i=>i.layer===c)).length>0&&!await Y({message:`${s("LayerNotEmpty")}. ${s("AreYouSureYouWantToProceed")}`}))return;const r=k[t].filter(c=>!_.has(c.layer)),a=F-_.size;if(a<1){m(p(s("MustHaveAtLeastOneLayer"),!0,8));return}const l=r.map(c=>{const i=c.layer;let b=i;return _.forEach(v=>{i>v&&(b-=1)}),{...c,layer:b}});d({type:"setDraggablesAtD",payload:{d:t,draggables:l}}),X(a),be(a),De(new Set),setTimeout(()=>{Q()},300)},Xo=e=>{const r=F+e;if(r>9){m(p(s("MaximumLayerAmountReached"),!0,8));return}const a=k[t].map(l=>{const c=l.layer>M?l.layer+e:l.layer;return{...l,layer:c}});d({type:"setDraggablesAtD",payload:{d:t,draggables:a}}),X(r),be(r),De(new Set),setTimeout(()=>{Q()},300)},[_e,Fe]=n.useState(""),[W,It]=n.useState("none"),K=e=>{It(r=>{const a=r===e?"none":e;return a!==e&&Fe(""),a})};function Qo(e){Fe(e.id),me.current&&(me.current.textContent=`${s("SelectedBlobNone")}`)}n.useEffect(()=>{_e&&(d({type:"removeDraggable",payload:{d:t,id:_e}}),Fe(""))},[_e,t,d]);const Ot=(e,r,a)=>{const l=Math.random().toString(36).substr(2,9);return Lt?o.jsxs("div",{className:"pagination-controls",children:[r!==1?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>Be(Number(e),1),disabled:r===1,className:"btn-small pagination-btn",children:["« ",o.jsx("span",{className:"scr",children:s("BackToStart")})]}),o.jsxs("button",{onClick:()=>Be(Number(e),Math.max(r-1,1)),disabled:r===1,className:"btn-small pagination-btn",children:[" ‹ ",o.jsx("span",{className:"scr",children:s("Previous")})]})]}):o.jsx(o.Fragment,{}),o.jsxs("span",{children:[s("Page")," ",r," / ",a]}),r!==a?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>Be(Number(e),Math.min(r+1,a)),disabled:r===a,className:"btn-small pagination-btn",children:[o.jsx("span",{className:"scr",children:s("Next")})," › "]}),o.jsxs("button",{onClick:()=>Be(Number(e),a),disabled:r===a,className:"btn-small pagination-btn",children:[o.jsx("span",{className:"scr",children:s("ToLastPage")})," »"]})]}):o.jsx(o.Fragment,{}),o.jsx("div",{className:"input-wrap items-per-page",children:o.jsxs("label",{htmlFor:`items-per-page${t}-${l}`,children:[o.jsx("input",{id:`items-per-page${t}-${l}`,className:"",type:"number",value:ce,placeholder:ce.toString(),min:1,max:100,onChange:c=>Yo(Number(c.target.value))}),o.jsx("span",{children:s("PerPage")})]})})]}):o.jsx(o.Fragment,{})};return o.jsx(o.Fragment,{children:o.jsx("section",{className:"card",children:o.jsx("div",{children:o.jsxs("div",{id:`drag-container${t}`,className:`drag-container drag-container${t}`,children:[o.jsxs("div",{className:"blob-title-wrap",children:[o.jsxs("h2",{className:"blob-title",children:[s("BlobArt")," ",t+1]}),t===0?o.jsxs("p",{children:[s("MoreColorsAvailableThroughRandomBlobButton")," "]}):t===1?o.jsxs("p",{children:[s("WithMoreMutedColors"),"."," ",s("MoreColorsAvailableThroughRandomBlobButton")," "]}):t===2?o.jsxs("p",{children:[s("DarkerColors"),"."," ",s("MoreColorsAvailableThroughRandomBlobButton")," "]}):o.jsx("p",{children:s("MoreColorsAvailableThroughRandomBlobButton")})]}),o.jsxs("div",{className:"label-container",children:[o.jsx("span",{id:`blobdescription${t}`,className:"scr",children:s("TryDraggingTheBlobs")}),o.jsxs("span",{children:["[",s("Layer"),": ",M+1,"]"," "]}),o.jsx("span",{ref:me,id:`selectedvalue${t}`,className:"selectedvalue",children:s("SelectedBlobNone")})]}),o.jsxs("div",{id:`button-container${t}`,className:"button-container",children:[o.jsxs("button",{ref:Wt,id:`stop-blobs${t}`,className:"stop-blobs tooltip-wrap ",onClick:e=>{Lo(e)},"aria-labelledby":`stop-blobs${t}-span`,children:[o.jsx("span",{id:`stop-blobs${t}-span`,className:"tooltip above",children:s("AfterEnablingThereIsASlightDelayBeforeAllTheBlobsAreMovingAgain")}),s(Ke?"StartSway":"StopSway")]}),o.jsxs("button",{ref:Gt,id:`reset-blobs${t}`,"aria-labelledby":`reset-blobs${t}-span`,className:"reset-blobs tooltip-wrap",onClick:e=>{Do(e)},children:[o.jsx("span",{id:`reset-blobs${t}-span`,className:"tooltip above",children:s("GetANewSetOfBlobs")})," ",s("Reset")]}),o.jsxs("button",{id:`toggle-marker${t}`,"aria-labelledby":`toggle-marker${t}-span`,className:"toggle-marker tooltip-wrap",onClick:()=>Qt(!se),children:[o.jsx("span",{id:`toggle-marker${t}-span`,className:"tooltip above",children:`${s("ToggleMarkerVisibilityWhenUsingAKeyboard")}`}),s(se?"MarkerOn":"MarkerOff")]}),o.jsxs("button",{ref:Yt,id:`disable-scroll${t}`,"aria-labelledby":`disable-scroll${t}-span`,className:`disable-scroll tooltip-wrap ${$?"":"active"}`,onClick:()=>{Eo()},children:[o.jsx("span",{id:`disable-scroll${t}-span`,className:"tooltip above",children:s($?"DisableScrollInOrderToUseTheMouseWheelToResizeABlob":"PressHereOrEscapeToRestoreScrolling")}),s($?"DisableScroll":"EnableScroll")]}),o.jsx("button",{id:`toggle-controls${t}`,"aria-labelledby":`toggle-controls${t}-span`,className:`toggle-controls ${w?"":"active"}`,onClick:()=>{Kt(!w),w||setTimeout(()=>{Q()},200)},children:o.jsxs("span",{id:`toggle-controls${t}-span`,children:[" ",s(w?"HideControls":"ShowControls")]})}),o.jsxs("button",{type:"button",id:`take-screenshot${t}`,"aria-labelledby":`take-screenshot${t}-span`,disabled:te,onClick:Wo,className:"screenshot tooltip-wrap",children:[o.jsx(ur,{}),o.jsx("span",{id:`take-screenshot${t}-span`,className:"tooltip left above",children:s(te?"Loading":"ClickHereToTakeAScreenshot")})]})]}),o.jsxs("div",{ref:Ne,className:`drag-wrap-outest drag-wrap-outest${t}`,children:[o.jsxs("div",{ref:g,id:`drag-wrap-outer${t}`,className:"drag-wrap-outer",style:{...To,...Po,...Ao,...Mo},children:[o.jsxs("button",{tabIndex:0,ref:H,className:`make-smaller tooltip-wrap restore ${w?"":"hidden"}`,id:`make-smaller${t}`,onClick:()=>{K("scale-down")},children:[o.jsx(dr,{}),W==="scale-down"&&o.jsx("span",{className:"scale-down-alert",children:s("SizeDecreaseModeOn")}),o.jsx("span",{id:`make-smaller${t}-span`,className:"tooltip left below",children:`${s("ShrinkInstructions")}. ${s("Alternatively")}: ${s("ResizebyScrollInstructions")}`})]}),o.jsxs("button",{ref:C,className:`make-larger tooltip-wrap restore ${w?"":"hidden"}`,id:`make-larger${t}`,onClick:()=>{K("scale-up")},children:[o.jsx(pr,{}),W==="scale-up"&&o.jsx("span",{className:"scale-up-alert",children:s("SizeIncreaseModeOn")}),o.jsx("span",{id:`make-larger${t}-span`,className:"tooltip left above",children:`${s("EnlargeInstructions")}. ${s("Alternatively")}: ${s("ResizebyScrollInstructions")}`})]}),o.jsxs("button",{ref:G,className:`make-more tooltip-wrap restore ${w?"":"hidden"}`,id:`make-more${t}`,onClick:()=>{K("clone")},children:[o.jsx(mr,{}),W==="clone"&&o.jsx("span",{className:"clone-alert",children:s("CloneModeOn")}),o.jsx("span",{id:`make-more${t}-span`,className:"tooltip right below",children:s("CloneInstructions")})]}),o.jsxs("button",{ref:he,className:`make-random tooltip-wrap ${w?"":"hidden"}`,id:`make-random${t}`,"aria-labelledby":`make-random${t}-span`,onClick:()=>Pt(),children:[o.jsx(hr,{}),o.jsx("span",{id:`make-random${t}-span`,className:"tooltip below",children:`${s("ClickMeToMakeARandomBlob")}. ${s("MoreColorsAvailable")}!`})]}),o.jsxs("button",{ref:J,className:`delete-blob tooltip-wrap restore ${w?"":"hidden"}`,id:`delete-blob${t}`,onClick:()=>K("delete"),children:[o.jsx("span",{style:{fontSize:"1.2em"},children:"×"}),W==="delete"&&o.jsx("span",{className:"delete-alert",children:s("DeleteModeOn")}),o.jsx("span",{id:`delete-blob${t}-span`,className:"tooltip right above",children:s("RemovalInstructions")})]}),o.jsxs("button",{ref:V,id:`layer-decrease${t}`,className:`layer-adjust layer-decrease tooltip-wrap restore ${w?"":"hidden"}`,onClick:()=>K("layer-down"),children:[W==="layer-down"&&o.jsx("span",{className:"layer-down-alert",children:s("LayerDecreaseModeOn")}),o.jsx("span",{id:`layer-decrease${t}-span`,className:"tooltip above",children:`${s("DecreaseBlobLayerBy1Instructions")} ${s("KeyboardUsePressTheCorrespondingLayerNumber")}`}),o.jsx(Ft,{})]}),o.jsxs("button",{ref:L,id:`layer-increase${t}`,className:`layer-adjust layer-increase tooltip-wrap restore ${w?"":"hidden"}`,onClick:()=>K("layer-up"),children:[W==="layer-up"&&o.jsx("span",{className:"layer-up-alert",children:s("LayerIncreaseModeOn")}),o.jsx("span",{id:`layer-increase${t}-span`,className:"tooltip above",children:`${s("IncreaseBlobLayerBy1Instructions")} ${s("KeyboardUsePressTheCorrespondingLayerNumber")}`}),o.jsx(Ut,{})]}),se&&Re&&x&&o.jsx("div",{ref:q,style:{position:"absolute",top:`${x.top+x.width*-.05}px`,left:`${x.left+x.width*-.05}px`,width:`${x.width*1.1}px`,height:`${x.height*1.1}px`,outline:"3px dashed black",outlineOffset:"2px",border:"3px dashed white",borderRadius:"50%",zIndex:999}}),o.jsx("div",{ref:u,id:`drag-wrap${t}`,className:"drag-wrap",style:{height:"calc(100vh - 7rem)",minHeight:"420px",width:"100%",minWidth:"100%",backgroundColor:"transparent",margin:"0",padding:"0",overflow:"visible",borderRadius:"0",position:"relative"},children:o.jsx(n.Suspense,{fallback:o.jsxs("div",{className:"flex center margin0auto textcenter",children:[s("Loading"),"..."]}),children:o.jsx(Dr,{layerAmount:F,layer_:M,hiddenLayers:_,changeBlobLayer:so,setActiveLayer:re,highestZIndex:fe,language:y,dispatch:d,d:t,items:k[t]??[],saveDraggables:St,getPosition:Ro,colorBlockProps:Ae,makeLarger0:C,makeSmaller0:H,makeMore0:G,removeBlob:Qo,layerIncrease:L,layerDecrease:V,dragWrap:u,exitApp:Ge,selectedvalue0:me,setFocusedBlob:Ze,colorIndex:Zt,setColorIndex:Xt,colorPairs:ze,colorswitch:Ie,scroll:$,setScroll:z,clickOutsideRef:u,addRandomDraggable:Pt,mode:W,changeColor:ro})})})]}),o.jsx(n.Suspense,{fallback:o.jsxs("div",{className:"flex center margin0auto textcenter",children:[s("Loading"),"..."]}),children:o.jsx(Cr,{d:t,language:y,getRefName:to,map:eo,colorBlockProps:Ae,colorPairs:ze,controlsVisible:w,setSelectedColor:oo,selectedColor:Pe,setMode:It})})]}),o.jsxs("div",{className:"layer-mover-control-wrap",children:[o.jsxs("div",{className:`movers-wrap movers-wrap1 ${w?"":"hidden"}`,children:[o.jsxs("button",{id:`moveleft${t}`,"aria-labelledby":`moveleft${t}-span`,className:"moveleft mover tooltip-wrap narrow2",onClick:So,children:[o.jsx(gr,{}),o.jsx("span",{id:`moveleft${t}-span`,className:"tooltip above",children:s("MoveViewLeft")})]}),o.jsxs("button",{id:`moveright${t}`,"aria-labelledby":`moveright${t}-span`,className:"moveright mover tooltip-wrap narrow2",onClick:Bo,children:[o.jsx(fr,{}),o.jsx("span",{id:`moveright${t}-span`,className:"tooltip above",children:s("MoveViewRight")})]})]}),o.jsxs("div",{className:"layer-btn-wrap layer-tools layer-tools1",children:[o.jsxs("button",{id:`decrease-layer-amount${t}`,"aria-labelledby":`decrease-layer-amount${t}-span`,className:"layer-tool layer-amount decrease-layer-amount tooltip-wrap narrow2 danger",onClick:Zo,children:[o.jsx("span",{id:`decrease-layer-amount${t}-span`,className:"tooltip above",children:s("DeleteHiddenLayers")}),"×"]}),o.jsxs("button",{id:`every-layer-minus${t}`,"aria-labelledby":`every-layer-minus${t}-span`,className:"layer-tool every-layer tooltip-wrap narrow2",onClick:()=>Mt(-1),children:[o.jsx("span",{id:`every-layer-minus${t}-span`,className:"tooltip above",children:s("ClickHereToMoveDownLayer")}),o.jsx(Ft,{})]})]}),o.jsx("div",{className:"layer-btn-wrap layers",children:Array.from({length:F},(e,r)=>r).map((e,r)=>o.jsx("button",{id:`layer-button-${t}-${e}`,"aria-labelledby":`layer-button-${t}-${e}-span`,onClick:()=>{M===e?ao(e):re(e)},className:`layer-button tooltip-wrap narrow2 ${M===e?"active":""} ${_.has(e)?"dim":""}`,children:o.jsxs("span",{id:`layer-button-${t}-${e}-span`,children:[o.jsx("span",{className:"scr",children:s("Layer")})," ",e+1," ",o.jsx("span",{className:"tooltip above",children:s(M===e?"ToggleLayerByClickingMe":"ChangeLayerByClickingMe")})]})},`${e}*${r}`))}),o.jsxs("div",{className:"layer-btn-wrap layer-tools layer-tools2",children:[o.jsxs("button",{id:`every-layer-plus${t}`,"aria-labelledby":`every-layer-plus${t}-span`,className:"layer-tool every-layer tooltip-wrap narrow2",onClick:()=>Mt(1),children:[o.jsx("span",{id:`every-layer-plus${t}-span`,className:"tooltip above",children:s("ClickHereToMoveUpLayer")}),o.jsx(Ut,{})]}),o.jsxs("button",{id:`increase-layer-amount${t}`,disabled:F>=9,"aria-labelledby":`increase-layer-amount${t}-span`,className:"layer-tool layer-amount increase-layer-amount tooltip-wrap narrow2",onClick:()=>Xo(1),children:[o.jsx("span",{id:`increase-layer-amount${t}-span`,className:"tooltip above",children:s("GetMoreLayers")}),o.jsx(br,{})]})]}),o.jsxs("div",{className:`movers-wrap movers-wrap2 ${w?"":"hidden"}`,children:[o.jsxs("button",{id:`moveup${t}`,"aria-labelledby":`moveup${t}-span`,className:"moveup mover tooltip-wrap narrow2",onClick:Co,children:[o.jsx(yr,{}),o.jsx("span",{id:`moveup${t}-span`,className:"tooltip above",children:s("MoveViewUp")})]}),o.jsxs("button",{id:`movedown${t}`,"aria-labelledby":`movedown${t}-span`,className:"movedown mover tooltip-wrap narrow2",onClick:No,children:[o.jsx(vr,{}),o.jsx("span",{id:`movedown${t}-span`,className:"tooltip above",children:s("MoveViewDown")})]})]})]}),o.jsx(n.Suspense,{fallback:o.jsxs("div",{className:"flex center margin0auto textcenter",children:[s("Loading"),"..."]}),children:o.jsx(Lr,{d:t,defaultHue:P,defaultSaturation:T,defaultLightness:I,setSliderHueVal:ae,setSliderSatVal:ne,setSliderLightVal:le,language:y,sliderLightness:Ho,sliderSaturation:Oo,sliderHue:Io,sliderLightnessReset:Vo,sliderSaturationReset:_o,sliderHueReset:Fo,sliderLightVal:je,sliderSatVal:we,sliderHueVal:$e,sliderLightnessInput:D,sliderSaturationInput:R,sliderHueInput:E})}),o.jsx("div",{ref:Ge,id:`exitblob${t}`,className:"exitblob"}),h?o.jsxs("div",{className:"blob-handling",children:[o.jsx("div",{className:"full wide flex column center gap",children:o.jsxs("form",{onSubmit:e=>vo(e),children:[o.jsx("div",{className:"input-wrap",children:o.jsxs("label",{htmlFor:`blobname${t}`,children:[o.jsx("input",{id:`blobname${t}`,type:"text",value:Z,onChange:bo,placeholder:s("NameYourArtwork"),maxLength:30}),o.jsxs("span",{children:[s("NameYourArtwork"),":"]})]})}),o.jsx("button",{type:"submit",disabled:te,children:s("Save")})]})}),o.jsx("h3",{children:s("Art")}),po?o.jsx("p",{children:s("LoadingSavedArtwork")}):!Ye||Ye.length<1?o.jsx("p",{children:s("ErrorConnectingToTheServer")}):Lt?Object.keys(xe).map((e,r)=>{const a=Object.keys(xe[Number(e)]),l=Math.ceil(a.length/ce),c=Go[Number(e)]??1,i=(c-1)*ce,b=i+ce,v=a.slice(i,b);return o.jsxs("div",{className:"flex center margin0auto",children:[Ot(e,c,l),o.jsx("ul",{className:"blob-versions-wrap",children:v.map((f,Se)=>o.jsxs("li",{className:"blob-version-item",children:[o.jsx("span",{children:f}),o.jsxs("div",{className:"button-wrap",children:[o.jsxs("button",{onClick:()=>xo(Number(e),f),children:[s("Load")," ",o.jsx("span",{className:"scr",children:f})]}),o.jsxs("button",{onClick:()=>$o(Number(e),f),children:[s("Delete")," ",o.jsx("span",{className:"scr",children:f})]}),o.jsx(ar,{language:y,id:`accordion-blobnewname-${Ue(f)}`,className:"blobnewname",wrapperClass:"blobnewname-wrap",text:s("Rename"),hideBrackets:!0,onClick:()=>{Ct(f),uo(f)},isOpen:io===f,children:o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"input-wrap",children:o.jsxs("label",{htmlFor:`blobnewname-${Ue(f)}`,children:[o.jsx("input",{id:`blobnewname-${Ue(f)}`,type:"text",value:ye,onChange:yo,placeholder:s("RenameYourArtwork"),maxLength:30}),o.jsxs("span",{children:[s("Rename"),":"]})," ",o.jsx("span",{className:"scr",children:f})]})}),o.jsxs("button",{onClick:()=>{f!==ye?ko(f,ye):m(p(`${s("Error")}: ${s("RenameYourArtwork")}`,!0,5))},children:[s("Edit")," ",o.jsxs("span",{className:"scr",children:[f,": ",s("NewName")," ",ye]})]})]})})]})]},`${f}+${Se}`))},`${e}+${r}`),Ot(e,c,l)]},`${e}:${r}`)}):o.jsx("p",{children:s("NoSavedArtworkYet")})]}):o.jsxs("div",{className:"wide flex column center gap",children:[o.jsxs("div",{className:"login-to-save wide flex column center gap-half",children:[o.jsx(kr,{}),s("InOrderToSaveTheBlobs")]}),o.jsxs("div",{className:"blob-register-login-wrap",children:[o.jsx("button",{onClick:zo,children:s("Login")}),o.jsx("big",{children:s("Or")}),o.jsx("button",{onClick:Uo,children:s("Register")})]})]}),o.jsx("svg",{className:"filter",id:"svgfilter0",children:o.jsxs("defs",{children:[o.jsx("filter",{id:"svgGaussian0",children:o.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"7"})}),o.jsxs("filter",{id:"svgMatrix0",children:[o.jsx("feColorMatrix",{values:`\r
1 0 0 0 0\r
0 1 0 0 0\r
0 0 1 0 0\r
0 0 0 50 -18\r
`})," "]})]})}),o.jsx("svg",{className:"filter",id:"svgfilter1",children:o.jsxs("defs",{children:[" ",o.jsx("filter",{id:"svgGaussian1",children:o.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"8"})}),o.jsx("filter",{id:"svgMatrix1",children:o.jsx("feColorMatrix",{values:`\r
1 0 0 0 0\r
0 1 0 0 0\r
0 0 1 0 0\r
0 0 0 46 -28\r
`})})]})})]})})})})}export{is as default};
