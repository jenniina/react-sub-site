const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ColorsInput-rP6YR35y.js","assets/react-B26j9x-B.js","assets/dom-to-image-more-sr33WCep.js","assets/index-BHIpSIrO.js","assets/react-dom-C5TvV5XQ.js","assets/scheduler-C323NY8X.js","assets/react-redux-EG6qnwNo.js","assets/hoist-non-react-statics-C-Qo8PK8.js","assets/react-is-BwqtTtay.js","assets/use-sync-external-store-BqPSEvA7.js","assets/@reduxjs-D09xkNSb.js","assets/immer-C0GRqQ_d.js","assets/redux-D9aXM7rm.js","assets/@babel-CYk816RD.js","assets/redux-thunk-CY0Q9z1Q.js","assets/axios-ngrFHoWO.js","assets/react-icons-BjZ8OXEo.js","assets/react-router-dom-Dghs3TPc.js","assets/react-router-vPOY4muN.js","assets/@remix-run-ox1qIyJK.js","assets/react-helmet-async-CnDSc5Ri.js","assets/react-fast-compare-BHbKlhN4.js","assets/invariant-B_pwkeTo.js","assets/shallowequal-C7ef0Lra.js","assets/index-CDQBTRjU.css"])))=>i.map(i=>d[i]);
import{r as Ae,z as Pe,B as xe,C as We,D as pe,F as X,G as st,L as nt,q as lt,u as at,l as ct,H as it,S as dt,I as mt,J,e as fe,_ as ut}from"./index-BHIpSIrO.js";import{a as w,j as e}from"./react-B26j9x-B.js";import{w as gt,x as ht,P as pt,y as He,S as ft,z as At,D as xt,L as Ge,E as $t}from"./react-icons-BjZ8OXEo.js";import{u as bt}from"./react-router-dom-Dghs3TPc.js";const _t="_light_3jkuz_35",Ct="_drag_3jkuz_319",jt="_overflow_3jkuz_333",wt="_indicator_3jkuz_441",Nt="_tooltip_3jkuz_441",yt="_form_3jkuz_611",vt="_remove_3jkuz_639",Rt="_inputs_3jkuz_669",u={"color-container":"_color-container_3jkuz_1",light:_t,"color-picker":"_color-picker_3jkuz_53","width-wrap":"_width-wrap_3jkuz_127","btn-wrap":"_btn-wrap_3jkuz_141","mode-container":"_mode-container_3jkuz_159","export-wrap":"_export-wrap_3jkuz_179","flat-left":"_flat-left_3jkuz_199","info-wrap":"_info-wrap_3jkuz_233","mode-btn":"_mode-btn_3jkuz_281","color-blocks":"_color-blocks_3jkuz_287",drag:Ct,overflow:jt,"block-wrap":"_block-wrap_3jkuz_341","color-wrap":"_color-wrap_3jkuz_359","color-block":"_color-block_3jkuz_287","compliance-indicators":"_compliance-indicators_3jkuz_419",indicator:wt,tooltip:Nt,"indicator-aaa":"_indicator-aaa_3jkuz_471","indicator-null":"_indicator-null_3jkuz_479","toggle-controls":"_toggle-controls_3jkuz_495","color-edit-container":"_color-edit-container_3jkuz_525","color-select":"_color-select_3jkuz_527",form:yt,"color-format-submit":"_color-format-submit_3jkuz_637",remove:vt,"color-name":"_color-name_3jkuz_653",inputs:Rt,"hex-input":"_hex-input_3jkuz_699"},Tt=(B,$)=>{const[E,te]=w.useState(!1),[re,de]=w.useState(B),Z=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",U=w.useMemo(()=>$==null?void 0:$.map(x=>`${Z?"local-":""}DnD-${x}`),[$,Z]),oe=w.useCallback(()=>$==null?void 0:$.reduce((x,_,I)=>{const N=JSON.parse(localStorage.getItem(U[I])||"[]");return x[_]={items:N.length>0?N:B.filter(M=>M.status===_),setItems:M=>{localStorage.setItem(U[I],JSON.stringify(M)),Q(H=>({...H,[_]:{...H[_],items:M}}))},removeItems:()=>{localStorage.removeItem(U[I]),Q(M=>({...M,[_]:{...M[_],items:[]}}))}},x},{}),[$,U]),se=(x,_)=>JSON.stringify(x)===JSON.stringify(_),[d,Q]=w.useState(oe);w.useEffect(()=>{$.forEach((x,_)=>{var i;const I=((i=d[x])==null?void 0:i.items)||[],N=B.filter(t=>t.status===x),M=new Map(N.map(t=>[t.id,t])),H=I.map(t=>{const C=M.get(t.id);return C&&JSON.stringify(t)!==JSON.stringify(C)?C:t}).filter(t=>M.has(t.id)),a=new Set(I.map(t=>t.id)),g=N.filter(t=>!a.has(t.id)),f=[...H,...g];se(I,f)||d[x].setItems(f)}),$.forEach((x,_)=>{var N;const I=((N=d[x])==null?void 0:N.items)||[];localStorage.setItem(U[_],JSON.stringify(I))})},[B,$,U,se]),w.useEffect(()=>{de($.flatMap(x=>{var _;return((_=d[x])==null?void 0:_.items)||[]}))},[d]),w.useEffect(()=>{$.forEach((x,_)=>{var N;const I=((N=d[x])==null?void 0:N.items)||[];localStorage.setItem(U[_],JSON.stringify(I))})},[re,$,U,d]);const K=w.useCallback((x,_,I)=>{var f,i,t,C,j,G,W,O,V,c;const N=(f=Object.keys(d))==null?void 0:f.find(h=>{var b,S;return(S=(b=d==null?void 0:d[h])==null?void 0:b.items)==null?void 0:S.find(l=>(l==null?void 0:l.id)===x)});if(!N)return;const M=(t=(i=d==null?void 0:d[N])==null?void 0:i.items)==null?void 0:t.find(h=>(h==null?void 0:h.id)===x),H=(j=(C=d==null?void 0:d[_])==null?void 0:C.items)==null?void 0:j.findIndex(h=>(h==null?void 0:h.id)===I);if(!M)return;M.status=_;const a=(W=(G=d==null?void 0:d[N])==null?void 0:G.items)==null?void 0:W.filter(h=>h.id!==x);(O=d==null?void 0:d[N])==null||O.setItems(a);let g=[...(V=d==null?void 0:d[_])==null?void 0:V.items];return g=g.filter(h=>h.id!==M.id),g.splice(H>=0?H:g.length,0,M),(c=d==null?void 0:d[_])==null||c.setItems(g),Q(h=>({...h,[N]:{...h[N],items:a},[_]:{...h[_],items:g}})),g},[d,Q]),F=w.useCallback((x,_)=>{if(x===_)return;const I=$==null?void 0:$.indexOf(x);if(I===-1){console.error(`Old status "${x}" not found in statuses array`);return}const N=U[I],M=`${Z?"local-":""}DnD-${_}`,H=d[x].items.map(a=>({...a,status:_}));Q(a=>({...a,[x]:{...a[x],items:[]},[_]:{...a[_],items:H}})),localStorage.setItem(M,JSON.stringify(H)),localStorage.removeItem(N)},[d,U,$]);return{isDragging:E,listItemsByStatus:d,handleUpdate:K,handleRenameStatus:F,handleDragging:x=>te(x)}},le="colors",ue="hsl",ge=[{id:1,color:"hsl(200, 50%, 10%)",luminance:.011540526030345211,status:le,colorFormat:ue,compliantColors:{AAA_RegularText:[4,5],AA_UIComponents:[3,4,5],AA_RegularText:[3,4,5]}},{id:2,color:"hsl(200, 50%, 35%)",luminance:.12179747967530058,status:le,colorFormat:ue,compliantColors:{AAA_RegularText:[],AA_UIComponents:[4,5],AA_RegularText:[5]}},{id:3,color:"hsl(200, 50%, 55%)",luminance:.3071249100459835,status:le,colorFormat:ue,compliantColors:{AAA_RegularText:[],AA_UIComponents:[1],AA_RegularText:[1]}},{id:4,color:"hsl(200, 50%, 75%)",luminance:.5493970089199802,status:le,colorFormat:ue,compliantColors:{AAA_RegularText:[1],AA_UIComponents:[1,2],AA_RegularText:[1]}},{id:5,color:"hsl(200, 50%, 90%)",luminance:.800081557105977,status:le,colorFormat:ue,compliantColors:{AAA_RegularText:[1],AA_UIComponents:[1,2],AA_RegularText:[1,2]}}],kt=B=>{const[$,E,te]=Ae("Jenniina-colorsAccessibility",ge);w.useEffect(()=>{const a=()=>{const i=new URL(window.location.href).searchParams.get("colors");if(i)try{const t=i.split("_").map(C=>{const j=C.split("-"),G=j[0];let W="";return G==="hsl"&&j.length===4?W=`hsl(${j[1]}, ${j[2]}%, ${j[3]}%)`:G==="rgb"&&j.length===4?W=`rgb(${j[1]}, ${j[2]}, ${j[3]})`:G==="hex"&&j.length===2&&(W=`#${j[1]}`),{type:G,color:W}});if(Array.isArray(t)){const C=t.map((G,W)=>{let O=G.type,V=G.color,c;if(O==="hex")c=xe(V);else if(O==="hsl"){const b=V.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(b){const S=Number(b[1]),l=Number(b[2]),je=Number(b[3]);c=X(S,l,je)}}else if(O==="rgb"){const b=V.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);b&&(c={r:Number(b[1]),g:Number(b[2]),b:Number(b[3])})}const h=c?pe(c.r,c.g,c.b):0;return{id:W+1,color:V,luminance:h,status:le,colorFormat:O,compliantColors:{AA_RegularText:[],AAA_RegularText:[],AA_UIComponents:[]}}}),j=K(C);E(j)}}catch{}};a();const g=()=>{a()};return window.addEventListener("popstate",g),()=>{window.removeEventListener("popstate",g)}},[]);const[re,de]=Ae("Jenniina-currentColor","#7D7D7D"),[Z,U]=Ae("Jenniina-idCounter",ge.length+1),[oe,se]=w.useState(B),[d,Q]=w.useState(!1),K=w.useCallback(a=>a.map(g=>{const f=n(g,a);return{...g,compliantColors:f}}),[]),F=w.useCallback(a=>{const g=a.map(i=>{if(i.colorFormat==="hsl"){const t=i.color.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(t)return`hsl-${t[1]}-${t[2]}-${t[3]}`}else if(i.colorFormat==="rgb"){const t=i.color.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);if(t)return`rgb-${t[1]}-${t[2]}-${t[3]}`}else if(i.colorFormat==="hex"&&i.color.startsWith("#"))return`hex-${i.color.slice(1)}`;return`${i.colorFormat}-${i.color}`}),f=new URL(window.location.href);f.searchParams.set("colors",g.join("_")),window.history.replaceState({},"",f.pathname+"?"+f.searchParams.toString()+f.hash)},[]),n=(a,g)=>{let f=[],i=[],t=[];return g.forEach(C=>{if(C.id===a.id)return;const j=Pe(a,C);j.isAAARegularTextCompliant&&f.push(C.id),j.isAARegularTextCompliant&&t.push(C.id),j.isAAUIComponentsCompliant&&i.push(C.id)}),{AAA_RegularText:Array.from(new Set(f)),AA_RegularText:Array.from(new Set(t)),AA_UIComponents:Array.from(new Set(i))}},x=w.useCallback(()=>{const{r:a,g,b:f}=xe(re),{h:i,s:t,l:C}=We(a,g,f),j=pe(a,g,f),G={id:Z,color:`hsl(${i}, ${t}%, ${C}%)`,luminance:j,status:"colors",colorFormat:"hsl",compliantColors:{AA_RegularText:[],AAA_RegularText:[],AA_UIComponents:[]}},W=[...$,G],O=K(W);E(O),F(O),U(V=>V+1)},[re,Z,K,E,F,U,$]),_=w.useCallback(a=>{const g=$.filter(i=>i.id!==a).map(i=>({...i,compliantColors:{AAA_RegularText:i.compliantColors.AAA_RegularText.filter(t=>t!==a),AA_RegularText:i.compliantColors.AA_RegularText.filter(t=>t!==a),AA_UIComponents:i.compliantColors.AA_UIComponents.filter(t=>t!==a)}})),f=K(g);E(f),F(f)},[$,K,E,F]),I=w.useCallback((a,g,f)=>{try{let i,t,C,j;if(f==="hsl"){const c=g.match(/^hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/i);if(!c)throw new Error("Invalid HSL format");const h=Number(c[1]),b=Number(c[2]),S=Number(c[3]);if(h<0||h>360||b<0||b>100||S<0||S>100)throw new Error("HSL values out of range");i=`hsl(${h}, ${b}%, ${S}%)`;const l=X(h,b,S);t=l.r,C=l.g,j=l.b}else if(f==="rgb"){const c=g.match(/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i);if(!c)throw new Error("Invalid RGB format");const h=Number(c[1]),b=Number(c[2]),S=Number(c[3]);if([h,b,S].some(l=>l<0||l>255))throw new Error("RGB values must be between 0 and 255");i=`rgb(${h}, ${b}, ${S})`,t=h,C=b,j=S}else if(f==="hex"){if(!/^#([0-9A-F]{3}){1,2}$/i.test(g))throw new Error("Invalid Hex format");i=g.toUpperCase();const c=xe(i);t=c.r,C=c.g,j=c.b}else throw new Error("Unsupported color format");const G=pe(t,C,j),W=$.map(c=>c.id===a?{...c,color:i,colorFormat:f,luminance:G,compliantColors:{AAA_RegularText:[],AA_RegularText:[],AA_UIComponents:[]}}:c),O=W.map(c=>{if(c.id===a)return c;const h=W.find(S=>S.id===a);if(!h)return c;const b=Pe(c,h);return{...c,compliantColors:{AAA_RegularText:b.isAAARegularTextCompliant?[...new Set([...c.compliantColors.AAA_RegularText,a])]:c.compliantColors.AAA_RegularText.filter(S=>S!==a),AA_RegularText:b.isAARegularTextCompliant?[...new Set([...c.compliantColors.AA_RegularText,a])]:c.compliantColors.AA_RegularText.filter(S=>S!==a),AA_UIComponents:b.isAAUIComponentsCompliant?[...new Set([...c.compliantColors.AA_UIComponents,a])]:c.compliantColors.AA_UIComponents.filter(S=>S!==a)}}}),V=O.find(c=>c.id===a);if(V){const c=n(V,O),h=O.map(b=>b.id===a?{...b,compliantColors:c}:b);E(h),F(h)}else E(O),F(O)}catch(i){console.error("Error updating color:",i)}},[$,E,K,F]),N=w.useCallback(()=>{te(),E(ge),F(ge),U(ge.length+1)},[te,E,U,F]),M=w.useCallback(()=>{te(),E([]),F([]),U(1)},[te,E,U,F]),H=w.useCallback(()=>{const a=st($,oe,d);let g=Z;const f=a.map(t=>{const C=X(t[0],t[1],t[2]),j=pe(C.r,C.g,C.b);return{id:g++,color:`hsl(${t[0]}, ${t[1]}%, ${t[2]}%)`,luminance:j,status:le,colorFormat:"hsl",compliantColors:{AA_RegularText:[],AAA_RegularText:[],AA_UIComponents:[]}}});let i=[...$,...f];i=K(i),E(i),F(i),U(g),Q(!1)},[$,oe,d,K,E,F,U]);return w.useEffect(()=>{d&&$.length===0&&H()},[d,$]),{colors:$,setColors:E,setColorsReset:Q,addColor:x,removeColor:_,updateColor:I,resetColors:N,clearColors:M,currentColor:re,setCurrentColor:de,mode:oe,setMode:se,makeColorPalette:H,updateSearchParams:F}},It=w.lazy(()=>ut(()=>import("./ColorsInput-rP6YR35y.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]))),Ce=mt(5);var Je=(B=>(B.AA_RegularText="AA_RegularText",B.AAA_RegularText="AAA_RegularText",B.AA_UIComponents="AA_UIComponents",B))(Je||{});const Y="colors",St=({language:B})=>{var Te,ke,Ie,Se,Ue,Me;const{colors:$,setColors:E,addColor:te,removeColor:re,updateColor:de,currentColor:Z,setCurrentColor:U,resetColors:oe,clearColors:se,mode:d,setMode:Q,makeColorPalette:K,setColorsReset:F}=kt("analogous"),{t:n}=w.useContext(nt),x=lt(),_=w.useMemo(()=>[Y],[]),I=at(),N=ct(),M=it(),[H,a]=bt({show:"true",name:"true",mode:"analogous"}),g=(H.get("show")||"true")==="true",f=(H.get("name")||"true")==="true",{isDragging:i,listItemsByStatus:t,handleDragging:C,handleUpdate:j}=Tt($,_),G=w.useRef(0),[W,O]=w.useState(0),[V,c]=w.useState(!1),h=8,[b,S]=Ae("Jenniina-color-block-width",h),l=`${b}em`,ne={input:`${.8*(b/h)}em`},me=[{value:"analogous",label:n("Analogous")},{value:"complementary",label:n("Complementary")},{value:"monochromatic",label:n("Monochromatic")},{value:"triad",label:n("Triad")},{value:"tetrad",label:n("Tetrad")}],we=Math.floor(Math.random()*me.length),Ne=H.get("mode")||me[we];w.useEffect(()=>{Q(Ne)},[Ne]);const Ve=()=>{t[Y].removeItems(),F(!0),se()},Be={AA_RegularText:({xPosition:r,yIndicator:p,blockWidth:v,indicatorSize:o,otherColor:R,blockColor:P,colorFormatBlock:T,colorFormatOther:A})=>{let y,m;if(T==="hex")y=P;else if(T==="rgb"){const s=P.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);y=s?J(Number(s[1]),Number(s[2]),Number(s[3])):"#000000"}else if(T==="hsl"){const s=P.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(s){const L=X(Number(s[1]),Number(s[2]),Number(s[3]));y=J(L.r,L.g,L.b)}else y="#000000"}else y="#000000";if(A==="hex")m=R;else if(A==="rgb"){const s=R.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);m=s?J(Number(s[1]),Number(s[2]),Number(s[3])):"#000000"}else if(A==="hsl"){const s=R.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(s){const L=X(Number(s[1]),Number(s[2]),Number(s[3]));m=J(L.r,L.g,L.b)}else m="#000000"}else m="#000000";return`
 <circle
  cx="${r+v/2}"
  cy="${p+o/2}"
  r="${o*.32}"
  fill="${y}"
  stroke="${m}"
  stroke-width="${o*.1}"
/>
`},AA_UIComponents:({xPosition:r,yIndicator:p,blockWidth:v,indicatorSize:o,otherColor:R,blockColor:P,colorFormatBlock:T,colorFormatOther:A})=>{let y,m;if(T==="hex")y=P;else if(T==="rgb"){const s=P.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);y=s?J(Number(s[1]),Number(s[2]),Number(s[3])):"#000000"}else if(T==="hsl"){const s=P.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(s){const L=X(Number(s[1]),Number(s[2]),Number(s[3]));y=J(L.r,L.g,L.b)}else y="#000000"}else y="#000000";if(A==="hex")m=R;else if(A==="rgb"){const s=R.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);m=s?J(Number(s[1]),Number(s[2]),Number(s[3])):"#000000"}else if(A==="hsl"){const s=R.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(s){const L=X(Number(s[1]),Number(s[2]),Number(s[3]));m=J(L.r,L.g,L.b)}else m="#000000"}else m="#000000";return`
    <rect
  x="${r+v/2-o*.2}"
  y="${p+o/2-o*.15}"
  width="${o*.3}"
  height="${o*.3}"
  fill="${y}"
  stroke="${m}"
  stroke-width="${o*.1}"
/>
`},AAA_RegularText:({xPosition:r,yIndicator:p,blockWidth:v,indicatorSize:o,otherColor:R,blockColor:P,colorFormatBlock:T,colorFormatOther:A})=>{let y;if(A==="hex")y=R;else if(A==="rgb"){const m=R.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);y=m?J(Number(m[1]),Number(m[2]),Number(m[3])):"#000000"}else if(A==="hsl"){const m=R.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(m){const s=X(Number(m[1]),Number(m[2]),Number(m[3]));y=J(s.r,s.g,s.b)}else y="#000000"}else y="#000000";return`
<circle
  cx="${r+v/2}"
  cy="${p+o/2}"
  r="${o/2}"
  fill="${y}"
  stroke="none"
/>
`}},ye=()=>{var De;const r=b*20,p=r,v=p/3,o=v/1.5,R=r/4,P=v/20,T=p/10,A=((De=t[Y])==null?void 0:De.items)||[],m=(A==null?void 0:A.length)*(v+o)-o+R*2,s=f?T+R:0,L=A.length*p,be=m+s*1.6,Qe=A==null?void 0:A.map((z,ae)=>{const ce=ae*p;let q;try{if(z.colorFormat==="hex")q=z.color;else if(z.colorFormat==="rgb"){const k=z.color.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);if(k)q=J(Number(k[1]),Number(k[2]),Number(k[3]));else throw new Error("Invalid RGB format")}else if(z.colorFormat==="hsl"){const k=z.color.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(k){const ie=X(Number(k[1]),Number(k[2]),Number(k[3]));q=J(ie.r,ie.g,ie.b)}else throw new Error("Invalid HSL format")}else q="#000000"}catch(k){console.error(k),I(fe(`${n("Error")}: ${k.message}`,!0,4)),q="#000000"}const ee=`
        <rect
          x="${ce}"
          y="0"
          width="${p}"
          height="${m}"
          fill="${q}"
          stroke="none"
        />
      `,D=f?`
        <!-- Text Background -->
        <rect
          x="${ce}"
          y="${m-.5}"
          width="${p}"
          height="${s}"
          fill="${q}"
          stroke="none"
        />
        <!-- Color Text Label -->
        <text
          x="${ce+p/2}"
          y="${m+s/2+T/3}"
          font-size="${T}"
          font-family="Arial"
          text-anchor="middle"
          dominant-baseline="middle"
          fill="${z.luminance>.179?"#000000":"#FFFFFF"}"
          stroke="none"
        >
          ${z.color}
        </text>
      `:"";return`
        <g>
          <!-- Color Block -->
          ${ee}
          <!-- Color Text Label -->
          ${D}
        </g>
      `}).join(""),Ze=A==null?void 0:A.map((z,ae)=>{const q=R+ae*(v+o)+(v-P)/2;let ee;if(z.colorFormat==="hex")ee=z.color;else if(z.colorFormat==="rgb"){const D=z.color.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);ee=D?J(Number(D[1]),Number(D[2]),Number(D[3])):"#000000"}else if(z.colorFormat==="hsl"){const D=z.color.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(D){const k=X(Number(D[1]),Number(D[2]),Number(D[3]));ee=J(k.r,k.g,k.b)}else ee="#000000"}else ee="#000000";return`
        <rect
          x="0"
          y="${q}"
          width="${L}"
          height="${P}"
          fill="${ee}"
          stroke="none"
        />
      `}).join(""),et=A==null?void 0:A.map((z,ae)=>{const ce=ae*p,q=D=>{var k,ie,Le,Ee,Fe,Oe;return(ie=(k=z.compliantColors)==null?void 0:k.AAA_RegularText)!=null&&ie.includes(D)?"AAA_RegularText":(Ee=(Le=z.compliantColors)==null?void 0:Le.AA_RegularText)!=null&&Ee.includes(D)?"AA_RegularText":(Oe=(Fe=z.compliantColors)==null?void 0:Fe.AA_UIComponents)!=null&&Oe.includes(D)?"AA_UIComponents":null};return`
        <g>
          <!-- Compliance Indicators -->
          ${A==null?void 0:A.filter((D,k)=>k!==ae).map(D=>{const k=q(D.id);return k?Be[k]({xPosition:ce,yIndicator:R+A.indexOf(D)*(v+o),blockWidth:p,indicatorSize:v,otherColor:D.color,blockColor:z.color,colorFormatBlock:z.colorFormat,colorFormatOther:D.colorFormat}):""}).join("")}
        </g>
      `}).join(""),_e=10,tt=L-_e,ze=be-_e*1.5,he="https://colors.jenniina.fi",ot=`
      <a href="${he}" target="_blank" rel="noopener noreferrer">
        <text
          x="${tt}"
          y="${ze}"
          font-size="${T}"
          font-family="Arial"
          text-anchor="end"
          fill="#000000"
          stroke="none"
        >
          ${he}
        </text>
      </a>
    `,rt=`
      <a href="${he}" target="_blank" rel="noopener noreferrer">
        <text
          x="${_e}"
          y="${ze}"
          font-size="${T}"
          font-family="Arial"
          text-anchor="start"
          fill="#FFFFFF"
          stroke="none"
        >
          ${he}
        </text>
      </a>
    `;return{svgContent:`
    <svg xmlns="http://www.w3.org/2000/svg" width="${L}" height="${be}">
      <!-- Color Blocks -->
      <g>
        ${Qe}
      </g>
      <!-- Lines -->
      <g>
        ${Ze}
      </g>
      <!-- Compliance Indicators -->
      <g>
        ${et}
      </g>
      <!-- Source Link -->
      <g>
        ${rt}
      </g>
      <g>
        ${ot}
      </g>
    </svg>
  `,svgWidth:L,svgHeight:be}},ve=()=>{const{svgContent:r}=ye(),p=new Blob([r],{type:"image/svg+xml;charset=utf-8"}),v=URL.createObjectURL(p),o=document.createElement("a");o.href=v,o.download="color-blocks.svg",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(v),I(fe(n("ArtSaved"),!1,5))},Re=()=>{const{svgContent:r,svgWidth:p,svgHeight:v}=ye(),o=new Image;o.width=p,o.height=v;const R=new Blob([r],{type:"image/svg+xml;charset=utf-8"}),P=URL.createObjectURL(R);o.onload=()=>{const T=document.createElement("canvas");T.width=p,T.height=v;const A=T.getContext("2d");A==null||A.drawImage(o,0,0);const y=T.toDataURL("image/png"),m=document.createElement("a");m.href=y,m.download="color-blocks.png",m.target="_blank",m.rel="noreferrer",document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(P),I(fe(n("ArtSaved"),!1,5))},o.onerror=T=>{console.error("Error loading SVG into image for PNG conversion:",T),URL.revokeObjectURL(P),I(fe(n("Error"),!0,4))},o.src=P},Ye=(r,p)=>{r.dataTransfer.setData("text/plain",JSON.stringify({type:"item",id:p}))},Ke=(r,p)=>{r.preventDefault(),O(p),G.current=p},qe=r=>{r.preventDefault(),C(!0)},Xe=r=>{const p=JSON.parse(r.dataTransfer.getData("text/plain"));p.type==="item"&&(j(p.id,Y,W),setTimeout(()=>{var v;E((v=t[Y])==null?void 0:v.items)},200),C(!1))};w.useEffect(()=>{var r,p;(!((r=t[Y])!=null&&r.items)||((p=t[Y])==null?void 0:p.items.length)<1)&&oe()},[]);const $e=.04;return e.jsxs("div",{id:u["color-container"],className:`fullwidth ${u["color-container"]} ${N?u.light:""}`,style:{"--font-size":ne.input},children:[e.jsxs("div",{id:"info",className:u["info-wrap"],children:[e.jsx("h2",{children:n("SymbolMeanings")}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("div",{style:{display:"inline-block",backgroundColor:"var(--color-primary-20)",borderRadius:"50%",width:"2em",height:"2em"}}),e.jsx("span",{children:n("HighestAAAComplianceWithRegularText")})]}),e.jsxs("li",{children:[e.jsx("div",{style:{display:"inline-block",backgroundColor:"transparent",outline:"0.3em solid var(--color-primary-20)",outlineOffset:"-0.3em",borderRadius:"50%",width:"1.7em",height:"1.7em",margin:"0 0.2em 0 0.2em "}}),e.jsx("span",{children:n("MinimumAAComplianceWithRegularText")})]}),e.jsxs("li",{children:[e.jsx("div",{style:{display:"inline-block",backgroundColor:"transparent",outline:"0.3em solid var(--color-primary-20)",outlineOffset:"-0.26em",borderRadius:"0",width:"0.9em",height:"0.9em",margin:"0 0.65em 0 0.65em"}}),e.jsx("span",{children:n("AAACompliantWithUI")})]})]})]}),e.jsxs("div",{className:u["btn-wrap"],children:[N?e.jsx(e.Fragment,{children:e.jsxs("span",{children:[n("DarkMode"),":"]})}):e.jsx(e.Fragment,{children:e.jsxs("span",{children:[n("LightMode"),":"]})}),e.jsx("button",{onClick:M,className:`gray ${u["mode-btn"]}`,children:N?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"scr",children:n("DarkMode")}),e.jsx(gt,{})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"scr",children:n("LightMode")}),e.jsx(ht,{})," "]})})]}),e.jsx("div",{className:`${u["btn-wrap"]} ${u["export-wrap"]}`,children:((ke=(Te=t[Y])==null?void 0:Te.items)==null?void 0:ke.length)>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("button",{type:"button",title:n("SaveAsPNG"),onClick:Re,className:"reset p1",children:e.jsx(pt,{fontSize:"2em"})}),e.jsxs("button",{type:"button",onClick:Re,className:"gray small",children:[n("SaveAsPNG"),e.jsx(He,{})]})]}),e.jsxs("div",{children:[e.jsx("button",{type:"button",title:n("SaveAsSVG"),onClick:ve,className:"reset p1",children:e.jsx(ft,{fontSize:"2em"})}),e.jsxs("button",{type:"button",onClick:ve,className:"gray small",children:[n("SaveAsSVG"),e.jsx(He,{})]})]})]})}),e.jsxs("div",{className:u["btn-wrap"],children:[e.jsxs("button",{className:"gray small",type:"button",onClick:async()=>{($.length===0||await x({message:n("AreYouSureYouWantToResetAllColors")}))&&oe()},children:[n("Reset"),"  ",e.jsx(At,{})]}),e.jsxs("button",{className:"gray small",type:"button",onClick:async()=>{await x({message:n("AreYouSureYouWantToClearAllColors")||""})&&(t[Y].removeItems(),se())},children:[n("Clear"),"  ",e.jsx(xt,{})]})]}),e.jsxs("div",{id:"colorpicker",className:u["color-picker"],children:[e.jsxs("label",{htmlFor:"color-input",className:" ",children:[n("ColorPicker"),":"]}),e.jsx("input",{id:"color-input",type:"color",value:Z,onChange:r=>{U(r.target.value)}}),e.jsxs("button",{className:"gray",type:"button",onClick:te,children:[n("AddAColor"),"  ",e.jsx(Ge,{})]})]}),e.jsx("div",{className:u["btn-wrap"],children:e.jsxs("div",{className:`${u["color-edit-container"]} ${u["mode-container"]}`,children:[e.jsx(dt,{options:me,value:{value:d,label:(Ie=me.find(r=>r.value===d))==null?void 0:Ie.label},onChange:r=>a(p=>(p.set("mode",(r==null?void 0:r.value)||me[we].value),p),{replace:!0,preventScrollReset:!0}),id:"color-mode",instructions:n("SelectColorModeForNewColors"),className:`${u["color-select"]}`,hideDelete:!0,tooltip:!0,y:"above narrow2",z:3}),e.jsxs("button",{className:`gray small tooltip-wrap ${u["flat-left"]}`,type:"button",onClick:K,children:[n("AddToColors"),"  ",e.jsx(Ge,{}),e.jsx("span",{className:"tooltip above narrow2",children:n("GeneratesColorsBasedOnLastColor")})]}),e.jsxs("button",{className:"gray small",type:"button",onClick:async()=>{(V===!0||await x({message:n("AreYouSureYouWantToClearAllColors")||""}))&&Ve(),c(!0)},children:[n("ClearAndGenerateNew"),"  ",e.jsx($t,{})]})]})}),e.jsx("div",{id:"color-blocks",className:`${u["color-blocks"]} ${!f||!g?u.overflow:""} ${i?u.drag:""}`,children:(Se=t[Y])==null?void 0:Se.items.map(r=>{var p,v;return e.jsx("ul",{className:u["block-wrap"],onDrop:Xe,children:e.jsxs("li",{className:u["color-wrap"],title:`ID: ${r.id}`,"aria-label":`ID: ${r.id}`,style:{width:`${l}`,maxWidth:`${l}`},children:[e.jsx("ul",{children:e.jsx("li",{draggable:"true",onDragStart:o=>Ye(o,r.id),onDragEnter:o=>Ke(o,r.id),onDragOver:o=>qe(o),onDragEnd:()=>C(!1),"data-identity":r.id,className:u["color-block"],style:{"--color":r.color,backgroundColor:r.color,width:`${l}`,maxWidth:`${l}`,height:`calc(calc(${l} * 0.6) * ${(p=t[Y])==null?void 0:p.items.length})`},children:e.jsx("div",{className:u["compliance-indicators"],style:{gap:`calc(${l} / 4)`,"--width-full":`${l}`},children:(v=t[Y])==null?void 0:v.items.map(o=>{var P,T,A,y,m,s;if(o.id===r.id)return e.jsx("div",{className:`${u["indicator-null"]} ${u.indicator}`,style:{"--color":o.color,"--width":`calc(${l} / 3)`,"--left":`calc(calc(${l} / 3) * -1)`,backgroundColor:"transparent",width:`calc(${l} / 3)`,height:`calc(${l} / 3)`}},`none-${o.color}-${o.id}`);let R=null;return(T=(P=r.compliantColors)==null?void 0:P.AAA_RegularText)!=null&&T.includes(o.id)?R="AAA_RegularText":(y=(A=r.compliantColors)==null?void 0:A.AA_RegularText)!=null&&y.includes(o.id)?R="AA_RegularText":(s=(m=r.compliantColors)==null?void 0:m.AA_UIComponents)!=null&&s.includes(o.id)&&(R="AA_UIComponents"),R==="AAA_RegularText"?e.jsx("div",{tabIndex:0,className:`${u["indicator-aaa"]} ${u.indicator} tooltip-wrap`,style:{"--color":o.color,backgroundColor:o.color,"--left":`calc(calc(${l} / 3) * -1)`,width:`calc(${l} / 3)`,height:`calc(${l} / 3)`},children:e.jsx("span",{id:`span-${o.id}-${r.id}-${Ce}`,className:`tooltip below narrow3 ${u.tooltip}`,style:{fontSize:`clamp(0.7rem, ${ne.input}, 0.9rem)`,"--tooltip-max-width":l},children:`${n("AAACompliantWithID")}: ${o.id}`})},`aaa-${o.color}-${o.id}`):R==="AA_RegularText"?e.jsx("div",{tabIndex:0,className:`${u["indicator-aa"]} ${u.indicator} tooltip-wrap`,style:{"--color":o.color,backgroundColor:r.color,outline:`calc(${l} * ${$e*1.1}) solid ${o.color}`,outlineOffset:`calc(${l} * -0.013)`,"--left":`calc(calc(${l} / 5) * -2)`,width:`calc(${l} / 5)`,height:`calc(${l} / 5)`,margin:`calc(${l} / 15)`,borderRadius:"50%"},children:e.jsx("span",{id:`span-${o.id}-${r.id}-${Ce}`,className:"tooltip below narrow3",style:{fontSize:`clamp(0.7rem, ${ne.input}, 0.9rem)`,"--tooltip-max-width":l},children:`${n("AACompliantWithID")}: ${o.id}`})},`aa-${o.color}-${o.id}`):R==="AA_UIComponents"?e.jsx("div",{tabIndex:0,className:`${u["indicator-aa-ui"]} ${u.indicator} tooltip-wrap`,style:{"--color":o.color,"--left":`calc(calc(${l} / 7) * -3)`,backgroundColor:r.color,outline:`calc(${l} * ${$e}) solid ${o.color}`,outlineOffset:`calc(${l} * ${$e} * -1)`,width:`calc(${l} / 7)`,height:`calc(${l} / 7)`,margin:`calc(${l} / 10.5)`},children:e.jsx("span",{id:`span-ui-${o.id}-${r.id}-${Ce}`,className:`tooltip below narrow3 ${u.tooltip}`,style:{fontSize:`clamp(0.7rem, ${ne.input}, 0.9rem)`,"--tooltip-max-width":l},children:`${n("AAGraphicElementCompliantWithID")}: ${o.id}`})},`aa-ui-${o.color}-${o.id}`):e.jsx("div",{"aria-hidden":"true",className:`${u["indicator-null"]} ${u.indicator}`,style:{"--color":o.color,backgroundColor:"transparent","--left":`calc(calc(${l} / 3) * -1)`,width:`calc(${l} / 3)`,height:`calc(${l} / 3)`}},`null-${o.color}-${o.id}`)})})})}),f&&e.jsx("div",{style:{backgroundColor:r.color,width:`${l}`,maxWidth:`${l}`,display:"flex",justifyContent:"center",alignItems:"center",padding:"0.5em 0.1em "},className:u["color-name"],children:e.jsx("span",{style:{color:r.luminance<.179?"white":"black",fontSize:`clamp(0.7rem, ${ne.input}, 1.2rem)`,textAlign:"center"},children:r.color})}),g&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:u["color-edit-container"],children:e.jsx(w.Suspense,{fallback:e.jsxs("div",{className:"flex center margin0auto textcenter",children:[n("Loading"),"..."]}),children:e.jsx(It,{language:B,block:r,updateColor:de,width:l,hexToRGB:xe,rgbToHSL:We,rgbToHex:J,hslToRGB:X,fontSize:`clamp(0.75rem, ${ne.input}, 1rem)`})})}),e.jsx("button",{className:`tooltip-wrap small delete danger gray ${u.remove}`,onClick:()=>re(r.id),style:{margin:"0.8em auto",width:"calc(100% - 4px)",minWidth:"calc(100% - 4px)",fontSize:`clamp(0.75rem, ${ne.input}, 2rem)`},children:n("Remove")})]})]})},`${r.id}`)})}),((Me=(Ue=t[Y])==null?void 0:Ue.items)==null?void 0:Me.length)>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:u["width-wrap"],children:[e.jsx("label",{htmlFor:"color-block-width",children:n("EditSize")}),e.jsx("input",{id:"color-block-width",type:"range",min:6,max:12,step:.5,value:b,onChange:r=>S(Number(r.target.value))})]}),e.jsxs("div",{className:`${u["toggle-controls"]}`,children:[e.jsxs("div",{children:[e.jsx("strong",{children:n("ToggleControlVisibility")}),e.jsx("button",{id:"toggle-controls",type:"button",onClick:()=>a(r=>(r.set("show",g?"false":"true"),r),{replace:!0,preventScrollReset:!0}),className:"gray small",children:n(g?"HideControls":"ShowControls")})]}),e.jsxs("div",{children:[e.jsx("strong",{children:n("ToggleColorNameVisibility")}),e.jsx("button",{type:"button",onClick:()=>a(r=>(r.set("name",f?"false":"true"),r),{replace:!0,preventScrollReset:!0}),className:"gray small",children:n(f?"HideColorName":"ShowColorName")})]})]})]})]})},Et=Object.freeze(Object.defineProperty({__proto__:null,ComplianceLevel:Je,default:St},Symbol.toStringTag,{value:"Module"}));export{Et as A,u as s};
