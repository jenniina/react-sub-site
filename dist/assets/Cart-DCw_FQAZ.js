import{r as _,j as e}from"./react-A9DAvxly.js";import{A as je}from"./AdditionalInfo-csWZHCef.js";import{ae as ye,u as fe,dy as i,dz as we,bG as M,bH as be,G as y,dA as ve,dB as K,dC as Ee,aC as _e,dx as Ce,dD as Ne,bN as $e,dE as qe,dF as ke,dG as C,dH as Fe,dI as Ae,dJ as Te,dK as D,dL as W,dM as Q,dN as Se,dO as Z,dP as De,dQ as U,dR as Ie,dS as Pe,dT as Re,dU as Be,dV as Y,dW as Le,dX as Je,dY as Oe,dZ as ze,d_ as V,d$ as X,cz as g,e0 as N,e1 as $,e2 as q,e3 as k,e4 as ee,e5 as Ge,e6 as He,e7 as Me,e8 as Ke,e9 as We,ea as Qe,eb as Ze,ec as Ue,ed as Ye,ee as Ve,b0 as Xe,ef as ge,eg as es,eh as ss,ei as rs,ej as ts}from"./index-DQhGG1l7.js";import{c as as}from"./cart-CgS8CQgD.js";import{L as se}from"./react-router-dom-j9Ns2JNj.js";import{B as is}from"./ButtonToggle-DvjfDQ-Z.js";import{a as ns,y as ls,R as ds}from"./react-icons-yVutJqMS.js";import"./hoist-non-react-statics-D5aJipOz.js";import"./react-dom-CxfJ6lHP.js";import"./scheduler-CzFDRTuY.js";import"./react-redux-C4cSaZU-.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-DEc9BFqZ.js";import"./@reduxjs-DhFEcpJw.js";import"./immer-C0GRqQ_d.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./axios-CCb-kr4I.js";import"./react-router-BoqxkIr7.js";import"./@remix-run-DTnHqtaE.js";const cs="_light_uwfyl_1",os="_quantity_uwfyl_51",ps="_total_uwfyl_129",hs="_gdpr_uwfyl_231",ms="_terms_uwfyl_233",us="_wrap_uwfyl_393",xs="_submit_uwfyl_461",t={light:cs,"cart-wrap":"_cart-wrap_uwfyl_5","addition-wrap":"_addition-wrap_uwfyl_41",quantity:os,"quantity-btn":"_quantity-btn_uwfyl_69","item-details":"_item-details_uwfyl_83","textarea-wrap":"_textarea-wrap_uwfyl_99","input-wrap":"_input-wrap_uwfyl_101",total:ps,"please-fill":"_please-fill_uwfyl_157","toggle-wrap":"_toggle-wrap_uwfyl_179","clear-btn-wrap":"_clear-btn-wrap_uwfyl_203","send-order-wrap":"_send-order-wrap_uwfyl_225",gdpr:hs,terms:ms,"accordion-wrap":"_accordion-wrap_uwfyl_271","additional-info-wrap":"_additional-info-wrap_uwfyl_285","back-to-store":"_back-to-store_uwfyl_323","cart-form":"_cart-form_uwfyl_375",wrap:us,"more-info-wrap":"_more-info-wrap_uwfyl_439",submit:xs},Bs=({language:r,cart:n,setCart:f,removeCart:I})=>{const re=ye(),u=fe(),[P,F]=i("localStorageTotal",0),[l,R]=i("localStorageEmail",""),[d,B]=i("JCartName",""),[w,te]=i("JCartBusiness",!1),[E,ae]=i("JCartCompanyName",""),[c,L]=i("JCartCountry",""),[o,J]=i("JCartAddress",""),[p,O]=i("JCartCity",""),[h,z]=i("JCartZip",""),[b,ie]=i("JCartPhone",""),[v,ne]=i("JCartBusinessID",""),[le,de]=i("JCartDetails",{email:l,name:d,businessID:v,zip:h,city:p,address:o,country:c,phone:b}),[G,ce]=i("JCartExtra",""),[oe,pe]=_.useState(!1),[he,me]=_.useState(!1),[ue,x]=_.useState(!1),A=5,H=10,xe=1,T=3;_.useEffect(()=>{de({name:d,companyName:E,email:l,businessID:v,zip:h,city:p,address:o,country:c,phone:b})},[d,E,l,v,h,p,o,c,b]);const S=(s,a)=>{f(m=>m.map(j=>j.id===s?{...j,quantity:j.quantity+a}:j))};return _.useEffect(()=>{F(n.reduce((s,a)=>s+a.price*a.quantity,0))},[n]),e.jsxs("div",{className:`${t["cart-wrap"]} ${re?t.light:""}`,children:[e.jsxs(se,{to:"/store",className:t["back-to-store"],children:[e.jsx("span",{"aria-hidden":!0,children:"«"})," ",e.jsx(ns,{})," ",e.jsx("strong",{children:we[r]})]}),r!==M.Suomi&&r!==M.English&&e.jsx("p",{children:be[r]}),e.jsxs("form",{onSubmit:s=>{s.preventDefault(),x(!0),n.length<1&&(u(y(ve[r],!0,8)),x(!1)),oe?he?w&&d&&d.trim()!==""&&E&&E.trim()!==""&&v&&v.trim()!==""&&l&&l.trim()!==""&&o&&o.trim()!==""&&h&&h.trim()!==""&&p&&p.trim()!==""&&c&&c.trim()!==""||!w&&d&&d.trim()!==""&&l&&l.trim()!==""&&o&&o.trim()!==""&&h&&h.trim()!==""&&p&&p.trim()!==""&&c&&c.trim()!==""?as.newOrder(r,{orderID:`${Math.ceil(Ce(1e5,999999))}-${Ne(2,!0)}`,info:le,total:P,extra:G,items:n}).then(a=>{a.success?(u(y(a.message,!1,10)),f([]),I(),F(0),x(!1)):(u(y(a.message,!1,10)),x(!1))}).catch(a=>{a.response&&a.response.data&&a.response.data.message?u(y(a.response.data.message,!0,8)):u(y(a.message,!0,8)),x(!1)}):(u(y($e[r],!0,8)),x(!1)):(u(y(`${K[r]}: ${_e[r]}`,!0,8)),x(!1)):(u(y(`${K[r]}: ${Ee[r]}`,!0,8)),x(!1))},className:t["cart-form"],children:[n.map((s,a)=>{if(s.quantity<1||isNaN(s.quantity))f(n.filter(m=>m.id!==s.id));else return e.jsxs("div",{className:t.wrap,children:[e.jsxs("h2",{children:[e.jsxs("span",{children:[a+1,". "]}),e.jsx("span",{children:s.name})]}),e.jsx("p",{children:qe(s.description)}),e.jsx(je,{type:s.id,language:r,styles:t,isOpen:!0,setIsFormOpen:()=>{},classNameWrap:t["additional-info-wrap"],text:ke[r]}),e.jsxs("div",{className:`${t.quantity}`,children:[s.id!=="misc-quote"?e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",onClick:()=>{if(s.quantity-1<1)if(window.confirm(`${C[r]}: ${s.name}?`)){f(n.filter(m=>m.id!==s.id));return}else return;S(s.id,-1)},className:`tooltip-wrap ${t["quantity-btn"]}`,children:[e.jsx("span",{className:"tooltip above space right narrow2",children:Fe[r]}),e.jsx("span",{children:"-1"})]}),e.jsxs("span",{children:[Ae[r],": ",s.quantity]}),e.jsxs("button",{type:"button",onClick:()=>{S(s.id,1)},className:`tooltip-wrap ${t["quantity-btn"]}`,children:[e.jsx("span",{className:"tooltip above space right narrow2",children:Te[r]}),e.jsx("span",{children:"+1"})]})]}):e.jsx("button",{type:"button",onClick:()=>{if(s.quantity-1<1)if(window.confirm(`${C[r]}: ${s.name}?`)){f(n.filter(m=>m.id!==s.id));return}else return;S(s.id,-1)},children:e.jsx("span",{children:C[r]})}),s.quantity>=H?e.jsxs("span",{children:[D[r],": ",s.quantity+T," ",W[r]]}):s.quantity>=A?e.jsxs("span",{children:[D[r],": ",s.quantity+xe," ",W[r]]}):""]}),s.id!=="misc-quote"?e.jsx(e.Fragment,{children:e.jsxs("p",{children:[Q[r],": ",s.price," € × ",s.quantity," ="," ",e.jsxs("b",{children:[s.price*s.quantity," €"]})]})}):e.jsxs("p",{children:[Q[r],": ",s.price," €"," "]}),s.id.startsWith("misc")&&s.quantity>=A&&e.jsx("p",{children:e.jsxs("big",{children:[e.jsx(ls,{})," ",e.jsx("span",{children:Se[r]})," ",s.quantity>=H?e.jsxs(e.Fragment,{children:[e.jsxs("strong",{children:[" × ",T," "]}),e.jsx("span",{children:"—"})," ",e.jsx("span",{children:Z[r]}),e.jsxs("strong",{children:[" ",s.price*T," € "]})]}):s.quantity>=A?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:" —"})," ",e.jsx("span",{children:Z[r]}),e.jsxs("strong",{children:[" ",s.price," € "]})]}):""]})}),e.jsx("div",{className:t["item-details"],children:e.jsx("div",{className:`${t["textarea-wrap"]} textarea-wrap`,children:e.jsxs("label",{htmlFor:`${s.id}-details`,children:[e.jsxs("span",{children:[De[r],":"]}),e.jsx("textarea",{rows:5,required:!0,id:`details-${s.id}`,name:`details-${s.id}`,placeholder:s.id.startsWith("misc")&&s.id!=="misc-quote"?U[r]:Ie[r],onChange:m=>{f(n.map(j=>j.id===s.id?{...j,details:m.target.value}:j))}})]})})})]},`${s.id}-${a}`)}),n.length>0?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:t.total,children:e.jsx("big",{children:e.jsxs("span",{children:[D[r],": ",P," €"," "]})})}),e.jsxs("div",{className:`${t["please-fill"]}`,children:[e.jsx("div",{className:`${t["toggle-wrap"]}`,children:e.jsx(is,{id:"business-toggle",className:`${t.toggle}`,name:"company",on:Pe[r],off:Re[r],equal:!0,isChecked:w,handleToggleChange:()=>te(!w),label:`${Be[r]}: `})}),w?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"business-id",children:[e.jsx("input",{type:"text",name:"business-id",id:"business-id",required:!0,value:v,placeholder:Y[r],onChange:s=>ne(s.target.value)}),e.jsxs("span",{children:[Y[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"company-name",children:[e.jsx("input",{type:"text",id:"company-name",name:"company",required:!0,value:E,placeholder:`${Le[r]}/${Je[r]}`,onChange:s=>ae(s.target.value)}),e.jsxs("span",{children:[Oe[r],"/",ze[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"name-cart",children:[e.jsx("input",{type:"text",id:"name-cart",name:"name",required:!0,value:d,placeholder:V[r],onChange:s=>B(s.target.value)}),e.jsxs("span",{children:[V[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"email-cart",children:[e.jsx("input",{type:"email",name:"email",id:"email-cart",required:!0,value:l,placeholder:X[r],onChange:s=>R(s.target.value)}),e.jsxs("span",{children:[g[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"address-cart",children:[e.jsx("input",{type:"text",id:"address-cart",name:"address",required:!0,value:o,placeholder:N[r],onChange:s=>J(s.target.value)}),e.jsxs("span",{children:[N[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"zip-cart",children:[e.jsx("input",{type:"text",id:"zip-cart",name:"postal-code",required:!0,value:h,placeholder:$[r],onChange:s=>z(s.target.value),onKeyDown:s=>{!/[0-9]/.test(s.key)&&s.key!=="Backspace"&&s.key!=="Delete"&&s.key!=="ArrowLeft"&&s.key!=="ArrowRight"&&s.key!=="Tab"&&s.preventDefault()}}),e.jsxs("span",{children:[$[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"city-cart",children:[e.jsx("input",{id:"city-cart",type:"text",name:"city",required:!0,value:p,placeholder:q[r],onChange:s=>O(s.target.value)}),e.jsxs("span",{children:[q[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"country-cart",children:[e.jsx("input",{type:"text",id:"country-cart",name:"country",required:!0,value:c,placeholder:k[r],onChange:s=>L(s.target.value)}),e.jsxs("span",{children:[k[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder not-required ${b&&b.trim()!==""?"filled":"not-filled"}`,children:e.jsxs("label",{htmlFor:"phone-cart",children:[e.jsx("input",{type:"text",id:"phone-cart",name:"phone",value:b,placeholder:ee[r],onChange:s=>ie(s.target.value),onKeyDown:s=>{!/[0-9]/.test(s.key)&&s.key!=="Backspace"&&s.key!=="Delete"&&s.key!=="ArrowLeft"&&s.key!=="ArrowRight"&&s.key!=="Tab"&&s.key!==" "&&s.preventDefault()}}),e.jsxs("span",{children:[ee[r]," (",Ge[r].toLowerCase(),"):"]})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"name-cart",children:[e.jsx("input",{type:"text",id:"name-cart",name:"name",required:!0,value:d,placeholder:He[r],onChange:s=>B(s.target.value)}),e.jsxs("span",{children:[Me[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"email-cart",children:[e.jsx("input",{type:"email",name:"email",id:"email-cart",required:!0,value:l,placeholder:X[r],onChange:s=>R(s.target.value)}),e.jsxs("span",{children:[g[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"address-cart",children:[e.jsx("input",{type:"text",id:"address-cart",name:"address",required:!0,value:o,placeholder:N[r],onChange:s=>J(s.target.value)}),e.jsxs("span",{children:[N[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"zip-cart",children:[e.jsx("input",{type:"text",name:"postal-code",id:"zip-cart",required:!0,value:h,placeholder:$[r],onChange:s=>z(s.target.value),onKeyDown:s=>{!/[0-9]/.test(s.key)&&s.key!=="Backspace"&&s.key!=="Delete"&&s.key!=="ArrowLeft"&&s.key!=="ArrowRight"&&s.key!=="Tab"&&s.preventDefault()}}),e.jsxs("span",{children:[$[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"city-cart",children:[e.jsx("input",{type:"text",id:"city-cart",name:"city",required:!0,value:p,placeholder:q[r],onChange:s=>O(s.target.value)}),e.jsxs("span",{children:[q[r],":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"country-cart",children:[e.jsx("input",{type:"text",id:"country-cart",name:"country",required:!0,value:c,placeholder:k[r],onChange:s=>L(s.target.value)}),e.jsxs("span",{children:[k[r],":"]})]})})]}),e.jsx("div",{className:`${t["textarea-wrap"]} textarea-wrap`,children:e.jsxs("label",{htmlFor:"extra",children:[e.jsxs("span",{children:[U[r],":"]}),e.jsx("textarea",{rows:5,id:"extra",value:G,placeholder:`${Ke[r]}${w?`, ${We[r]} ${Qe[r]}`:""}`,onChange:s=>ce(s.target.value)})]})})]}),e.jsxs("div",{className:`${t["send-order-wrap"]} flex center`,children:[e.jsx("div",{className:t.terms,children:e.jsxs("label",{children:[e.jsx("input",{id:"terms-cart",required:!0,type:"checkbox",name:"terms",onChange:s=>{me(s.target.checked)}}),e.jsxs("span",{children:[Ze[r]," ",e.jsx(se,{to:"/terms",children:Ue[r]})]})]})}),e.jsx("div",{className:t.gdpr,children:e.jsxs("label",{className:"radio-checkbox",children:[e.jsx("input",{id:"gdpr-cart",required:!0,type:"checkbox",name:"gdpr",onChange:s=>{pe(s.target.checked)}}),e.jsx("span",{children:Ye[r]})]})}),e.jsxs("button",{className:t.submit,type:"submit",disabled:ue,children:[e.jsx("span",{children:Ve[r]})," ",e.jsx(ds,{})]}),e.jsx(Xe,{className:"cart-accordion grayer",text:ge[r],language:r,wrapperClass:t["more-info-wrap"],children:e.jsx(es,{language:r})})]}),e.jsx("div",{className:`${t["clear-btn-wrap"]} flex center`,children:e.jsx("button",{type:"button",onClick:()=>{window.confirm(`${C[r]}: ${ss[r]}?`)&&(f([]),I(),F(0))},className:"danger delete",children:rs[r]})})]}):e.jsx(e.Fragment,{children:e.jsxs("p",{className:"flex center",children:["[ ",ts[r]," ]"]})})," "]})]})};export{Bs as default};
