const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FormJoke-D2QrRICB.js","assets/index-BdZ3b4Wv.js","assets/react-kX_YxI4E.js","assets/dom-to-image-more-CfDXlNbO.js","assets/react-dom-B5MLDbn_.js","assets/scheduler-CzFDRTuY.js","assets/react-redux-BEmJlIGA.js","assets/hoist-non-react-statics-DQogQWOa.js","assets/react-is-DUDD-a5e.js","assets/use-sync-external-store-BPp6CH6k.js","assets/@reduxjs-DhFEcpJw.js","assets/immer-C0GRqQ_d.js","assets/redux-CE3tqztX.js","assets/@babel-DF5_wy6Y.js","assets/redux-thunk-CY0Q9z1Q.js","assets/axios-CCb-kr4I.js","assets/react-icons-DEg4IKXU.js","assets/react-router-dom-ZPAD5XPx.js","assets/react-router-DUuhLvki.js","assets/@remix-run-DTnHqtaE.js","assets/index-0SxUFWxV.css","assets/ButtonToggle-CHiFgNT8.js","assets/ButtonToggle-DGUBT5Pn.css","assets/JokeSubmit-CDRyTPRp.js","assets/uuid-Dv1xt2bl.js","assets/UserJokes-DwTpo7GO.js"])))=>i.map(i=>d[i]);
import{_ as Te,cg as Zs,ch as x,ci as M,cj as le,ck as fe,u as Ws,cl as Ds,i as X,cm as q,o as p,cn as js,b$ as B,co as et,bc as te,cp as st,aP as tt,cq as it,e as _e,cr as Le,cs as at,ct as rt,cu as ot,cv as nt,cw as cs,cx as ls,cy as fs,cz as ds,cA as us,cB as ps,cC as hs,cD as ct,cE as lt,cF as ft,cG as K,cH as dt,cI as ut,cJ as pt,cK as ht,cL as Ce,cM as ms,cN as Ie,cO as ie,cP as mt,cQ as ae,cR as de,cS as yt,cT as gt,cU as vt,cb as re,cV as St,cW as Et,cX as xt,cY as wt,cZ as $t,c_ as _t,c$ as Lt,d0 as Ct,d1 as ys,d2 as gs}from"./index-BdZ3b4Wv.js";import{r as d,j as S}from"./react-kX_YxI4E.js";import{a as ue}from"./react-redux-BEmJlIGA.js";import{a as Q}from"./axios-CCb-kr4I.js";import{a as It}from"./react-router-DUuhLvki.js";const pe="https://api.chucknorris.io/jokes",Tt=async()=>(await Q.get(`${pe}/categories`)).data,At=async()=>(await Q.get(`${pe}/random`)).data,bt=async t=>(await Q.get(`${pe}/random?category=${t}`)).data,Nt=async t=>{const A=await Q.get(`${pe}/search?query=${t}`);if(!A.data.result||A.data.result.length===0)return;const $=Math.floor(Math.random()*A.data.result.length);return A.data.result[$]},Z={getNorrisCategories:Tt,getFullyRandomNorrisJoke:At,getRandomJokeFromNorrisCategory:bt,searchNorrisJoke:Nt},Ae="https://icanhazdadjoke.com/",Mt=async()=>(await Q.get(Ae,{headers:{Accept:"application/json"}})).data,Ot=async t=>{const A=await Q.get(`${Ae}/search?term=${t}&limit=100`,{headers:{Accept:"application/json"}});if(!A.data||A.data.results.length===0)return;const $=Math.floor(Math.random()*A.data.results.length);return A.data.results[$]},Rt=async t=>(await Q.get(`${Ae}/j/${t}`,{headers:{Accept:"application/json"}})).data,oe={getRandomDadJoke:Mt,searchDadJokes:Ot,getDadJokeById:Rt},Bt=d.lazy(()=>Te(()=>import("./FormJoke-D2QrRICB.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]))),Jt=d.lazy(()=>Te(()=>import("./JokeSubmit-CDRyTPRp.js"),__vite__mapDeps([23,2,3,1,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,24]))),qt=d.lazy(()=>Te(()=>import("./UserJokes-DwTpo7GO.js"),__vite__mapDeps([25,2,3,16,1,4,5,6,7,8,9,10,11,12,13,14,15,17,18,19,20,21,22])));function Ut({language:t,setLanguage:A}){const $=ue(e=>{var s;return(s=e.jokes)==null?void 0:s.jokes}),r=ue(e=>{var s;return(s=e.jokes)==null?void 0:s.joke}),C=ue(e=>e.users),c=ue(e=>{var s;return(s=e.auth)==null?void 0:s.user}),he={en:cs,es:ls,fr:fs,de:ds,pt:us,cs:ps,fi:hs},vs=Zs[t],[me,T]=d.useState(""),[be,O]=d.useState(""),[Ss,z]=d.useState(""),[Ne,Es]=d.useState(he.en),[Me,ye]=d.useState(t),[W,Y]=d.useState(x.Misc),[_,Oe]=d.useState([]),[V,xs]=d.useState([{value:"any",label:"Any"}]),[y,Re]=d.useState(V[0]),[L,ws]=d.useState([]),[Be,Je]=d.useState(M.twopart),[H,$s]=d.useState(!1),[ge,qe]=d.useState(le.Safe),[b,Ue]=d.useState(!0),[Fe,Pe]=d.useState(fe.None),[J,Ye]=d.useState(""),[_s,Ls]=d.useState(""),[Cs,ke]=d.useState(!1),[Is,ze]=d.useState(!0),[ve,U]=d.useState(""),[Ts,Se]=d.useState(!1),[As,Ee]=d.useState(!1),[bs,Ke]=d.useState(!1),[Qe,Ve]=d.useState(!1),[Ft,He]=d.useState(!1),[Ns,Ge]=d.useState(null),[R,G]=d.useState([]),[xe,Pt]=d.useState(6),[Xe,w]=d.useState(!1),[I,Ze]=d.useState({nsfw:!1,religious:!1,political:!1,racist:!1,sexist:!1,explicit:!1}),o=Ws();d.useEffect(()=>{const e=!!(_!=null&&_.find(s=>s.value==="ChuckNorris"));Ve(J===""?e:!1)},[J,_,Qe]),d.useEffect(()=>{o(Ds())},[]),d.useEffect(()=>{o(X())},[]),d.useEffect(()=>{o(q()).then(()=>{p(`${js[t]}...`,!1,3)}).catch(e=>{var s,a;(a=(s=e.response)==null?void 0:s.data)!=null&&a.message?o(p(e.response.data.message,!0,8)):o(p(`${B[t]}: ${(e==null?void 0:e.message)??""}`,!0,8))})},[]),d.useEffect(()=>{t&&(Es(he[t]),Oe(_.map(e=>({...e,label:he[t][e.value]}))))},[t]);const We=()=>{Ue(!b)},Ms=()=>{$s(!H)};d.useEffect(()=>{qe(b?le.Safe:le.Unsafe)},[b]),d.useEffect(()=>{Je(H?M.twopart:M.single)},[H]);const Os=e=>{e.preventDefault(),w(!0),setTimeout(()=>{Ke(!0)},400),ze(!0),setTimeout(()=>{D(),ke(!0),setTimeout(()=>{ke(!1),w(!1)},5500);const s=document.querySelector("#queryValue");s&&s.scrollIntoView({behavior:"smooth"})},600)},Rs=(e,s)=>async a=>{var n,i;if(a.preventDefault(),w(!0),window.confirm(`${ct[t]} ${lt[t].toLowerCase()} "${s}"?`))try{o(ft(e,c==null?void 0:c._id)).then(()=>{o(q())}),w(!1)}catch(u){(i=(n=u.response)==null?void 0:n.data)!=null&&i.message?o(p(u.response.data.message,!0,8)):console.error(K[t],u),w(!1)}else return},Bs=(e,s)=>async a=>{a.preventDefault(),w(!0);const n=$.find(h=>h._id===e);if(!n){o(p(`${B[t]}!`,!0,8)),w(!1);return}const i=async h=>{var g,v;try{await o(Ce(h)),await o(q());const m=await o(Ce({...h,verified:!1,_id:e}));o(p(`${Ie[t]}. ${m.message??""}`,!1,8)),Ge(null),He(!1),w(!1)}catch(m){console.error(m);const N=(m==null?void 0:m.code)==="ERR_BAD_RESPONSE"?(v=(g=m==null?void 0:m.response)==null?void 0:g.data)==null?void 0:v.message:(m==null?void 0:m.message)??"";o(p(`${B[t]}: ${N}`,!0,8)),w(!1)}},u=()=>{n.private===!0&&s.private===!1?s.category===x.Dark||Object.values(s.flags).some(h=>h)?(i({...s,private:!0,verified:!1,safe:!1}),w(!1)):(i({...s,private:!0,verified:!1,_id:e}),w(!1)):s.category!=x.Dark&&!Object.values(s.flags).some(h=>h)?(i({...s,safe:!0,_id:e}),w(!1)):s.category===x.Dark||Object.values(s.flags).some(h=>h)?(i({...s,safe:!1,_id:e}),w(!1)):(i(s),w(!1))};n.private===!0&&s.private===!1?window.confirm(dt[t])&&u():n.private===!1&&s.private===!0?window.confirm(ut[t])&&u():u()},De=e=>Object.entries(e).map(([s,a])=>({value:s,label:a})),Js=e=>Object.entries(e).map(([s,a])=>({value:s,label:a[t]}));function je(e,s){for(const a in e)if(e[a]===s)return a}function es(e,s){return Object.keys(e).find(a=>e[a]===s)}const[ne,qs]=d.useState(void 0);d.useEffect(()=>{const e=$==null?void 0:$.find(s=>s.jokeId.toString()===(r==null?void 0:r.jokeId.toString())&&s.language===(r==null?void 0:r.language)&&s.category===(r==null?void 0:r.category));e&&qs(e)},[r,$]);const ss=e=>{var s;if(e.preventDefault(),c){if(ne){if(ne.user.includes((s=c==null?void 0:c._id)==null?void 0:s.toString())){o(p(`${ht[t]}`,!1,8));return}o(Ce({...ne,user:[...ne.user,c==null?void 0:c._id]})).then(()=>q()).catch(a=>{var n,i;(i=(n=a.response)==null?void 0:n.data)!=null&&i.message?o(p(a.response.data.message,!0,8)):o(p(`${B[t]}:: ${(a==null?void 0:a.message)??""}`,!0,8))})}else r&&(r==null?void 0:r.type)===M.single?o(ms({jokeId:(r==null?void 0:r.jokeId.toString())??ve.toString(),joke:me,type:M.single,category:(r==null?void 0:r.category)??W??x.Misc,subCategories:(r==null?void 0:r.subCategories)??(L==null?void 0:L.length)>0?L:void 0,language:(r==null?void 0:r.language)??Me,safe:!Object.values(I).some(a=>a),user:[c._id],flags:{nsfw:r==null?void 0:r.flags.nsfw,religious:r==null?void 0:r.flags.religious,political:r==null?void 0:r.flags.political,racist:r==null?void 0:r.flags.racist,sexist:r==null?void 0:r.flags.sexist,explicit:r==null?void 0:r.flags.explicit}})).then(()=>{o(q())}).catch(a=>{var n,i;(i=(n=a.response)==null?void 0:n.data)!=null&&i.message?o(p(a.response.data.message,!0,8)):o(p(`${B[t]}*: ${(a==null?void 0:a.message)??""}`,!0,8))}):r&&(r==null?void 0:r.type)===M.twopart&&o(ms({jokeId:(r==null?void 0:r.jokeId.toString())??ve.toString(),setup:me,delivery:be,type:M.twopart,category:(r==null?void 0:r.category)??W??x.Misc,subCategories:(L==null?void 0:L.length)>0?L:void 0,language:(r==null?void 0:r.language)??Me,safe:!Object.values(r==null?void 0:r.flags).some(a=>a),user:[c._id],flags:{nsfw:r==null?void 0:r.flags.nsfw,religious:r==null?void 0:r.flags.religious,political:r==null?void 0:r.flags.political,racist:r==null?void 0:r.flags.racist,sexist:r==null?void 0:r.flags.sexist,explicit:r==null?void 0:r.flags.explicit}})).then(()=>{o(q())}).catch(a=>{var n,i;(i=(n=a.response)==null?void 0:n.data)!=null&&i.message?o(p(a.response.data.message,!0,8)):o(p(`${B[t]}: ${(a==null?void 0:a.message)??""}`,!0,8))});o(p(`${Ie[t]}`,!1,8))}else{o(p(`${pt[t]}`,!1,8));return}},Us=async(e,s,a,n)=>{var i,u,h,g,v,m,N,l,f,E,F,ee,se;if($e(e.id)){D();return}if(n&&R.some(P=>P.jokeId===e.jokeId&&P.language===t)){D();return}G(P=>[...P,{jokeId:e.id,language:t}]),(R==null?void 0:R.length)>xe&&G(P=>P.slice(1)),Y(s),ws(a??[]),o(ae({jokeId:e.id.toString(),joke:e.joke||e.value,type:M.single,category:s,subCategories:a&&(a==null?void 0:a.length)>0?a:void 0,language:te.English,safe:!((i=e==null?void 0:e.categories)!=null&&i.includes("explicit")||(u=e==null?void 0:e.categories)!=null&&u.includes("political")||(h=e==null?void 0:e.categories)!=null&&h.includes("religion")),user:e.user,flags:{nsfw:((g=e.categories)==null?void 0:g.nsfw)??!1,religious:((v=e.categories)==null?void 0:v.religion)??!1,political:((m=e.categories)==null?void 0:m.political)??!1,racist:((N=e.categories)==null?void 0:N.racist)??!1,sexist:((l=e.categories)==null?void 0:l.sexist)??!1,explicit:((f=e.categories)==null?void 0:f.explicit)??!1}})),Ze({explicit:((E=e==null?void 0:e.categories)==null?void 0:E.includes("explicit"))??!1,religious:((F=e==null?void 0:e.categories)==null?void 0:F.includes("religious"))??!1,political:((ee=e==null?void 0:e.categories)==null?void 0:ee.includes("political"))??!1,racist:!1,sexist:!1,nsfw:((se=e==null?void 0:e.categories)==null?void 0:se.includes("explicit"))??!1}),T(e.joke||e.value),O(""),U(e.id),ye(te.English),T(e.joke||e.value)},Fs=()=>{const e=ge===le.Unsafe?V.filter(n=>n.value!=="any"):V.filter(n=>n.value!=="any"&&n.value!=="explicit"&&n.value!=="religion"&&n.value!=="political"),s=Math.floor(Math.random()*(e==null?void 0:e.length));return e[s]},[we,Ps]=d.useState([]);d.useEffect(()=>{if(Array.isArray($)&&($==null?void 0:$.length)>0&&Array.isArray(C)&&(C==null?void 0:C.length)>0){let e=$==null?void 0:$.map(s=>{const a=C==null?void 0:C.find(i=>i._id==s.author),n=et[t][es(te,s.language)];return{...s,translatedLanguage:n??"",name:s.anonymous?st[t]:(a==null?void 0:a.name)??""}});e=b?b?e.filter(s=>s.safe).sort((s,a)=>{var n,i;return((n=a.user)==null?void 0:n.length)-((i=s.user)==null?void 0:i.length)}):[]:e.filter(s=>s.safe===!1).sort((s,a)=>{var n,i;return((n=a.user)==null?void 0:n.length)-((i=s.user)==null?void 0:i.length)}),Ps(e)}},[$,C,t,b]);const D=async(e=0)=>{const s=_.map(l=>l.value);if(e>5)return;const a=l=>{if(l&&(l==null?void 0:l.length)>0&&Array.isArray(C)&&(C==null?void 0:C.length)>0){const f=l[Math.floor(Math.random()*(l==null?void 0:l.length))];if(R.some(E=>E.jokeId===f.jokeId&&E.language===t)){D();return}if(G(E=>[...E,{jokeId:f.jokeId,language:t}]),(R==null?void 0:R.length)>xe&&G(E=>E.slice(1)),f){if(U(f.jokeId),ye(t),Y(f.category),"joke"in f?T(f.joke):"setup"in f&&T(f.setup),O("delivery"in f?f==null?void 0:f.delivery:""),(f.private===!1||f.private===void 0)&&f.anonymous===!1){const E=C==null?void 0:C.find(F=>F._id==f.author);z((E==null?void 0:E.name)??"")}else z("");o(ae(f));return}else{o(p(`${B[t]}! ${ie[t]}. ${ys[t]}`,!0,8)),T(""),O(""),z("");return}}else{o(p(`${B[t]}! ${ie[t]}. ${ys[t]}`,!0,8)),T(""),O(""),z("");return}},n=H?M.twopart:M.single,i=we==null?void 0:we.filter(l=>l.language===t&&((s==null?void 0:s.length)===0||s.includes(l.category))&&(l.private===!1&&l.verified===!0||l.private===void 0)&&l.safe===b&&l.type===n),u=(_==null?void 0:_.length)<1,h=_.some(l=>l.value==="ChuckNorris"),g=_.some(l=>l.value==="DadJoke"),v=J.trim()!==""||J!=="&";ye(t);let m=i;if(v){const l=J.replace(/&$/,"");m=i==null?void 0:i.filter(f=>{var E,F,ee,se,P,rs,os,ns;if(f){const Vs=("joke"in f?(E=f.joke)==null?void 0:E.toLowerCase().includes(l.toLowerCase()):!1)||("setup"in f?(F=f.setup)==null?void 0:F.toLowerCase().includes(l.toLowerCase()):!1)||("delivery"in f?(ee=f.delivery)==null?void 0:ee.toLowerCase().includes(l.toLowerCase()):!1)||((se=f.name)==null?void 0:se.toLowerCase().includes(l.toLowerCase()))||((P=f.category)==null?void 0:P.toLowerCase().includes(l.toLowerCase()))||((rs=f.subCategories)==null?void 0:rs.includes(l==null?void 0:l.toLowerCase()))||((os=f.translatedLanguage)==null?void 0:os.toLowerCase().includes(l.toLowerCase())),Hs=(s==null?void 0:s.length)>0?s.includes(f.category):!0,Gs=f.language===t,Xs=(y==null?void 0:y.value)!==""&&(y==null?void 0:y.value)!=="any"?(ns=f.subCategories)==null?void 0:ns.includes(y==null?void 0:y.value):!0;return f.safe===b&&f.type===n&&(f.private===!1&&f.verified===!0||f.private===void 0)?Gs&&Hs&&Xs&&Vs:!1}})}if(m=m==null?void 0:m.filter(l=>{var E;return!((E=c==null?void 0:c.blacklistedJokes)==null?void 0:E.some(F=>F.jokeId===l.jokeId&&F.language===l.language))}),m&&(m==null?void 0:m.length)>0&&t===te.Suomi){a(m);return}else if(m&&(m==null?void 0:m.length)>0&&Math.random()<.1){a(m);return}const N=J.replace(/&$/,"");if(h||g){if(t!==te.English){a(m);return}else if(h&&g){const l=Math.floor(gs(1,2.999));if(l===1&&h){if(!await k(Z,v?N:null,x.ChuckNorris,!v)){ce();return}}else if(l>1&&g&&!await k(oe,v?N:null,x.DadJoke,!v)){ce();return}}else if(h){if(!await k(Z,v?N:null,x.ChuckNorris,!v)){ce();return}}else if(g&&!await k(oe,v?N:null,x.DadJoke,!v)){ce();return}}else if(u&&!H){const l=Math.floor(gs(1,10.999)),f=v?N:null;l===1?await k(Z,f,x.ChuckNorris,!v)||await k(oe,f,x.DadJoke,!1):l===2?await k(oe,f,x.DadJoke,!1)||await k(Z,f,x.ChuckNorris,!v):l>2&&j()}else j()};async function k(e,s,a,n){var u,h;let i;try{if(a===x.ChuckNorris&&e===Z)if(!b&&(!(y!=null&&y.value)||(y==null?void 0:y.value)==="any"))i=await e.getFullyRandomNorrisJoke();else if(y!=null&&y.value&&(y==null?void 0:y.value)!=="any")i=await e.getRandomJokeFromNorrisCategory(y==null?void 0:y.value);else{const g=Fs();i=s?await e.searchNorrisJoke(s):await e.getRandomJokeFromNorrisCategory(g.value)}else a===x.DadJoke&&e===oe&&(i=s?await e.searchDadJokes(s):await e.getRandomDadJoke());if(!i)j();else{if($e(i.id)){D();return}Y(a),U(i.id),await Us(i,a,(i==null?void 0:i.subCategories)??[],n)}}catch(g){(h=(u=g.response)==null?void 0:u.data)!=null&&h.message?o(p(g.response.data.message,!0,8)):console.error(g),j()}finally{}return!!i}const ce=()=>{o(p(`${B[t]}! ${ie[t]}`,!0,8)),T(""),O("")};d.useEffect(()=>{(_==null?void 0:_.length)<1&&Y(null)},[_]);const j=(e=0)=>{const a=_.map(i=>i.value).filter(i=>i!=="ChuckNorris"&&i!=="DadJoke"),n=(a==null?void 0:a.length)>0?a.join(","):"Any";fetch(`https://v2.jokeapi.dev/joke/${n}?${Fe}${J}lang=${t}&format=json${ge}&type=${Be}`).then(i=>i.json()).then(i=>{var u,h,g,v,m,N;if(!(e>5)){if($e(i.id)||Fe===fe.None&&R.some(l=>l.jokeId===i.jokeId&&l.language===t)){j(e+1);return}if(G(l=>[...l,{jokeId:i.id,language:t}]),(R==null?void 0:R.length)>xe&&G(l=>l.slice(1)),Ze({nsfw:((u=i.flags)==null?void 0:u.nsfw)??!1,religious:((h=i.flags)==null?void 0:h.religious)??!1,political:((g=i.flags)==null?void 0:g.political)??!1,racist:((v=i.flags)==null?void 0:v.racist)??!1,sexist:((m=i.flags)==null?void 0:m.sexist)??!1,explicit:((N=i.flags)==null?void 0:N.explicit)??!1}),Y(i.category),i.error)if(n==="Any"){o(p(`${B[t]}! ${ie[t]}. ${mt[t]}`,!0,10)),T(""),O(""),U("");return}else{T(""),O(""),o(p(`${B[t]}! ${ie[t]}`,!0,8)),U("");return}Be===M.twopart?(o(ae({jokeId:i.id.toString(),setup:i.setup,delivery:i.delivery,type:M.twopart,category:i.category,subCategories:(L==null?void 0:L.length)>0?L:void 0,language:t,safe:!(W===x.Dark||!Object.values(I).some(l=>l)),user:c?[c._id]:[],flags:{nsfw:I.nsfw,religious:I.religious,political:I.political,racist:I.racist,sexist:I.sexist,explicit:I.explicit}})),Y(i.category),T(i.setup),O(i.delivery),U(i.id)):(o(ae({jokeId:i.id.toString(),joke:i.joke,type:M.single,category:i.category,subCategories:(L==null?void 0:L.length)>0?L:void 0,language:t,safe:!(W===x.Dark||!Object.values(I).some(l=>l)),user:c?[c._id]:[],flags:{nsfw:I.nsfw,religious:I.religious,political:I.political,racist:I.racist,sexist:I.sexist,explicit:I.explicit}})),Y(i.category),T(i.joke),O(""),U(i.id))}}).catch(i=>{var u,h;(h=(u=i.response)==null?void 0:u.data)!=null&&h.message?o(p(i.response.data.message,!0,8)):(console.error(i),o(p(`${B[t]}! ${i.response.data.message}`,!0,8)))})};function $e(e){var s;return((s=c==null?void 0:c.blacklistedJokes)==null?void 0:s.some(a=>a.jokeId===e&&a.language===t))??!1}const Ys=async()=>{const e=await Z.getNorrisCategories(),s=ks(e),a=b?s.filter(n=>n.value!=="explicit"&&n.value!=="religion"&&n.value!=="political"):s;b&&Re(s[0]),xs(a)};d.useEffect(()=>{Ys()},[ge]),d.useEffect(()=>{J.trim()===""||J==="&"?Pe(fe.None):Pe(fe.Contains),J==="&"&&Ye("")},[J]),d.useEffect(()=>{const e=document.querySelector(".login-container.closed button.open"),s=document.querySelector(".login-container.open button.close"),a=document.querySelector(".register-container.closed button.open"),n=document.querySelector(".register-container.open button.close");e==null||e.addEventListener("click",()=>{As===!0&&(n==null||n.click()),Se(!0),Ee(!1)}),a==null||a.addEventListener("click",()=>{Ts===!0&&(s==null||s.click()),Ee(!0),Se(!1)}),s==null||s.addEventListener("click",()=>{Se(!1)}),n==null||n.addEventListener("click",()=>{Ee(!1)})},[]);const ks=(e,s)=>{var n;const a=(n=Object.entries(e))==null?void 0:n.map(([i,u])=>({value:u,label:de[u]&&de[u][t]?de[u][t]:u.charAt(0).toUpperCase()+u.slice(1)}));return a.unshift({value:"any",label:de.any[t]||yt[t]}),a},ts=(e,s)=>{const a={en:cs,es:ls,fr:fs,de:ds,pt:us,cs:ps,fi:hs};let n=e;return e===x.ChuckNorris&&(n="ChuckNorris"),e===x.DadJoke&&(n="DadJoke"),a[s][n]},is=It(),zs=()=>{is("/portfolio/jokes?register=register")},Ks=()=>{is("/portfolio/jokes?login=login")},as=(e,s,a)=>{var n;if(window.confirm(`${gt[s]}`))if((n=c==null?void 0:c.blacklistedJokes)==null?void 0:n.some(u=>u.jokeId===e&&u.language===s)){o(p(vt[s],!0,3)),o(re(c==null?void 0:c._id)).then(()=>o(X())),T(""),O(""),z(""),U("");return}else Array.isArray(C)&&c?o(St(c==null?void 0:c._id)).then(u=>{const h=u==null?void 0:u.find(g=>{var v;return((v=g.jokeId)==null?void 0:v.toString())===(e==null?void 0:e.toString())&&g.language===s});h&&o(Et(h==null?void 0:h._id)).then(()=>o(q()))}).then(()=>{o(xt(c==null?void 0:c._id,e,s,a)).then(()=>{o(p(`${wt[s]}`,!1,3)),o(q()).then(()=>o(re(c==null?void 0:c._id))).then(()=>o(X())).then(()=>{T(""),O(""),z(""),U("")})}).catch(u=>{var h,g;o(q()).then(()=>o(re(c==null?void 0:c._id))).then(()=>o(X())),(g=(h=u.response)==null?void 0:h.data)!=null&&g.message?o(p(u.response.data.message,!0,8)):(console.error(u),o(p(`${K[s]}`,!1,5))),T(""),O(""),z(""),U("")})}):o(p(`${K[s]}`,!1,3))},Qs=(e,s,a)=>{e.preventDefault(),o(ae(s)),w(!0),window.confirm(`${$t[t]}`)&&(c?(o(_t(c==null?void 0:c._id,a,s==null?void 0:s.language)).then(n=>{o(q()).then(()=>o(re(c==null?void 0:c._id))).then(()=>o(X())).then(()=>o(p(`${Lt[t]}`,!1,3)))}).catch(n=>{var i,u;(u=(i=n.response)==null?void 0:i.data)!=null&&u.message?o(p(n.response.data.message,!0,8)):(console.error(n),o(p(`${K[t]}`,!1,3)))}),w(!1)):(o(p(`${K[t]}`,!1,3)),w(!1))),setTimeout(()=>{window.confirm(`${Ct[t]}`)&&(c?(ss(e),o(q()).then(()=>o(re(c==null?void 0:c._id))).then(()=>o(X())).then(()=>o(p(`${Ie[t]}`,!1,8))).catch(n=>{var i,u;(u=(i=n.response)==null?void 0:i.data)!=null&&u.message?o(p(n.response.data.message,!0,8)):(console.error(n),o(p(`${K[t]}`,!1,3)))}),w(!1)):(o(p(`${K[t]}`,!1,3)),w(!1)))},600)};return S.jsxs(S.Fragment,{children:[S.jsx("section",{className:`joke-container card ${t}`,id:"jokeform",children:S.jsx("div",{children:S.jsxs("div",{className:"jokes-wrap",children:[S.jsx("h2",{children:tt[t]}),S.jsx("p",{className:"center textcenter mb3",children:it[t]}),S.jsx(d.Suspense,{fallback:S.jsxs("div",{className:"flex center margin0auto textcenter",children:[_e[t],"..."]}),children:S.jsx(Bt,{sending:Xe,handleFormSubmit:Os,jokeCategory:W,setJokeCategory:Y,categoryValues:_,setCategoryValues:Oe,setQueryValue:Ye,setLanguage:A,language:t,joke:me,delivery:be,jokeId:ve,author:Ss,options:Le,getKeyByValue:je,query:_s,setQuery:Ls,isCheckedSafemode:b,isCheckedJokeType:H,handleToggleChangeSafemode:We,handleToggleChangeEJokeType:Ms,submitted:Cs,reveal:Is,setReveal:ze,handleJokeSave:ss,optionsCategory:De,categoryByLanguages:Ne,visibleJoke:bs,setVisibleJoke:Ke,norrisCategories:V,selectedNorrisCategory:y,setSelectedNorrisCategory:Re,hasNorris:Qe,getCategoryInLanguage:ts,subCategoryResults:L,handleBlacklistUpdate:as})})]})})}),S.jsx("section",{className:`joke-container ${t}`,children:S.jsxs("div",{children:[c?S.jsxs("p",{className:"textcenter",children:[ot[t]," ",c==null?void 0:c.name]}):S.jsxs("div",{className:"register-login-wrap",children:[S.jsx("button",{onClick:Ks,children:at[t]}),S.jsx("button",{onClick:zs,children:rt[t]})]}),c&&S.jsx(d.Suspense,{fallback:S.jsxs("div",{className:"flex center margin0auto textcenter",children:[_e[t],"..."]}),children:S.jsx(Jt,{userId:c==null?void 0:c._id,language:t,categoryByLanguages:Ne,getKeyByValue:je,options:Le,optionsCategory:De,jokeCategoryByLanguage:nt,norrisCategories:V})})]})}),S.jsx("section",{className:`joke-container card ${t}`,children:S.jsx("div",{children:S.jsx(d.Suspense,{fallback:S.jsxs("div",{className:"flex center margin0auto textcenter",children:[_e[t],"..."]}),children:S.jsx(qt,{sending:Xe,user:c,handleDelete:Rs,language:t,isCheckedSafemode:b,setIsCheckedSafemode:Ue,handleToggleChangeSafemode:We,translateWordLanguage:vs,getKeyofEnum:es,options:Le,optionsSortBy:Js,norrisCategories:V,getCategoryInLanguage:ts,handleUpdate:Bs,setIsEditOpen:He,editId:Ns,setEditId:Ge,handleRemoveJokeFromBlacklisted:Qs,handleBlacklistUpdate:as})})})})]})}const Vt=Object.freeze(Object.defineProperty({__proto__:null,default:Ut},Symbol.toStringTag,{value:"Module"}));export{Vt as J,oe as d,Z as n};
