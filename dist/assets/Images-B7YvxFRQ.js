const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Image-GVpCEaN7.js","assets/react-A9DAvxly.js","assets/hoist-non-react-statics-D5aJipOz.js","assets/index-E3fPEq6d.js","assets/react-dom-yh0erWL-.js","assets/scheduler-CzFDRTuY.js","assets/react-redux-CHm9GgGE.js","assets/react-is-DUDD-a5e.js","assets/use-sync-external-store-DEc9BFqZ.js","assets/@reduxjs-DhFEcpJw.js","assets/immer-C0GRqQ_d.js","assets/redux-CE3tqztX.js","assets/@babel-DF5_wy6Y.js","assets/redux-thunk-CY0Q9z1Q.js","assets/axios-CCb-kr4I.js","assets/react-icons-CrVlm7qW.js","assets/react-router-dom-CYs6befe.js","assets/react-router-S1Hdk0kP.js","assets/@remix-run-DTnHqtaE.js","assets/index-BhWw_LUh.css","assets/poems-CeOSoNpa.js","assets/Video-B6mgJwGe.js"])))=>i.map(i=>d[i]);
import{gm as Y,K as Ne,c$ as Pe,ae as Te,gn as we,W as O,go as Ee,gp as Se,gq as Xe,fl as Me,fW as Ze,gr as H,gs as We,gt as et,gu as tt,gv as q,gw as W,eV as oe,gx as r,gy as st,bK as Ce,gz as it,gA as at,bJ as le,bL as he,gB as rt,gC as nt,gD as ct,gE as de,gF as ot,S as k,gG as lt,gH as ht,gI as dt,gJ as pt,gK as ut,gL as xt,gM as mt,gN as ft,gO as yt,gP as vt,gQ as jt,gR as bt,gS as gt,ag as pe,gT as ue,gU as xe,gV as me,gW as _e,gX as $e,gY as wt,gZ as Et}from"./index-E3fPEq6d.js";import{r as n,j as s}from"./react-A9DAvxly.js";import{a as St}from"./axios-CCb-kr4I.js";import{P as Ct,aY as _t,aZ as $t,Q as Nt}from"./react-icons-CrVlm7qW.js";const Tt="http://localhost:4000",Mt=`${Tt}/api/images`,kt=async(t,c)=>{var j,m;try{const o=new URLSearchParams;return o.append("q",c.q),c.type?o.append("image_type",c.type):o.append("image_type","all"),c.video_type&&o.append("video_type",c.video_type),c.orientation?o.append("orientation",c.orientation):o.append("orientation",Y.All),c.category&&o.append("category",c.category),c.min_width!==void 0&&c.min_width>=0?o.append("min_width",c.min_width.toString()):o.append("min_width","0"),c.min_height!==void 0&&c.min_height>=0?o.append("min_height",c.min_height.toString()):o.append("min_height","0"),c.colors&&c.colors.length>0&&o.append("colors",c.colors.join(",")),o.append("editors_choice",c.editors_choice?"true":"false"),o.append("safesearch",c.safesearch?"true":"false"),c.order?o.append("order",c.order):o.append("order","popular"),o.append("per_page",c.per_page&&c.per_page>=3&&c.per_page<=200?c.per_page.toString():"200"),(await St.get(`${Mt}/${t}?${o.toString()}`)).data}catch(o){return console.error("Error fetching images:",o),{success:!1,message:((m=(j=o.response)==null?void 0:j.data)==null?void 0:m.message)||`Error fetching images. ${o.message}`,totalHits:0,hits:[]}}},Ot={searchMedia:kt},At="_cloud_1ami1_1",Lt="_word_1ami1_29",ee={"cloud-wrap":"_cloud-wrap_1ami1_1",cloud:At,word:Lt},Rt=({language:t,title:c,onClick:j,words:m,width:o=600,height:b=400})=>{const N=Ne(),[J,A]=n.useState([]),f=Pe(),{windowWidth:g}=Te(),y=n.useRef(null),te=(i,h)=>{const a=document.createElement("canvas").getContext("2d");if(a){a.font=`${h}px Arial`;const x=a.measureText(i).width+2,w=h*.65,_=h*.2,R=w+_;return{width:x,height:R,ascent:w,descent:_}}return{width:0,height:0,ascent:0,descent:0}},L=(i,h)=>{const{width:l,height:a,ascent:d}=te(i.text,h);return{width:l,height:a,ascent:d}},se=(i,h)=>{const l=[],a=h.width*Xe(.2,.4),d=h.height*.2;return l.push({x:i.x+a,y:i.y-h.height}),l.push({x:i.x+a,y:i.y+i.height}),l.push({x:i.x+i.width,y:i.y+d}),l.push({x:i.x+i.width-a,y:i.y-h.height}),l.push({x:i.x+i.width-a,y:i.y+i.height}),l.push({x:i.x-h.width,y:i.y+d}),l.push({x:i.x-h.width,y:i.y+i.height}),g<500&&l.push({x:i.x-h.width,y:i.y-h.height}),g<500&&l.push({x:i.x-a,y:i.y+i.height*2}),g<500&&l.push({x:i.x-a,y:i.y-i.height*2}),g<500&&l.push({x:i.x+a,y:i.y+i.height*3}),g<500&&l.push({x:i.x+a,y:i.y-i.height*3}),g<500&&l.push({x:i.x-a,y:i.y+i.height*3}),g<500&&l.push({x:i.x-a,y:i.y-i.height*3}),l},K=(i,h,l,a,d)=>d.some(x=>i<x.x+x.width&&i+l>x.x&&h<x.y+x.height&&h+a>x.y),z=async i=>{var l,a;const h=i;if(j)j(i);else if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(h).then(()=>{N(O(Ee[t],!1,3))},d=>{N(O(`${Se[t]}`,!0,3)),console.error("Failed to copy:",d)});else{const d=document.createElement("textarea");d.value=h,(l=y.current)==null||l.appendChild(d),d.focus(),d.select();try{document.execCommand("copy"),N(O(Ee[t],!1,3))}catch(x){console.error("Failed to copy:",x),N(O(`${Se[t]}`,!0,3))}(a=y.current)==null||a.removeChild(d)}};return n.useEffect(()=>{if(m.length===0){A([]);return}const i=[...m].sort((a,d)=>d.weight!==a.weight?d.weight-a.weight:a.text.length-d.text.length),h=[],l=[];i.forEach((a,d)=>{const x=a.weight,{width:w,height:_,ascent:R}=L(a,x);let D=!1;const P=30;let V=0;if(d===0){const $=(o-w)/2,F=(b+R-_)/2;h.push({x:$,y:F,width:w,height:_}),l.push(s.jsx("text",{x:$,y:F+R,fontSize:x,fontFamily:"Arial, sans-serif",fill:`hsl(${d*110%360}, 100%, ${f?"20":"70"}%)`,className:ee.word,style:{cursor:"pointer"},onClick:()=>{z(a.text)},tabIndex:0,onKeyDown:T=>{(T.key==="Enter"||T.key===" ")&&z(a.text)},"aria-label":c??`${we[t]}: ${a.text}`,children:a.text},a.text)),D=!0}for(;!D&&V<P;){for(let $=0;$<h.length&&!D;$++){const F=h[$],T=se(F,{width:w,height:_});for(let X of T){const u={x:X.x,y:X.y,width:w,height:_};if(!(u.x<0||u.y<0||u.x+u.width>o||u.y+u.height>b)&&!K(u.x,u.y,u.width,u.height,h)){h.push(u),l.push(s.jsx("text",{x:u.x,y:u.y+R,fontSize:x,fontFamily:"Arial, sans-serif",fill:`hsl(${d*110%360}, 100%, ${f?"20":"70"}%)`,style:{cursor:"pointer"},className:ee.word,onClick:()=>z(a.text),tabIndex:0,onKeyDown:Z=>{(Z.key==="Enter"||Z.key===" ")&&z(a.text)},"aria-label":c??`${we[t]}: ${a.text}`,children:a.text},a.text)),D=!0;break}}}V++}D||console.warn(`Could not place word after ${V} attempts:: ${a.text}`)}),A(l)},[m,o,b,t,f,N]),s.jsx("div",{ref:y,className:ee["cloud-wrap"],children:s.jsx("svg",{width:o,height:b,className:ee.cloud,children:J})})},Dt=()=>{const[t,c]=n.useState({visible:!1,x:0,y:0}),j=n.useCallback((o,b)=>{c({visible:!0,x:o,y:b})},[]),m=n.useCallback(()=>{c(o=>({...o,visible:!1}))},[]);return{tooltip:t,handleMouseMove:j,handleMouseLeave:m}},Ft=ue.map(t=>({text:t,weight:t==="design"?50:xe.includes(t)?Math.floor(Math.random()*10)+30:me.includes(t)?Math.floor(Math.random()*5)+15:Math.floor(Math.random()*10)+15})),It=ue.map(t=>({text:t,weight:t==="design"?33:xe.includes(t)?Math.floor(Math.random()*10)+16:me.includes(t)?Math.floor(Math.random()*5)+14:Math.floor(Math.random()*6)+15})),Ht=ue.map(t=>({text:t,weight:t==="design"?28:xe.includes(t)?Math.floor(Math.random()*10)+13:me.includes(t)?Math.floor(Math.random()*5)+14:Math.floor(Math.random()*5)+15})),zt=n.lazy(()=>Me(()=>import("./Image-GVpCEaN7.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]))),Vt=n.lazy(()=>Me(()=>import("./Video-B6mgJwGe.js"),__vite__mapDeps([21,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]))),Bt=({language:t})=>{const c=Ne(),{show:j}=Ze(),[m,o]=n.useState([]),[b,N]=n.useState(!1),[J,A]=n.useState(""),[f,g]=n.useState("imagination"),[y,te]=n.useState("photo"),[L,se]=n.useState("all"),[K,z]=n.useState(Y.All),[i,h]=n.useState("poem"),l=["all","photo","illustration","vector","video"],a=["all","film","animation"],d=["poem","quote"],x=[Y.All,Y.Horizontal,Y.Vertical],w=H(d,t),_=Object.values(We),R=Object.values(et),D=Object.values(tt),P=H(a,t),V=H(D,t),$=H(l,t),F=H(x.map(e=>e),t),T=H(_,t);T.unshift({label:q[t],value:""});const X=H(R,t),[u,Z]=n.useState(void 0),[G,ke]=n.useState([]),[B,Oe]=n.useState([]),[ie,Ae]=n.useState(!1),[ae,Le]=n.useState(!0),[re,Re]=n.useState("popular"),[U,qt]=n.useState(100),[E,I]=n.useState(1),[M,De]=n.useState(20),[S,fe]=n.useState(1),[Q,Fe]=n.useState(1),[Kt,Ie]=n.useState(0),[He,ze]=n.useState(!1),ye=n.useRef(!0),[v,ne]=n.useState(1),ve=[{label:"10",value:10},{label:"20",value:20},{label:"50",value:50},{label:"100",value:100}],{windowWidth:C}=Te(),{tooltip:ce,handleMouseMove:Ve,handleMouseLeave:Be}=Dt(),qe=e=>{const p=e.currentTarget.getBoundingClientRect(),Ye=e.clientX-p.left-50,Je=e.clientY-p.top+30;Ve(Ye,Je)},je=async e=>{N(!0),A("");const p=await Ot.searchMedia(t,e);p.success?(o(p.hits),Ie(p.totalHits),fe(Math.ceil(p.hits.length<M?1:p.hits.length/M)),Fe(Math.ceil(p.totalHits<U?1:p.totalHits/U)),oe("image-container")):(c(O(p.message||"Error fetching images.",!0,6)),A(p.message||"Error fetching images.")),N(!1)};n.useEffect(()=>{const e=G==null?void 0:G.map(p=>p.value);Oe(e)},[G]);const Ke=e=>{if(e.preventDefault(),f.trim()===""){c(O(W[t],!0,6)),A(W[t]);return}I(1),ze(!0);const p={q:f,type:y,video_type:L!=="all"?L:void 0,orientation:K,category:u,colors:B&&B.length>0?B:void 0,editors_choice:ie,safesearch:ae,order:re,per_page:U,page:v};je(p)};n.useEffect(()=>{if(ye.current){ye.current=!1;return}if(!He)return;if(f.trim()===""){c(O(W[t],!0,6)),A(W[t]);return}I(1),oe("image-container");const e={q:f,type:y,video_type:L!=="all"?L:void 0,orientation:K,category:u,colors:B&&B.length>0?B:void 0,editors_choice:ie,safesearch:ae,order:re,per_page:U,page:v};je(e)},[v]),n.useEffect(()=>{fe(Math.ceil(m.length<M?1:m.length/M))},[m,M]);const Ge=m.slice((E-1)*M,E*M),be=()=>m.length===0?s.jsx(s.Fragment,{}):S===1?s.jsx(s.Fragment,{}):s.jsxs("div",{className:r["pagination-wrap"],children:[s.jsxs("button",{className:"tooltip-wrap",disabled:E===1,onClick:()=>I(1),children:[s.jsx(Ct,{}),s.jsx("span",{className:"scr",children:_e[t]}),s.jsx("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:_e[t]})]}),s.jsxs("button",{className:"tooltip-wrap",onClick:()=>I(e=>Math.max(e-1,1)),disabled:E===1,children:[s.jsx(_t,{}),s.jsx("span",{className:"scr",children:le[t]}),s.jsx("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:le[t]})]}),s.jsxs("span",{children:[Ce[t]," ",E," / ",S]}),s.jsxs("button",{className:"tooltip-wrap",onClick:()=>I(e=>Math.min(e+1,S)),disabled:E===S,children:[s.jsx($t,{}),s.jsx("span",{className:"scr",children:he[t]}),s.jsx("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:he[t]})]}),s.jsxs("button",{className:"tooltip-wrap",disabled:E===S,onClick:()=>I(S),children:[s.jsx(Nt,{}),s.jsxs("span",{className:"scr",children:[$e[t]," (",S,")"]}),s.jsxs("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:[$e[t]," (",S,")"]})]})]}),Ue=Array.from({length:Q},(e,p)=>p+1).map((e,p)=>s.jsx(n.Fragment,{children:s.jsxs("button",{onClick:()=>{I(1),ne(e)},className:`tooltip-wrap ${r["fetch-page-button"]} ${e===v?r.active:""}`,"data-current":e===v?st[t]:"",disabled:p===v-1||e>Q,children:[e,s.jsxs("span",{className:"tooltip above narrow2",children:[Ce[t]," ",e]})]})},e)),ge=s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:r["batch-paragraph"],children:[it[t]," ",U," ",at[t],":"]}),s.jsxs("div",{id:`${r["fetch-btn-wrap"]}`,className:r["fetch-page-buttons-wrap"],children:[v!==1&&s.jsxs("button",{className:`reset ${r["fetch-more-btn"]}`,onClick:()=>ne(e=>e-1),children:["« ",le[t]]}),Ue,v!==Q&&s.jsxs("button",{className:`reset ${r["fetch-more-btn"]}`,onClick:()=>ne(e=>e+1),children:[he[t]," »"]}),E===S&&v>=Q&&s.jsx("p",{className:`${r["end-message"]}`,children:rt[t]})]})]}),Qe=e=>{g(e),oe("search-container","start"),c(O(`${wt[t]}: ${Et[t]}: ${e}`,!1,4))};return s.jsxs("div",{id:"search-container",className:r["search-container"],children:[s.jsx("section",{className:`card ${r["settings-section"]}`,children:s.jsxs("div",{children:[s.jsxs("div",{className:`tooltip-wrap ${r["wordcloud-wrap"]}`,onMouseMove:qe,onMouseLeave:Be,children:[s.jsx(Rt,{language:t,title:nt[t],onClick:Qe,words:C>700?Ft:C>500?It:Ht,width:C<300?C-20:C<600?C-80:C-C/100*30,height:C<300?900:C<500?800:500}),ce.visible&&s.jsx("span",{className:"tooltip narrow",style:{top:ce.y,left:ce.x,right:"unset"},children:ct[t]})]}),s.jsxs("form",{onSubmit:Ke,children:[s.jsxs("div",{className:r["search-wrap"],children:[s.jsx("h2",{children:de[t]}),s.jsxs("div",{className:r.column,children:[s.jsx("div",{className:`input-wrap ${r["input-wrap"]}`,children:s.jsxs("label",{children:[s.jsx("input",{name:"search",type:"text",maxLength:100,value:f,onChange:e=>g(e.target.value),placeholder:ot[t]}),s.jsx("span",{children:de[t]})]})}),y!=="video"&&s.jsx(k,{z:8,id:"colors",className:`${r.select} ${r.colors}`,multiple:!0,instructions:lt[t],value:G,onChange:e=>ke(e),options:X,language:t})]}),s.jsxs("div",{className:r["controls-wrap"],children:[s.jsx(k,{z:7,id:"result-type",className:`${r.select} ${r["result-type"]}`,hideDelete:!0,instructions:ht[t],value:$.find(e=>e.value===y)||{label:q[t],value:"all"},onChange:e=>te(e==null?void 0:e.value),options:$,language:t}),y==="video"?s.jsx(k,{z:6,id:"result-type",className:`${r.select} ${r["result-type"]}`,hideDelete:!0,instructions:dt[t],value:P.find(e=>e.value===L)||{label:q[t],value:"all"},onChange:e=>se(e==null?void 0:e.value),options:P,language:t}):s.jsx(k,{z:5,id:"orientation",className:`${r.select} ${r.orientation}`,instructions:pt[t],hideDelete:!0,value:F.find(e=>e.value===K)||{label:q[t],value:"all"},onChange:e=>z(e==null?void 0:e.value),options:F,language:t}),s.jsx(k,{z:4,id:"category",className:`${r.select} ${r.category}`,hideDelete:!0,instructions:ut[t],value:T.find(e=>e.value===u)||{label:q[t],value:""},onChange:e=>Z(e==null?void 0:e.value),options:T,language:t}),s.jsx(k,{z:3,id:"order-by",className:`${r.select} ${r["order-by"]}`,hideDelete:!0,instructions:xt[t],value:V.find(e=>e.value===re)||{label:"Popular",value:"popular"},onChange:e=>Re(e==null?void 0:e.value),options:V,language:t})]})]}),s.jsxs("div",{className:`${r["checkbox-wrap"]}`,children:[s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:ie,onChange:e=>Ae(e.target.checked)}),mt[t]," (Pixabay)"]}),s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:ae,onChange:e=>Le(e.target.checked)}),ft[t]]})]}),s.jsxs("div",{className:r["submit-wrap"],children:[s.jsx(k,{z:2,id:"text-type",className:`${r.select} ${r["text-type"]}`,hideDelete:!0,instructions:yt[t],value:w.find(e=>e.value===i)||{label:q[t],value:""},onChange:e=>h(e==null?void 0:e.value),options:w,language:t}),s.jsx(k,{z:1,id:"images-per-page",className:`${r.select} ${r["images-per-page"]}`,hideDelete:!0,instructions:vt[t],value:ve.find(e=>e.value===M)||{label:"20",value:20},onChange:e=>{De(Number(e==null?void 0:e.value))},options:ve,language:t}),s.jsx("button",{type:"submit",disabled:b,children:y==="video"?jt[t]:de[t]})]}),y==="vector"&&s.jsxs("p",{className:`textcenter flex center   ${r.note}`,children:[bt[t]," ",gt[t]]})]})]})}),m.length>0&&s.jsx("section",{className:`card ${r["image-section"]}`,children:s.jsxs("div",{children:[b&&s.jsxs("p",{className:"textcenter flex center margin0auto textcenter",children:[pe[t],"..."]}),J&&s.jsx("p",{className:r.error,children:J}),be(),s.jsx("div",{id:"image-container",className:r["image-container"],children:Ge.map(e=>s.jsx(n.Fragment,{children:"videos"in e?s.jsx(n.Suspense,{fallback:s.jsxs("div",{className:"flex center margin0auto textcenter",style:{width:"100%",height:"auto",aspectRatio:e.videos.small.width/e.videos.small.height},children:[pe[t],"..."]},`key-${e.id}`),children:s.jsx(Vt,{video:e,language:t,show:j,searchTerm:f,textType:i},e.id)}):s.jsx(n.Suspense,{fallback:s.jsxs("div",{className:"flex center margin0auto textcenter",style:{width:"100%",height:`${e.previewHeight}px`,aspectRatio:e.previewWidth/e.previewHeight},children:[pe[t],"..."]},`key-${e.id}`),children:s.jsx(zt,{image:e,language:t,show:j,searchTerm:f,textType:i},e.id)})},e.id))}),be(),E===1&&v>1&&ge,E===S&&v<=Q&&ge]})})]})},Pt=Object.freeze(Object.defineProperty({__proto__:null,default:Bt},Symbol.toStringTag,{value:"Module"}));export{Pt as I,Dt as u};
