import{a as g,j as e}from"./react-B6RMQhYh.js";import{A as te}from"./AdditionalInfo-CFYr476I.js";import{L as re,q as ne,l as ie,u as le,r as n,E,t as oe,A as ce,T as de,e as m,v as pe,w as ue}from"./index-DE35o7R3.js";import{c as he}from"./cart-C501ueEG.js";import{L}from"./react-router-dom-_ze6FMLH.js";import{B as me}from"./ButtonToggle-COA9CD3a.js";import{a as xe,v as je,R as ye}from"./react-icons-CHi_nPWV.js";import"./dom-to-image-more-sr33WCep.js";import"./react-dom-DKT7fI1i.js";import"./scheduler-C323NY8X.js";import"./react-redux-CQ4WY322.js";import"./hoist-non-react-statics-C-Qo8PK8.js";import"./react-is-BwqtTtay.js";import"./use-sync-external-store-w3cjJFH7.js";import"./@reduxjs-CJhiLCiq.js";import"./redux-BXkGT1VS.js";import"./immer-BGhKXxrG.js";import"./redux-thunk-ClJT1hhx.js";import"./axios-ngrFHoWO.js";import"./react-router-hVrguzn3.js";import"./@remix-run-CeDW-7A3.js";import"./react-helmet-async-BlGJtXmD.js";import"./react-fast-compare-BHbKlhN4.js";import"./invariant-B_pwkeTo.js";import"./shallowequal-C7ef0Lra.js";const fe="_light_uwfyl_1",we="_quantity_uwfyl_51",ge="_total_uwfyl_129",ve="_gdpr_uwfyl_231",Ce="_terms_uwfyl_233",be="_wrap_uwfyl_393",_e="_submit_uwfyl_461",t={light:fe,"cart-wrap":"_cart-wrap_uwfyl_5","addition-wrap":"_addition-wrap_uwfyl_41",quantity:we,"quantity-btn":"_quantity-btn_uwfyl_69","item-details":"_item-details_uwfyl_83","textarea-wrap":"_textarea-wrap_uwfyl_99","input-wrap":"_input-wrap_uwfyl_101",total:ge,"please-fill":"_please-fill_uwfyl_157","toggle-wrap":"_toggle-wrap_uwfyl_179","clear-btn-wrap":"_clear-btn-wrap_uwfyl_203","send-order-wrap":"_send-order-wrap_uwfyl_225",gdpr:ve,terms:Ce,"accordion-wrap":"_accordion-wrap_uwfyl_271","additional-info-wrap":"_additional-info-wrap_uwfyl_285","back-to-store":"_back-to-store_uwfyl_323","cart-form":"_cart-form_uwfyl_375",wrap:be,"more-info-wrap":"_more-info-wrap_uwfyl_439",submit:_e},Ue=({language:x,cart:j,addToCart:J,removeFromCart:C,editDetails:O,removeCart:k})=>{const{t:s}=g.useContext(re),b=ne(),H=ie(),u=le(),[A,_]=n("localStorageTotal",0),[i,F]=n("localStorageEmail",""),[l,T]=n("JCartName",""),[y,M]=n("JCartBusiness",!1),[v,z]=n("JCartCompanyName",""),[o,P]=n("JCartCountry",""),[c,D]=n("JCartAddress",""),[d,S]=n("JCartCity",""),[p,R]=n("JCartZip",""),[f,G]=n("JCartPhone",""),[w,K]=n("JCartBusinessID",""),[W,Q]=n("JCartDetails",{email:i,name:l,businessID:w,zip:p,city:d,address:c,country:o,phone:f}),[I,Z]=n("JCartExtra",""),[U,Y]=g.useState(!1),[V,X]=g.useState(!1),[ee,h]=g.useState(!1),N=5,B=10,ae=1,$=3;g.useEffect(()=>{Q({name:l,companyName:v,email:i,businessID:w,zip:p,city:d,address:c,country:o,phone:f})},[l,v,i,w,p,d,c,o,f]);const q=(a,r)=>{if(r<0&&a&&C(a==null?void 0:a.id),r>0)J(a);else return};return g.useEffect(()=>{_(j.reduce((a,r)=>a+r.price*r.quantity,0))},[j]),e.jsxs("div",{className:`${t["cart-wrap"]} ${H?t.light:""}`,children:[e.jsxs(L,{to:"/store",className:t["back-to-store"],children:[e.jsx("span",{"aria-hidden":!0,children:"«"})," ",e.jsx(xe,{})," ",e.jsx("strong",{children:s("BackToStore")})]}),x!==E.fi&&x!==E.en&&e.jsx("p",{children:s("PleaseNoteThatTheAuthorJenniinaLaineSpeaksOnlyEnglishAndFinnishSo")}),e.jsxs("form",{onSubmit:a=>{a.preventDefault(),h(!0),j.length<1&&(u(m(s("PleaseChooseAProduct"),!0,8)),h(!1)),U?V?y&&l&&l.trim()!==""&&v&&v.trim()!==""&&w&&w.trim()!==""&&i&&i.trim()!==""&&c&&c.trim()!==""&&p&&p.trim()!==""&&d&&d.trim()!==""&&o&&o.trim()!==""||!y&&l&&l.trim()!==""&&i&&i.trim()!==""&&c&&c.trim()!==""&&p&&p.trim()!==""&&d&&d.trim()!==""&&o&&o.trim()!==""?he.newOrder(x,{orderID:`${Math.ceil(ue(1e5,999999))}-${pe(2,!0)}`,info:W,total:A,extra:I,items:j}).then(r=>{r.success?(u(m(r.message,!1,10)),k(),_(0),h(!1)):(u(m(r.message,!1,10)),h(!1))}).catch(r=>{r.response&&r.response.data&&r.response.data.message?u(m(r.response.data.message,!0,8)):u(m(r.message,!0,8)),h(!1)}):(u(m(s("PleaseFillInTheFields"),!0,8)),h(!1)):(u(m(`${s("Remember")}: ${s("TermsOfService")}`,!0,8)),h(!1)):(u(m(`${s("Remember")}: ${s("GDPRConsent")}`,!0,8)),h(!1))},className:t["cart-form"],children:[j.map((a,r)=>e.jsxs("div",{className:t.wrap,children:[e.jsxs("h2",{children:[e.jsxs("span",{children:[r+1,". "]}),e.jsx("span",{children:a.name})]}),e.jsx("p",{children:oe(a.description)}),e.jsx(te,{type:a.id,language:x,styles:t,isOpen:!0,setIsFormOpen:()=>{},classNameWrap:t["additional-info-wrap"],text:s("Includes")}),e.jsxs("div",{className:`${t.quantity}`,children:[a.id!=="misc-quote"?e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",onClick:async()=>{if(a.quantity-1<1)if(await b({message:`${s("Remove")}: ${a.name}?`})){C(a.id);return}else return;q(a,-1)},className:`tooltip-wrap ${t["quantity-btn"]}`,children:[e.jsx("span",{className:"tooltip above space right narrow2",children:s("SubtractFromCart")}),e.jsx("span",{children:"-1"})]}),e.jsxs("span",{children:[s("Quantity"),": ",a.quantity]}),e.jsxs("button",{type:"button",onClick:()=>{q(a,1)},className:`tooltip-wrap ${t["quantity-btn"]}`,children:[e.jsx("span",{className:"tooltip above space right narrow2",children:s("AddToCart")}),e.jsx("span",{children:"+1"})]})]}):e.jsx("button",{type:"button",onClick:async()=>{if(a.quantity-1<1)if(await b({message:`${s("Remove")}: ${a.name}?`})){C(a.id);return}else return;q(a,-1)},children:e.jsx("span",{children:s("Remove")})}),a.quantity>=B?e.jsxs("span",{children:[s("Total"),": ",a.quantity+$," ",s("Hours")]}):a.quantity>=N?e.jsxs("span",{children:[s("Total"),": ",a.quantity+ae," ",s("Hours")]}):""]}),a.id!=="misc-quote"?e.jsx(e.Fragment,{children:e.jsxs("p",{children:[s("Price"),": ",a.price," € × ",a.quantity," ="," ",e.jsxs("b",{children:[a.price*a.quantity," €"]})]})}):e.jsxs("p",{children:[s("Price"),": ",a.price," €"," "]}),a.id.startsWith("misc")&&a.quantity>=N&&e.jsx("p",{children:e.jsxs("big",{children:[e.jsx(je,{})," ",e.jsx("span",{children:s("FreeHourUnlocked")})," ",a.quantity>=B?e.jsxs(e.Fragment,{children:[e.jsxs("strong",{children:[" × ",$," "]}),e.jsx("span",{children:"—"})," ",e.jsx("span",{children:s("SaveTheFollowingAmountOfMoney")}),e.jsxs("strong",{children:[" ",a.price*$," € "]})]}):a.quantity>=N?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:" —"})," ",e.jsx("span",{children:s("SaveTheFollowingAmountOfMoney")}),e.jsxs("strong",{children:[" ",a.price," € "]})]}):""]})}),e.jsx("div",{className:t["item-details"],children:e.jsx("div",{className:`${t["textarea-wrap"]} textarea-wrap`,children:e.jsxs("label",{htmlFor:`${a.id}-details`,children:[e.jsxs("span",{children:[s("RequestsAndNeeds"),":"]}),e.jsx("textarea",{rows:5,required:!0,id:`details-${a.id}`,name:`details-${a.id}`,placeholder:a.id.startsWith("misc")&&a.id!=="misc-quote"?s("AdditionalInformation"):s("RequestsIdeasAndLinksForInspiration"),onChange:se=>{O(a.id,se.target.value)}})]})})})]},`${a.id}-${r}`)),j.length>0?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:t.total,children:e.jsx("big",{children:e.jsxs("span",{children:[s("Total"),": ",A," €"," "]})})}),e.jsxs("div",{className:`${t["please-fill"]}`,children:[e.jsx("div",{className:`${t["toggle-wrap"]}`,children:e.jsx(me,{id:"business-toggle",className:`${t.toggle}`,name:"company",on:s("Yes"),off:s("No"),equal:!0,isChecked:y,handleToggleChange:()=>M(!y),label:`${s("CompanyOrAssociation")}: `})}),y?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"business-id",children:[e.jsx("input",{type:"text",name:"business-id",id:"business-id",required:!0,value:w,placeholder:s("BusinessID"),onChange:a=>K(a.target.value)}),e.jsxs("span",{children:[s("BusinessID"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"company-name",children:[e.jsx("input",{type:"text",id:"company-name",name:"company",required:!0,value:v,placeholder:`${s("CompanyName")}/${s("AssociationName")}`,onChange:a=>z(a.target.value)}),e.jsxs("span",{children:[s("Company"),"/",s("Association"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"name-cart",children:[e.jsx("input",{type:"text",id:"name-cart",name:"name",required:!0,value:l,placeholder:s("ContactPerson"),onChange:a=>T(a.target.value)}),e.jsxs("span",{children:[s("ContactPerson"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"email-cart",children:[e.jsx("input",{type:"email",name:"email",id:"email-cart",required:!0,value:i,placeholder:s("EmailAddress"),onChange:a=>F(a.target.value)}),e.jsxs("span",{children:[s("Email"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"address-cart",children:[e.jsx("input",{type:"text",id:"address-cart",name:"address",required:!0,value:c,placeholder:s("BillingAddress"),onChange:a=>D(a.target.value)}),e.jsxs("span",{children:[s("BillingAddress"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"zip-cart",children:[e.jsx("input",{type:"text",id:"zip-cart",name:"postal-code",required:!0,value:p,placeholder:s("PostalCode"),onChange:a=>R(a.target.value),onKeyDown:a=>{!/[0-9]/.test(a.key)&&a.key!=="Backspace"&&a.key!=="Delete"&&a.key!=="ArrowLeft"&&a.key!=="ArrowRight"&&a.key!=="Tab"&&a.preventDefault()}}),e.jsxs("span",{children:[s("PostalCode"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"city-cart",children:[e.jsx("input",{id:"city-cart",type:"text",name:"city",required:!0,value:d,placeholder:s("City"),onChange:a=>S(a.target.value)}),e.jsxs("span",{children:[s("City"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"country-cart",children:[e.jsx("input",{type:"text",id:"country-cart",name:"country",required:!0,value:o,placeholder:s("Country"),onChange:a=>P(a.target.value)}),e.jsxs("span",{children:[s("Country"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder not-required ${f&&f.trim()!==""?"filled":"not-filled"}`,children:e.jsxs("label",{htmlFor:"phone-cart",children:[e.jsx("input",{type:"text",id:"phone-cart",name:"phone",value:f,placeholder:s("Phone"),onChange:a=>G(a.target.value),onKeyDown:a=>{!/[0-9]/.test(a.key)&&a.key!=="Backspace"&&a.key!=="Delete"&&a.key!=="ArrowLeft"&&a.key!=="ArrowRight"&&a.key!=="Tab"&&a.key!==" "&&a.preventDefault()}}),e.jsxs("span",{children:[s("Phone")," (",s("Optional").toLowerCase(),"):"]})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"name-cart",children:[e.jsx("input",{type:"text",id:"name-cart",name:"name",required:!0,value:l,placeholder:s("PrivatePerson"),onChange:a=>T(a.target.value)}),e.jsxs("span",{children:[s("Name"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"email-cart",children:[e.jsx("input",{type:"email",name:"email",id:"email-cart",required:!0,value:i,placeholder:s("EmailAddress"),onChange:a=>F(a.target.value)}),e.jsxs("span",{children:[s("Email"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"address-cart",children:[e.jsx("input",{type:"text",id:"address-cart",name:"address",required:!0,value:c,placeholder:s("BillingAddress"),onChange:a=>D(a.target.value)}),e.jsxs("span",{children:[s("BillingAddress"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"zip-cart",children:[e.jsx("input",{type:"text",name:"postal-code",id:"zip-cart",required:!0,value:p,placeholder:s("PostalCode"),onChange:a=>R(a.target.value),onKeyDown:a=>{!/[0-9]/.test(a.key)&&a.key!=="Backspace"&&a.key!=="Delete"&&a.key!=="ArrowLeft"&&a.key!=="ArrowRight"&&a.key!=="Tab"&&a.preventDefault()}}),e.jsxs("span",{children:[s("PostalCode"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"city-cart",children:[e.jsx("input",{type:"text",id:"city-cart",name:"city",required:!0,value:d,placeholder:s("City"),onChange:a=>S(a.target.value)}),e.jsxs("span",{children:[s("City"),":"]})]})}),e.jsx("div",{className:`${t["input-wrap"]} input-wrap placeholder`,children:e.jsxs("label",{htmlFor:"country-cart",children:[e.jsx("input",{type:"text",id:"country-cart",name:"country",required:!0,value:o,placeholder:s("Country"),onChange:a=>P(a.target.value)}),e.jsxs("span",{children:[s("Country"),":"]})]})})]}),e.jsx("div",{className:`${t["textarea-wrap"]} textarea-wrap`,children:e.jsxs("label",{htmlFor:"extra",children:[e.jsxs("span",{children:[s("AdditionalInformation"),":"]}),e.jsx("textarea",{rows:5,id:"extra",value:I,placeholder:`${s("Clarifications")}${y?`, ${s("EG")} ${s("DesiredReference")}`:""}`,onChange:a=>Z(a.target.value)})]})})]}),e.jsxs("div",{className:`${t["send-order-wrap"]} flex center`,children:[e.jsx("div",{className:t.terms,children:e.jsxs("label",{children:[e.jsx("input",{id:"terms-cart",required:!0,type:"checkbox",name:"terms",onChange:a=>{X(a.target.checked)}}),e.jsxs("span",{children:[s("IAcceptThe")," ",e.jsx(L,{to:"/terms",children:s("TermsOfServiceLink")})]})]})}),e.jsx("div",{className:t.gdpr,children:e.jsxs("label",{className:"radio-checkbox",children:[e.jsx("input",{id:"gdpr-cart",required:!0,type:"checkbox",name:"gdpr",onChange:a=>{Y(a.target.checked)}}),e.jsx("span",{children:s("ItIsAlrightToSendTheEnteredInformationToJenniina")})]})}),e.jsxs("button",{className:t.submit,type:"submit",disabled:ee,children:[e.jsx("span",{children:s("SubmitOrder")})," ",e.jsx(ye,{})]}),e.jsx(ce,{className:"cart-accordion grayer",text:s("TermsRelatedToProducts"),language:x,wrapperClass:t["more-info-wrap"],children:e.jsx(de,{language:x})})]}),e.jsx("div",{className:`${t["clear-btn-wrap"]} flex center`,children:e.jsx("button",{type:"button",onClick:async()=>{await b({message:`${s("Remove")}: ${s("Cart")}?`})&&(k(),_(0))},className:"danger delete",children:s("ClearCart")})})]}):e.jsx(e.Fragment,{children:e.jsxs("p",{className:"flex center",children:["[ ",s("EmptyCart")," ]"]})})," "]})]})};export{Ue as default};
