const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ColorsInput-DZhVAfQh.js","assets/react-B26j9x-B.js","assets/dom-to-image-more-sr33WCep.js","assets/index-KrAkqBQ5.js","assets/react-dom-C5TvV5XQ.js","assets/scheduler-C323NY8X.js","assets/react-redux-EG6qnwNo.js","assets/hoist-non-react-statics-C-Qo8PK8.js","assets/react-is-BwqtTtay.js","assets/use-sync-external-store-BqPSEvA7.js","assets/@reduxjs-D09xkNSb.js","assets/immer-C0GRqQ_d.js","assets/redux-D9aXM7rm.js","assets/@babel-CYk816RD.js","assets/redux-thunk-CY0Q9z1Q.js","assets/axios-ngrFHoWO.js","assets/react-icons-Dr2CAAEL.js","assets/react-router-dom-Dghs3TPc.js","assets/react-router-vPOY4muN.js","assets/@remix-run-ox1qIyJK.js","assets/react-helmet-async-CnDSc5Ri.js","assets/react-fast-compare-BHbKlhN4.js","assets/invariant-B_pwkeTo.js","assets/shallowequal-C7ef0Lra.js","assets/index-DPWMNifH.css"])))=>i.map(i=>d[i]);
import{r as Ae,z as He,B as xe,C as Ve,D as pe,F as X,G as nt,L as at,q as it,u as ct,l as dt,H as mt,S as ut,I as ht,J,_ as gt,e as fe}from"./index-KrAkqBQ5.js";import{a as N,j as e}from"./react-B26j9x-B.js";import{w as pt,x as ft,L as Ge,y as At,z as We,D as ze,P as xt,E as Je,S as $t}from"./react-icons-Dr2CAAEL.js";import{u as bt}from"./react-router-dom-Dghs3TPc.js";const _t="_light_16lsh_35",Ct="_drag_16lsh_419",wt="_overflow_16lsh_433",Nt="_indicator_16lsh_541",yt="_tooltip_16lsh_541",jt="_form_16lsh_711",vt="_remove_16lsh_739",Rt="_inputs_16lsh_769",u={"color-container":"_color-container_16lsh_1",light:_t,"color-picker":"_color-picker_16lsh_53","circle-left-edge":"_circle-left-edge_16lsh_137","width-wrap":"_width-wrap_16lsh_197","btn-wrap":"_btn-wrap_16lsh_211","mode-container":"_mode-container_16lsh_229","export-wrap":"_export-wrap_16lsh_249","flat-left":"_flat-left_16lsh_297","info-wrap":"_info-wrap_16lsh_331","mode-btn":"_mode-btn_16lsh_379","color-blocks":"_color-blocks_16lsh_385",drag:Ct,overflow:wt,"block-wrap":"_block-wrap_16lsh_441","color-wrap":"_color-wrap_16lsh_459","color-block":"_color-block_16lsh_385","compliance-indicators":"_compliance-indicators_16lsh_519",indicator:Nt,tooltip:yt,"indicator-aaa":"_indicator-aaa_16lsh_571","indicator-null":"_indicator-null_16lsh_579","toggle-controls":"_toggle-controls_16lsh_595","color-edit-container":"_color-edit-container_16lsh_625","color-select":"_color-select_16lsh_627",form:jt,"color-format-submit":"_color-format-submit_16lsh_737",remove:vt,"color-name":"_color-name_16lsh_753",inputs:Rt,"hex-input":"_hex-input_16lsh_799"},Tt=(B,$)=>{const[F,oe]=N.useState(!1),[se,de]=N.useState(B),Z=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",k=N.useMemo(()=>$==null?void 0:$.map(h=>`${Z?"local-":""}DnD-${h}`),[$,Z]),ee=N.useCallback(()=>$==null?void 0:$.reduce((h,_,I)=>{const y=JSON.parse(localStorage.getItem(k[I])||"[]");return h[_]={items:y.length>0?y:B.filter(M=>M.status===_),setItems:M=>{localStorage.setItem(k[I],JSON.stringify(M)),Q(G=>({...G,[_]:{...G[_],items:M}}))},removeItems:()=>{localStorage.removeItem(k[I]),Q(M=>({...M,[_]:{...M[_],items:[]}}))}},h},{}),[$,k]),re=(h,_)=>JSON.stringify(h)===JSON.stringify(_),[d,Q]=N.useState(ee);N.useEffect(()=>{$.forEach((h,_)=>{var c;const I=((c=d[h])==null?void 0:c.items)||[],y=B.filter(t=>t.status===h),M=new Map(y.map(t=>[t.id,t])),G=I.map(t=>{const C=M.get(t.id);return C&&JSON.stringify(t)!==JSON.stringify(C)?C:t}).filter(t=>M.has(t.id)),a=new Set(I.map(t=>t.id)),g=y.filter(t=>!a.has(t.id)),A=[...G,...g];re(I,A)||d[h].setItems(A)}),$.forEach((h,_)=>{var y;const I=((y=d[h])==null?void 0:y.items)||[];localStorage.setItem(k[_],JSON.stringify(I))})},[B,$,k,re]),N.useEffect(()=>{de($.flatMap(h=>{var _;return((_=d[h])==null?void 0:_.items)||[]}))},[d]),N.useEffect(()=>{$.forEach((h,_)=>{var y;const I=((y=d[h])==null?void 0:y.items)||[];localStorage.setItem(k[_],JSON.stringify(I))})},[se,$,k,d]);const K=N.useCallback((h,_,I)=>{var A,c,t,C,w,W,z,P,V,i;const y=(A=Object.keys(d))==null?void 0:A.find(p=>{var b,U;return(U=(b=d==null?void 0:d[p])==null?void 0:b.items)==null?void 0:U.find(n=>(n==null?void 0:n.id)===h)});if(!y)return;const M=(t=(c=d==null?void 0:d[y])==null?void 0:c.items)==null?void 0:t.find(p=>(p==null?void 0:p.id)===h),G=(w=(C=d==null?void 0:d[_])==null?void 0:C.items)==null?void 0:w.findIndex(p=>(p==null?void 0:p.id)===I);if(!M)return;M.status=_;const a=(z=(W=d==null?void 0:d[y])==null?void 0:W.items)==null?void 0:z.filter(p=>p.id!==h);(P=d==null?void 0:d[y])==null||P.setItems(a);let g=[...(V=d==null?void 0:d[_])==null?void 0:V.items];return g=g.filter(p=>p.id!==M.id),g.splice(G>=0?G:g.length,0,M),(i=d==null?void 0:d[_])==null||i.setItems(g),Q(p=>({...p,[y]:{...p[y],items:a},[_]:{...p[_],items:g}})),g},[d,Q]),O=N.useCallback((h,_)=>{if(h===_)return;const I=$==null?void 0:$.indexOf(h);if(I===-1){console.error(`Old status "${h}" not found in statuses array`);return}const y=k[I],M=`${Z?"local-":""}DnD-${_}`,G=d[h].items.map(a=>({...a,status:_}));Q(a=>({...a,[h]:{...a[h],items:[]},[_]:{...a[_],items:G}})),localStorage.setItem(M,JSON.stringify(G)),localStorage.removeItem(y)},[d,k,$]);return{isDragging:F,listItemsByStatus:d,handleUpdate:K,handleRenameStatus:O,handleDragging:h=>oe(h)}},ne="colors",ue="hsl",he=[{id:1,color:"hsl(200, 50%, 10%)",luminance:.011540526030345211,status:ne,colorFormat:ue,compliantColors:{AAA_RegularText:[4,5],AA_UIComponents:[3,4,5],AA_RegularText:[3,4,5]}},{id:2,color:"hsl(200, 50%, 35%)",luminance:.12179747967530058,status:ne,colorFormat:ue,compliantColors:{AAA_RegularText:[],AA_UIComponents:[4,5],AA_RegularText:[5]}},{id:3,color:"hsl(200, 50%, 55%)",luminance:.3071249100459835,status:ne,colorFormat:ue,compliantColors:{AAA_RegularText:[],AA_UIComponents:[1],AA_RegularText:[1]}},{id:4,color:"hsl(200, 50%, 75%)",luminance:.5493970089199802,status:ne,colorFormat:ue,compliantColors:{AAA_RegularText:[1],AA_UIComponents:[1,2],AA_RegularText:[1]}},{id:5,color:"hsl(200, 50%, 90%)",luminance:.800081557105977,status:ne,colorFormat:ue,compliantColors:{AAA_RegularText:[1],AA_UIComponents:[1,2],AA_RegularText:[1,2]}}],St=B=>{const[$,F,oe]=Ae("Jenniina-colorsAccessibility",he);N.useEffect(()=>{const a=()=>{const c=new URL(window.location.href).searchParams.get("colors");if(c)try{const t=c.split("_").map(C=>{const w=C.split("-"),W=w[0];let z="";return W==="hsl"&&w.length===4?z=`hsl(${w[1]}, ${w[2]}%, ${w[3]}%)`:W==="rgb"&&w.length===4?z=`rgb(${w[1]}, ${w[2]}, ${w[3]})`:W==="hex"&&w.length===2&&(z=`#${w[1]}`),{type:W,color:z}});if(Array.isArray(t)){const C=t.map((W,z)=>{let P=W.type,V=W.color,i;if(P==="hex")i=xe(V);else if(P==="hsl"){const b=V.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(b){const U=Number(b[1]),n=Number(b[2]),we=Number(b[3]);i=X(U,n,we)}}else if(P==="rgb"){const b=V.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);b&&(i={r:Number(b[1]),g:Number(b[2]),b:Number(b[3])})}const p=i?pe(i.r,i.g,i.b):0;return{id:z+1,color:V,luminance:p,status:ne,colorFormat:P,compliantColors:{AA_RegularText:[],AAA_RegularText:[],AA_UIComponents:[]}}}),w=K(C);F(w)}}catch{}};a();const g=()=>{a()};return window.addEventListener("popstate",g),()=>{window.removeEventListener("popstate",g)}},[]);const[se,de]=Ae("Jenniina-currentColor","#7D7D7D"),[Z,k]=Ae("Jenniina-idCounter",he.length+1),[ee,re]=N.useState(B),[d,Q]=N.useState(!1),K=N.useCallback(a=>a.map(g=>{const A=s(g,a);return{...g,compliantColors:A}}),[]),O=N.useCallback(a=>{const g=a.map(c=>{if(c.colorFormat==="hsl"){const t=c.color.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(t)return`hsl-${t[1]}-${t[2]}-${t[3]}`}else if(c.colorFormat==="rgb"){const t=c.color.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);if(t)return`rgb-${t[1]}-${t[2]}-${t[3]}`}else if(c.colorFormat==="hex"&&c.color.startsWith("#"))return`hex-${c.color.slice(1)}`;return`${c.colorFormat}-${c.color}`}),A=new URL(window.location.href);A.searchParams.set("colors",g.join("_")),window.history.replaceState({},"",A.pathname+"?"+A.searchParams.toString()+A.hash)},[]),s=(a,g)=>{let A=[],c=[],t=[];return g.forEach(C=>{if(C.id===a.id)return;const w=He(a,C);w.isAAARegularTextCompliant&&A.push(C.id),w.isAARegularTextCompliant&&t.push(C.id),w.isAAUIComponentsCompliant&&c.push(C.id)}),{AAA_RegularText:Array.from(new Set(A)),AA_RegularText:Array.from(new Set(t)),AA_UIComponents:Array.from(new Set(c))}},h=N.useCallback(()=>{const{r:a,g,b:A}=xe(se),{h:c,s:t,l:C}=Ve(a,g,A),w=pe(a,g,A),W={id:Z,color:`hsl(${c}, ${t}%, ${C}%)`,luminance:w,status:"colors",colorFormat:"hsl",compliantColors:{AA_RegularText:[],AAA_RegularText:[],AA_UIComponents:[]}},z=[...$,W],P=K(z);F(P),O(P),k(V=>V+1)},[se,Z,K,F,O,k,$]),_=N.useCallback(a=>{const g=$.filter(c=>c.id!==a).map(c=>({...c,compliantColors:{AAA_RegularText:c.compliantColors.AAA_RegularText.filter(t=>t!==a),AA_RegularText:c.compliantColors.AA_RegularText.filter(t=>t!==a),AA_UIComponents:c.compliantColors.AA_UIComponents.filter(t=>t!==a)}})),A=K(g);F(A),O(A)},[$,K,F,O]),I=N.useCallback((a,g,A)=>{try{let c,t,C,w;if(A==="hsl"){const i=g.match(/^hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/i);if(!i)throw new Error("Invalid HSL format");const p=Number(i[1]),b=Number(i[2]),U=Number(i[3]);if(p<0||p>360||b<0||b>100||U<0||U>100)throw new Error("HSL values out of range");c=`hsl(${p}, ${b}%, ${U}%)`;const n=X(p,b,U);t=n.r,C=n.g,w=n.b}else if(A==="rgb"){const i=g.match(/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i);if(!i)throw new Error("Invalid RGB format");const p=Number(i[1]),b=Number(i[2]),U=Number(i[3]);if([p,b,U].some(n=>n<0||n>255))throw new Error("RGB values must be between 0 and 255");c=`rgb(${p}, ${b}, ${U})`,t=p,C=b,w=U}else if(A==="hex"){if(!/^#([0-9A-F]{3}){1,2}$/i.test(g))throw new Error("Invalid Hex format");c=g.toUpperCase();const i=xe(c);t=i.r,C=i.g,w=i.b}else throw new Error("Unsupported color format");const W=pe(t,C,w),z=$.map(i=>i.id===a?{...i,color:c,colorFormat:A,luminance:W,compliantColors:{AAA_RegularText:[],AA_RegularText:[],AA_UIComponents:[]}}:i),P=z.map(i=>{if(i.id===a)return i;const p=z.find(U=>U.id===a);if(!p)return i;const b=He(i,p);return{...i,compliantColors:{AAA_RegularText:b.isAAARegularTextCompliant?[...new Set([...i.compliantColors.AAA_RegularText,a])]:i.compliantColors.AAA_RegularText.filter(U=>U!==a),AA_RegularText:b.isAARegularTextCompliant?[...new Set([...i.compliantColors.AA_RegularText,a])]:i.compliantColors.AA_RegularText.filter(U=>U!==a),AA_UIComponents:b.isAAUIComponentsCompliant?[...new Set([...i.compliantColors.AA_UIComponents,a])]:i.compliantColors.AA_UIComponents.filter(U=>U!==a)}}}),V=P.find(i=>i.id===a);if(V){const i=s(V,P),p=P.map(b=>b.id===a?{...b,compliantColors:i}:b);F(p),O(p)}else F(P),O(P)}catch(c){console.error("Error updating color:",c)}},[$,F,K,O]),y=N.useCallback(()=>{oe(),F(he),O(he),k(he.length+1)},[oe,F,k,O]),M=N.useCallback(()=>{oe(),F([]),O([]),k(1)},[oe,F,k,O]),G=N.useCallback(()=>{const a=nt($,ee,d);let g=Z;const A=a.map(t=>{const C=X(t[0],t[1],t[2]),w=pe(C.r,C.g,C.b);return{id:g++,color:`hsl(${t[0]}, ${t[1]}%, ${t[2]}%)`,luminance:w,status:ne,colorFormat:"hsl",compliantColors:{AA_RegularText:[],AAA_RegularText:[],AA_UIComponents:[]}}});let c=[...$,...A];c=K(c),F(c),O(c),k(g),Q(!1)},[$,ee,d,K,F,O,k]);return N.useEffect(()=>{d&&$.length===0&&G()},[d,$]),{colors:$,setColors:F,setColorsReset:Q,addColor:h,removeColor:_,updateColor:I,resetColors:y,clearColors:M,currentColor:se,setCurrentColor:de,mode:ee,setMode:re,makeColorPalette:G,updateSearchParams:O}},It=N.lazy(()=>gt(()=>import("./ColorsInput-DZhVAfQh.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]))),Ce=ht(5);var Ye=(B=>(B.AA_RegularText="AA_RegularText",B.AAA_RegularText="AAA_RegularText",B.AA_UIComponents="AA_UIComponents",B))(Ye||{});const Y="colors",Ut=({language:B})=>{var Te,Se,Ie,Ue,ke,Me;const{colors:$,setColors:F,addColor:oe,removeColor:se,updateColor:de,currentColor:Z,setCurrentColor:k,resetColors:ee,clearColors:re,mode:d,setMode:Q,makeColorPalette:K,setColorsReset:O}=St("analogous"),{t:s}=N.useContext(at),h=it(),_=N.useMemo(()=>[Y],[]),I=ct(),y=dt(),M=mt(),[G,a]=bt({show:"true",name:"true",mode:"analogous"}),g=(G.get("show")||"true")==="true",A=(G.get("name")||"true")==="true",{isDragging:c,listItemsByStatus:t,handleDragging:C,handleUpdate:w}=Tt($,_),W=N.useRef(0),[z,P]=N.useState(0),[V,i]=N.useState(!1),p=8,[b,U]=Ae("Jenniina-color-block-width",p),n=`${b}em`,le={input:`${.8*(b/p)}em`},me=[{value:"analogous",label:s("Analogous")},{value:"complementary",label:s("Complementary")},{value:"monochromatic",label:s("Monochromatic")},{value:"triad",label:s("Triad")},{value:"tetrad",label:s("Tetrad")}],Ne=Math.floor(Math.random()*me.length),ye=G.get("mode")||me[Ne];N.useEffect(()=>{Q(ye)},[ye]);const Be=()=>{t[Y].removeItems(),O(!0),re()},Ke={AA_RegularText:({xPosition:r,yIndicator:f,blockWidth:v,indicatorSize:o,otherColor:R,blockColor:H,colorFormatBlock:T,colorFormatOther:x})=>{let j,m;if(T==="hex")j=H;else if(T==="rgb"){const l=H.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);j=l?J(Number(l[1]),Number(l[2]),Number(l[3])):"#000000"}else if(T==="hsl"){const l=H.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(l){const E=X(Number(l[1]),Number(l[2]),Number(l[3]));j=J(E.r,E.g,E.b)}else j="#000000"}else j="#000000";if(x==="hex")m=R;else if(x==="rgb"){const l=R.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);m=l?J(Number(l[1]),Number(l[2]),Number(l[3])):"#000000"}else if(x==="hsl"){const l=R.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(l){const E=X(Number(l[1]),Number(l[2]),Number(l[3]));m=J(E.r,E.g,E.b)}else m="#000000"}else m="#000000";return`
 <circle
  cx="${r+v/2}"
  cy="${f+o/2}"
  r="${o*.32}"
  fill="${j}"
  stroke="${m}"
  stroke-width="${o*.1}"
/>
`},AA_UIComponents:({xPosition:r,yIndicator:f,blockWidth:v,indicatorSize:o,otherColor:R,blockColor:H,colorFormatBlock:T,colorFormatOther:x})=>{let j,m;if(T==="hex")j=H;else if(T==="rgb"){const l=H.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);j=l?J(Number(l[1]),Number(l[2]),Number(l[3])):"#000000"}else if(T==="hsl"){const l=H.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(l){const E=X(Number(l[1]),Number(l[2]),Number(l[3]));j=J(E.r,E.g,E.b)}else j="#000000"}else j="#000000";if(x==="hex")m=R;else if(x==="rgb"){const l=R.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);m=l?J(Number(l[1]),Number(l[2]),Number(l[3])):"#000000"}else if(x==="hsl"){const l=R.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(l){const E=X(Number(l[1]),Number(l[2]),Number(l[3]));m=J(E.r,E.g,E.b)}else m="#000000"}else m="#000000";return`
    <rect
  x="${r+v/2-o*.2}"
  y="${f+o/2-o*.15}"
  width="${o*.3}"
  height="${o*.3}"
  fill="${j}"
  stroke="${m}"
  stroke-width="${o*.1}"
/>
`},AAA_RegularText:({xPosition:r,yIndicator:f,blockWidth:v,indicatorSize:o,otherColor:R,blockColor:H,colorFormatBlock:T,colorFormatOther:x})=>{let j;if(x==="hex")j=R;else if(x==="rgb"){const m=R.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);j=m?J(Number(m[1]),Number(m[2]),Number(m[3])):"#000000"}else if(x==="hsl"){const m=R.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(m){const l=X(Number(m[1]),Number(m[2]),Number(m[3]));j=J(l.r,l.g,l.b)}else j="#000000"}else j="#000000";return`
<circle
  cx="${r+v/2}"
  cy="${f+o/2}"
  r="${o/2}"
  fill="${j}"
  stroke="none"
/>
`}},je=()=>{var Le;const r=b*20,f=r,v=f/3,o=v/1.5,R=r/4,H=v/20,T=f/10,x=((Le=t[Y])==null?void 0:Le.items)||[],m=(x==null?void 0:x.length)*(v+o)-o+R*2,l=A?T+R:0,E=x.length*f,be=m+l*1.6,et=x==null?void 0:x.map((D,ae)=>{const ie=ae*f;let q;try{if(D.colorFormat==="hex")q=D.color;else if(D.colorFormat==="rgb"){const S=D.color.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);if(S)q=J(Number(S[1]),Number(S[2]),Number(S[3]));else throw new Error("Invalid RGB format")}else if(D.colorFormat==="hsl"){const S=D.color.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(S){const ce=X(Number(S[1]),Number(S[2]),Number(S[3]));q=J(ce.r,ce.g,ce.b)}else throw new Error("Invalid HSL format")}else q="#000000"}catch(S){console.error(S),I(fe(`${s("Error")}: ${S.message}`,!0,4)),q="#000000"}const te=`
        <rect
          x="${ie}"
          y="0"
          width="${f}"
          height="${m}"
          fill="${q}"
          stroke="none"
        />
      `,L=A?`
        <!-- Text Background -->
        <rect
          x="${ie}"
          y="${m-.5}"
          width="${f}"
          height="${l}"
          fill="${q}"
          stroke="none"
        />
        <!-- Color Text Label -->
        <text
          x="${ie+f/2}"
          y="${m+l/2+T/3}"
          font-size="${T}"
          font-family="Arial"
          text-anchor="middle"
          dominant-baseline="middle"
          fill="${D.luminance>.179?"#000000":"#FFFFFF"}"
          stroke="none"
        >
          ${D.color}
        </text>
      `:"";return`
        <g>
          <!-- Color Block -->
          ${te}
          <!-- Color Text Label -->
          ${L}
        </g>
      `}).join(""),tt=x==null?void 0:x.map((D,ae)=>{const q=R+ae*(v+o)+(v-H)/2;let te;if(D.colorFormat==="hex")te=D.color;else if(D.colorFormat==="rgb"){const L=D.color.match(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/i);te=L?J(Number(L[1]),Number(L[2]),Number(L[3])):"#000000"}else if(D.colorFormat==="hsl"){const L=D.color.match(/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/i);if(L){const S=X(Number(L[1]),Number(L[2]),Number(L[3]));te=J(S.r,S.g,S.b)}else te="#000000"}else te="#000000";return`
        <rect
          x="0"
          y="${q}"
          width="${E}"
          height="${H}"
          fill="${te}"
          stroke="none"
        />
      `}).join(""),ot=x==null?void 0:x.map((D,ae)=>{const ie=ae*f,q=L=>{var S,ce,Ee,Fe,Oe,Pe;return(ce=(S=D.compliantColors)==null?void 0:S.AAA_RegularText)!=null&&ce.includes(L)?"AAA_RegularText":(Fe=(Ee=D.compliantColors)==null?void 0:Ee.AA_RegularText)!=null&&Fe.includes(L)?"AA_RegularText":(Pe=(Oe=D.compliantColors)==null?void 0:Oe.AA_UIComponents)!=null&&Pe.includes(L)?"AA_UIComponents":null};return`
        <g>
          <!-- Compliance Indicators -->
          ${x==null?void 0:x.filter((L,S)=>S!==ae).map(L=>{const S=q(L.id);return S?Ke[S]({xPosition:ie,yIndicator:R+x.indexOf(L)*(v+o),blockWidth:f,indicatorSize:v,otherColor:L.color,blockColor:D.color,colorFormatBlock:D.colorFormat,colorFormatOther:L.colorFormat}):""}).join("")}
        </g>
      `}).join(""),_e=10,rt=E-_e,De=be-_e*1.5,ge="https://colors.jenniina.fi",st=`
      <a href="${ge}" target="_blank" rel="noopener noreferrer">
        <text
          x="${rt}"
          y="${De}"
          font-size="${T}"
          font-family="Arial"
          text-anchor="end"
          fill="#000000"
          stroke="none"
        >
          ${ge}
        </text>
      </a>
    `,lt=`
      <a href="${ge}" target="_blank" rel="noopener noreferrer">
        <text
          x="${_e}"
          y="${De}"
          font-size="${T}"
          font-family="Arial"
          text-anchor="start"
          fill="#FFFFFF"
          stroke="none"
        >
          ${ge}
        </text>
      </a>
    `;return{svgContent:`
    <svg xmlns="http://www.w3.org/2000/svg" width="${E}" height="${be}">
      <!-- Color Blocks -->
      <g>
        ${et}
      </g>
      <!-- Lines -->
      <g>
        ${tt}
      </g>
      <!-- Compliance Indicators -->
      <g>
        ${ot}
      </g>
      <!-- Source Link -->
      <g>
        ${lt}
      </g>
      <g>
        ${st}
      </g>
    </svg>
  `,svgWidth:E,svgHeight:be}},ve=()=>{const{svgContent:r}=je(),f=new Blob([r],{type:"image/svg+xml;charset=utf-8"}),v=URL.createObjectURL(f),o=document.createElement("a");o.href=v,o.download="color-blocks.svg",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(v),I(fe(s("ArtSaved"),!1,5))},Re=()=>{const{svgContent:r,svgWidth:f,svgHeight:v}=je(),o=new Image;o.width=f,o.height=v;const R=new Blob([r],{type:"image/svg+xml;charset=utf-8"}),H=URL.createObjectURL(R);o.onload=()=>{const T=document.createElement("canvas");T.width=f,T.height=v;const x=T.getContext("2d");x==null||x.drawImage(o,0,0);const j=T.toDataURL("image/png"),m=document.createElement("a");m.href=j,m.download="color-blocks.png",m.target="_blank",m.rel="noreferrer",document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(H),I(fe(s("ArtSaved"),!1,5))},o.onerror=T=>{console.error("Error loading SVG into image for PNG conversion:",T),URL.revokeObjectURL(H),I(fe(s("Error"),!0,4))},o.src=H},qe=(r,f)=>{r.dataTransfer.setData("text/plain",JSON.stringify({type:"item",id:f}))},Xe=(r,f)=>{r.preventDefault(),P(f),W.current=f},Qe=r=>{r.preventDefault(),C(!0)},Ze=r=>{const f=JSON.parse(r.dataTransfer.getData("text/plain"));f.type==="item"&&(w(f.id,Y,z),setTimeout(()=>{var v;F((v=t[Y])==null?void 0:v.items)},200),C(!1))};N.useEffect(()=>{var r,f;(!((r=t[Y])!=null&&r.items)||((f=t[Y])==null?void 0:f.items.length)<1)&&ee()},[]);const $e=.04;return e.jsxs("div",{id:u["color-container"],className:`fullwidth ${u["color-container"]} ${y?u.light:""}`,style:{"--font-size":le.input},children:[e.jsxs("div",{id:"info",className:u["info-wrap"],children:[e.jsx("h2",{children:s("SymbolMeanings")}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("div",{style:{display:"inline-block",backgroundColor:"var(--color-primary-20)",borderRadius:"50%",width:"2em",height:"2em"}}),e.jsx("span",{children:s("HighestAAAComplianceWithRegularText")})]}),e.jsxs("li",{children:[e.jsx("div",{style:{display:"inline-block",backgroundColor:"transparent",outline:"0.3em solid var(--color-primary-20)",outlineOffset:"-0.3em",borderRadius:"50%",width:"1.7em",height:"1.7em",margin:"0 0.2em 0 0.2em "}}),e.jsx("span",{children:s("MinimumAAComplianceWithRegularText")})]}),e.jsxs("li",{children:[e.jsx("div",{style:{display:"inline-block",backgroundColor:"transparent",outline:"0.3em solid var(--color-primary-20)",outlineOffset:"-0.26em",borderRadius:"0",width:"0.9em",height:"0.9em",margin:"0 0.65em 0 0.65em"}}),e.jsx("span",{children:s("AAACompliantWithUI")})]})]})]}),e.jsxs("div",{className:u["btn-wrap"],children:[y?e.jsx(e.Fragment,{children:e.jsxs("span",{children:[s("DarkMode"),":"]})}):e.jsx(e.Fragment,{children:e.jsxs("span",{children:[s("LightMode"),":"]})}),e.jsx("button",{onClick:M,className:`gray ${u["mode-btn"]}`,children:y?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"scr",children:s("DarkMode")}),e.jsx(pt,{})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"scr",children:s("LightMode")}),e.jsx(ft,{})," "]})})]}),e.jsxs("div",{id:"colorpicker",className:u["color-picker"],children:[e.jsxs("label",{htmlFor:"color-input",className:" ",children:[s("ColorPicker"),":"]}),e.jsx("input",{id:"color-input",type:"color",value:Z,onChange:r=>{k(r.target.value)}}),e.jsxs("button",{className:"gray",type:"button",onClick:oe,children:[e.jsx("span",{className:`transf ${u["circle-left-edge"]}`,children:" "}),s("AddAColor"),"  ",e.jsx(Ge,{})]})]}),e.jsx("div",{className:u["btn-wrap"],children:e.jsxs("div",{className:`${u["color-edit-container"]} ${u["mode-container"]}`,children:[e.jsx(ut,{options:me,value:{value:d,label:(Te=me.find(r=>r.value===d))==null?void 0:Te.label},onChange:r=>a(f=>(f.set("mode",(r==null?void 0:r.value)||me[Ne].value),f),{replace:!0,preventScrollReset:!0}),id:"color-mode",instructions:s("SelectColorModeForNewColors"),className:`${u["color-select"]}`,hideDelete:!0,tooltip:!0,y:"above narrow2",z:3}),e.jsxs("button",{className:`gray small tooltip-wrap ${u["flat-left"]}`,type:"button",onClick:K,children:[s("AddToColors"),"  ",e.jsx(Ge,{}),e.jsx("span",{className:"tooltip above narrow2",children:s("GeneratesColorsBasedOnLastColor")})]}),e.jsxs("button",{className:"gray small",type:"button",onClick:async()=>{(V===!0||await h({message:s("AreYouSureYouWantToClearAllColors")||""}))&&Be(),i(!0)},children:[s("ClearAndGenerateNew"),"  ",e.jsx(At,{})]})]})}),e.jsx("div",{id:"color-blocks",className:`${u["color-blocks"]} ${!A||!g?u.overflow:""} ${c?u.drag:""}`,children:(Se=t[Y])==null?void 0:Se.items.map(r=>{var f,v;return e.jsx("ul",{className:u["block-wrap"],onDrop:Ze,children:e.jsxs("li",{className:u["color-wrap"],title:`ID: ${r.id}`,"aria-label":`ID: ${r.id}`,style:{width:`${n}`,maxWidth:`${n}`},children:[e.jsx("ul",{children:e.jsx("li",{draggable:"true",onDragStart:o=>qe(o,r.id),onDragEnter:o=>Xe(o,r.id),onDragOver:o=>Qe(o),onDragEnd:()=>C(!1),"data-identity":r.id,className:u["color-block"],style:{"--color":r.color,backgroundColor:r.color,width:`${n}`,maxWidth:`${n}`,height:`calc(calc(${n} * 0.6) * ${(f=t[Y])==null?void 0:f.items.length})`},children:e.jsx("div",{className:u["compliance-indicators"],style:{gap:`calc(${n} / 4)`,"--width-full":`${n}`},children:(v=t[Y])==null?void 0:v.items.map(o=>{var H,T,x,j,m,l;if(o.id===r.id)return e.jsx("div",{className:`${u["indicator-null"]} ${u.indicator}`,style:{"--color":o.color,"--width":`calc(${n} / 3)`,"--left":`calc(calc(${n} / 3) * -1)`,backgroundColor:"transparent",width:`calc(${n} / 3)`,height:`calc(${n} / 3)`}},`none-${o.color}-${o.id}`);let R=null;return(T=(H=r.compliantColors)==null?void 0:H.AAA_RegularText)!=null&&T.includes(o.id)?R="AAA_RegularText":(j=(x=r.compliantColors)==null?void 0:x.AA_RegularText)!=null&&j.includes(o.id)?R="AA_RegularText":(l=(m=r.compliantColors)==null?void 0:m.AA_UIComponents)!=null&&l.includes(o.id)&&(R="AA_UIComponents"),R==="AAA_RegularText"?e.jsx("div",{tabIndex:0,className:`${u["indicator-aaa"]} ${u.indicator} tooltip-wrap`,style:{"--color":o.color,backgroundColor:o.color,"--left":`calc(calc(${n} / 3) * -1)`,width:`calc(${n} / 3)`,height:`calc(${n} / 3)`},children:e.jsx("span",{id:`span-${o.id}-${r.id}-${Ce}`,className:`tooltip below narrow3 ${u.tooltip}`,style:{fontSize:`clamp(0.7rem, ${le.input}, 0.9rem)`,"--tooltip-max-width":n},children:`${s("AAACompliantWithID")}: ${o.id}`})},`aaa-${o.color}-${o.id}`):R==="AA_RegularText"?e.jsx("div",{tabIndex:0,className:`${u["indicator-aa"]} ${u.indicator} tooltip-wrap`,style:{"--color":o.color,backgroundColor:r.color,outline:`calc(${n} * ${$e*1.1}) solid ${o.color}`,outlineOffset:`calc(${n} * -0.013)`,"--left":`calc(calc(${n} / 5) * -2)`,width:`calc(${n} / 5)`,height:`calc(${n} / 5)`,margin:`calc(${n} / 15)`,borderRadius:"50%"},children:e.jsx("span",{id:`span-${o.id}-${r.id}-${Ce}`,className:"tooltip below narrow3",style:{fontSize:`clamp(0.7rem, ${le.input}, 0.9rem)`,"--tooltip-max-width":n},children:`${s("AACompliantWithID")}: ${o.id}`})},`aa-${o.color}-${o.id}`):R==="AA_UIComponents"?e.jsx("div",{tabIndex:0,className:`${u["indicator-aa-ui"]} ${u.indicator} tooltip-wrap`,style:{"--color":o.color,"--left":`calc(calc(${n} / 7) * -3)`,backgroundColor:r.color,outline:`calc(${n} * ${$e}) solid ${o.color}`,outlineOffset:`calc(${n} * ${$e} * -1)`,width:`calc(${n} / 7)`,height:`calc(${n} / 7)`,margin:`calc(${n} / 10.5)`},children:e.jsx("span",{id:`span-ui-${o.id}-${r.id}-${Ce}`,className:`tooltip below narrow3 ${u.tooltip}`,style:{fontSize:`clamp(0.7rem, ${le.input}, 0.9rem)`,"--tooltip-max-width":n},children:`${s("AAGraphicElementCompliantWithID")}: ${o.id}`})},`aa-ui-${o.color}-${o.id}`):e.jsx("div",{"aria-hidden":"true",className:`${u["indicator-null"]} ${u.indicator}`,style:{"--color":o.color,backgroundColor:"transparent","--left":`calc(calc(${n} / 3) * -1)`,width:`calc(${n} / 3)`,height:`calc(${n} / 3)`}},`null-${o.color}-${o.id}`)})})})}),A&&e.jsx("div",{style:{backgroundColor:r.color,width:`${n}`,maxWidth:`${n}`,display:"flex",justifyContent:"center",alignItems:"center",padding:"0.5em 0.1em "},className:u["color-name"],children:e.jsx("span",{style:{color:r.luminance<.179?"white":"black",fontSize:`clamp(0.7rem, ${le.input}, 1.2rem)`,textAlign:"center"},children:r.color})}),g&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:u["color-edit-container"],children:e.jsx(N.Suspense,{fallback:e.jsxs("div",{className:"flex center margin0auto textcenter",children:[s("Loading"),"..."]}),children:e.jsx(It,{language:B,block:r,updateColor:de,width:n,hexToRGB:xe,rgbToHSL:Ve,rgbToHex:J,hslToRGB:X,fontSize:`clamp(0.75rem, ${le.input}, 1rem)`})})}),e.jsx("button",{className:`tooltip-wrap small delete danger gray ${u.remove}`,onClick:()=>se(r.id),style:{margin:"0.8em auto",width:"calc(100% - 4px)",minWidth:"calc(100% - 4px)",fontSize:`clamp(0.75rem, ${le.input}, 2rem)`},children:s("Remove")})]})]})},`${r.id}`)})}),e.jsx("div",{className:`${u["btn-wrap"]} ${u["export-wrap"]}`,children:((Ue=(Ie=t[Y])==null?void 0:Ie.items)==null?void 0:Ue.length)>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("button",{type:"button","aria-hidden":"true",title:s("Reset"),onClick:async()=>{($.length===0||await h({message:s("AreYouSureYouWantToResetAllColors")}))&&ee()},className:"reset p1",children:e.jsx(We,{fontSize:"1.8em"})}),e.jsxs("button",{className:"gray small",type:"button",onClick:async()=>{($.length===0||await h({message:s("AreYouSureYouWantToResetAllColors")}))&&ee()},children:[s("Reset"),"  ",e.jsx(We,{})]})]}),e.jsxs("div",{children:[e.jsx("button",{type:"button","aria-hidden":"true",title:s("Clear"),onClick:async()=>{await h({message:s("AreYouSureYouWantToClearAllColors")||""})&&(t[Y].removeItems(),re())},className:"reset p1",children:e.jsx(ze,{fontSize:"1.8em"})}),e.jsxs("button",{className:"gray small",type:"button",onClick:async()=>{await h({message:s("AreYouSureYouWantToClearAllColors")||""})&&(t[Y].removeItems(),re())},children:[s("Clear"),"  ",e.jsx(ze,{})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("button",{type:"button","aria-hidden":"true",title:s("SaveAsPNG"),onClick:Re,className:"reset p1",children:e.jsx(xt,{fontSize:"1.8em"})}),e.jsxs("button",{type:"button",onClick:Re,className:"gray small",children:[s("SaveAsPNG"),e.jsx(Je,{})]})]}),e.jsxs("div",{children:[e.jsx("button",{type:"button","aria-hidden":"true",title:s("SaveAsSVG"),onClick:ve,className:"reset p1",children:e.jsx($t,{fontSize:"1.6em"})}),e.jsxs("button",{type:"button",onClick:ve,className:"gray small",children:[s("SaveAsSVG"),e.jsx(Je,{})]})]})]})]})}),((Me=(ke=t[Y])==null?void 0:ke.items)==null?void 0:Me.length)>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:u["width-wrap"],children:[e.jsx("label",{htmlFor:"color-block-width",children:s("EditSize")}),e.jsx("input",{id:"color-block-width",type:"range",min:6,max:12,step:.5,value:b,onChange:r=>U(Number(r.target.value))})]}),e.jsxs("div",{className:`${u["toggle-controls"]}`,children:[e.jsxs("div",{children:[e.jsx("strong",{children:s("ToggleControlVisibility")}),e.jsx("button",{id:"toggle-controls",type:"button",onClick:()=>a(r=>(r.set("show",g?"false":"true"),r),{replace:!0,preventScrollReset:!0}),className:"gray small",children:s(g?"HideControls":"ShowControls")})]}),e.jsxs("div",{children:[e.jsx("strong",{children:s("ToggleColorNameVisibility")}),e.jsx("button",{type:"button",onClick:()=>a(r=>(r.set("name",A?"false":"true"),r),{replace:!0,preventScrollReset:!0}),className:"gray small",children:s(A?"HideColorName":"ShowColorName")})]})]})]})]})},Ft=Object.freeze(Object.defineProperty({__proto__:null,ComplianceLevel:Ye,default:Ut},Symbol.toStringTag,{value:"Module"}));export{Ft as A,u as s};
