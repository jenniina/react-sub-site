const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MessageForm-CJYoIY4M.js","assets/react-A9DAvxly.js","assets/hoist-non-react-statics-D5aJipOz.js","assets/FormWrapper-C3a1yUKf.js","assets/index-DdJzb_U7.js","assets/react-dom-CxfJ6lHP.js","assets/scheduler-CzFDRTuY.js","assets/react-redux-C4cSaZU-.js","assets/react-is-DUDD-a5e.js","assets/use-sync-external-store-DEc9BFqZ.js","assets/@reduxjs-DhFEcpJw.js","assets/immer-C0GRqQ_d.js","assets/redux-CE3tqztX.js","assets/@babel-DF5_wy6Y.js","assets/redux-thunk-CY0Q9z1Q.js","assets/axios-CCb-kr4I.js","assets/react-icons-yVutJqMS.js","assets/react-router-dom-j9Ns2JNj.js","assets/react-router-BoqxkIr7.js","assets/@remix-run-DTnHqtaE.js","assets/index-CfEGHDOJ.css","assets/ExtrasForm-B3YS6NeU.js","assets/InitialForm-DKm5xO9n.js"])))=>i.map(i=>d[i]);
import{_,u as z,q as d,bI as y,bJ as C,bK as J,bL as V,bM as W,bN as N,x as B,bO as Y,bP as $,bQ as v,J as q,bR as K}from"./index-DdJzb_U7.js";import{r as s,j as t}from"./react-A9DAvxly.js";import{R as Q}from"./react-icons-yVutJqMS.js";import{a as G}from"./axios-CCb-kr4I.js";function H(e){const[i,r]=s.useState(0);function m(){r(n=>n>=e.length-1?n:n+1)}function l(){r(n=>n<=0?n:n-1)}function u(n){r(n)}return{currentStepIndex:i,step:e[i],steps:e,isFirstStep:i===0,isLastStep:i===e.length-1,goTo:u,next:m,back:l}}const k={firstName:"",lastName:"",encouragement:"",color:"#FFFFFF",dark:"",light:"",email:"",message:"",gdpr:"",select:"",selectmulti:"",clarification:""},U="_wrapper_1exrd_1",X="_steps_1exrd_13",Z="_hiddenform_1exrd_25",g="_subfield_1exrd_67",ee="_btns_1exrd_151",te="_submit_1exrd_167",se="_dropdownsingle_1exrd_177",re="_dropdownmultiple_1exrd_179",o={wrapper:U,steps:X,hiddenform:Z,subfield:g,btns:ee,submit:te,dropdownsingle:se,dropdownmultiple:re},ne="http://localhost:4000",ie=async e=>(await G.post(`${ne}/api/send-email-form`,e)).data,T=s.lazy(()=>_(()=>import("./MessageForm-CJYoIY4M.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]))),oe=s.lazy(()=>_(()=>import("./ExtrasForm-B3YS6NeU.js"),__vite__mapDeps([21,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]))),w=s.lazy(()=>_(()=>import("./InitialForm-DKm5xO9n.js"),__vite__mapDeps([22,1,2,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,3])));function ae({language:e}){const i=s.useRef(),[r,m]=s.useState(k),[l,u]=s.useState(!1),n=z();function c(h){m(b=>({...b,...h}))}const{steps:I,currentStepIndex:M,step:L,isFirstStep:x,isLastStep:a,back:A,next:E,goTo:R}=H([t.jsx(s.Suspense,{fallback:t.jsxs("div",{className:"flex center margin0auto textcenter",children:[d[e],"..."]}),children:s.createElement(w,{...r,updateFields:c,key:"InitialForm",language:e})}),t.jsx(s.Suspense,{fallback:t.jsxs("div",{className:"flex center margin0auto textcenter",children:[d[e],"..."]}),children:s.createElement(T,{...r,updateFields:c,key:"MessageForm",language:e})}),t.jsx(s.Suspense,{fallback:t.jsxs("div",{className:"flex center margin0auto textcenter",children:[d[e],"..."]}),children:s.createElement(oe,{...r,updateFields:c,key:"ExtrasForm",language:e})})]);async function P(h){if(h.preventDefault(),!a)return E();if(i.current)try{u(!0),await ie(r).then(()=>{u(!1),R(0),m(k),j(!0),setTimeout(()=>{j(!1)},1e5),n(q(v[e],!1,8))})}catch(b){console.error("error",b),alert(K[e])}}function D(){x&&(r.firstName==null||r.firstName==""||r.lastName==null||r.lastName=="")?(p(!0),setTimeout(()=>{p(!1)},3e3)):!x&&!a&&(r.email==null||r.email.trim()==""||r.message==null||r.message.trim()=="")?(p(!0),setTimeout(()=>{p(!1)},3e3)):E()}const[S,p]=s.useState(!1),[O,j]=s.useState(!1),f=s.useRef(),F=s.useRef();return s.useEffect(()=>{if(!(f.current==null||F.current==null))return f.current.style.top="-2em",()=>{}},[S]),t.jsxs("div",{className:o.wrapper,children:[e!==y.Suomi&&e!==y.English&&t.jsx("p",{children:C[e]}),t.jsxs("form",{ref:i,onSubmit:P,"aria-labelledby":"steps",children:[t.jsxs("span",{id:"steps",className:o.steps,children:[J[e]," ",V[e]," ",t.jsxs("span",{children:[M+1," / ",I.length]})]}),t.jsx("div",{className:o.hiddenform,children:a?t.jsxs(t.Fragment,{children:[" ",t.jsx(s.Suspense,{fallback:t.jsxs("div",{className:"flex center margin0auto textcenter",children:[d[e],"..."]}),children:s.createElement(w,{...r,updateFields:c,language:e,key:"InitialForm2"})}),t.jsx(s.Suspense,{fallback:t.jsxs("div",{className:"flex center margin0auto textcenter",children:[d[e],"..."]}),children:s.createElement(T,{...r,updateFields:c,language:e,key:"MessageForm2"})})]}):""}),L,t.jsxs("div",{className:o.btns,style:{position:"relative"},children:[!x&&t.jsxs("button",{type:"button",onClick:A,children:[t.jsx("span",{"aria-hidden":"true",children:"«"})," ",W[e]]}),!a&&t.jsxs("button",{ref:F,type:"button",className:a?o.submit:o.next,onClick:D,children:[l?N[e]:B[e]," ",t.jsx("span",{"aria-hidden":"true",children:"»"})]}),a&&t.jsxs("button",{className:a?o.submit:o.next,type:"submit",disabled:l,children:[l?N[e]:Y[e]," ",t.jsx(Q,{})]}),S&&t.jsx("div",{ref:f,"aria-live":"assertive",style:{position:"absolute",fontWeight:"bold",color:"inherit",letterSpacing:"0.04em"},children:$[e]}),O&&t.jsx("div",{ref:f,"aria-live":"polite",style:{position:"absolute",top:"-1.4em",fontWeight:"bold",color:"inherit",letterSpacing:"0.04em"},children:v[e]})]})]})]})}const ue=Object.freeze(Object.defineProperty({__proto__:null,default:ae},Symbol.toStringTag,{value:"Module"}));export{ue as F,o as s};
