import{r as p,j as e}from"./react-A9DAvxly.js";import{K as S,cC as $,cD as k,cE as C,cF as _,ck as D,be as F,cz as P,W as r,bd as U,cq as R,cA as q,cB as A,bu as B,cr as T}from"./index-BM0FeXIF.js";import{s as m}from"./edit.module-Tb44_we2.js";import"./hoist-non-react-statics-D5aJipOz.js";import"./react-dom-CxfJ6lHP.js";import"./scheduler-CzFDRTuY.js";import"./react-redux-C4cSaZU-.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-DEc9BFqZ.js";import"./@reduxjs-DhFEcpJw.js";import"./immer-C0GRqQ_d.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./axios-CCb-kr4I.js";import"./react-icons-RHjzyHVQ.js";import"./react-router-dom-CYs6befe.js";import"./react-router-S1Hdk0kP.js";import"./@remix-run-DTnHqtaE.js";const ae=({user:s,language:a})=>{const i=S(),[c,b]=p.useState((s==null?void 0:s.name)||""),[l,h]=p.useState(""),[w,o]=p.useState(!1),y=async n=>{var f,x;n.preventDefault(),o(!0);try{const v={_id:s._id,name:c,passwordOld:l,language:a};s&&i(P(v)).then(t=>{t&&(t.success===!1?i(r(`${U[a]}: ${t.message}`,!0,5)):(i(r(`${t.message??R[a]}`,!1,5)),i(q(t.user)).then(()=>{i(A(s==null?void 0:s._id)).then(()=>i(B()))}),h(""))),o(!1)}).catch(t=>{var j,E,u,N;console.error(t),(E=(j=t.response)==null?void 0:j.data)!=null&&E.message?i(r(t.response.data.message,!0,8)):t.code==="ERR_BAD_REQUEST"&&((N=(u=t.response)==null?void 0:u.data)!=null&&N.message)?i(r(`${U[a]}: ${t.response.data.message}`,!0,5)):setTimeout(()=>{i(r(T[a],!0,5))},2e3),o(!1)})}catch(d){(x=(f=d.response)==null?void 0:f.data)!=null&&x.message?i(r(d.response.data.message,!0,8)):console.error("error",d),o(!1)}};return e.jsx(e.Fragment,{children:s?e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:$[a]}),e.jsxs("p",{className:m.p,children:[k[a],": ",e.jsx("strong",{children:s==null?void 0:s.name})]}),e.jsx("p",{className:`${m.p} ${m["p-last"]}`,children:C[a]}),e.jsxs("form",{onSubmit:y,className:m["edit-user"],children:[e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{children:[e.jsx("input",{required:!0,type:"text",name:"name",id:"name-edit",value:c,onChange:({target:n})=>b(n.value)}),e.jsx("span",{children:_[a]})]})}),e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{children:[e.jsx("input",{required:!0,type:"password",name:"old-password",id:"old-password-user",value:l,onChange:({target:n})=>h(n.value.trim())}),e.jsx("span",{children:D[a]})]})}),e.jsx("button",{type:"submit",disabled:w,children:F[a]})]})]}):e.jsx(e.Fragment,{})})};export{ae as default};
