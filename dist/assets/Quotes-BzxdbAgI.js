import{a as x}from"./axios-CCb-kr4I.js";import{t as C}from"./Images-DmhuR7je.js";import{r as h,j as a}from"./react-A9DAvxly.js";import{bp as b,bm as j}from"./AccessibleColors-CRBQVtI_.js";import{c as E}from"./Jokes-CqqEXrgz.js";const W=["amazing","art","best","cool","courage","design","dreams","funny","good","great","hope","humor","imagination","learning"],$=["death","fear","failure","jealousy","god","faith","anger","alone","marriage"],f=["age","alone","amazing","anger","architecture","art","attitude","beauty","best","birthday","business","car","change","communication","computers","cool","courage","dad","dating","death","design","dreams","education","environmental","equality","experience","failure","faith","family","famous","fear","fitness","food","forgiveness","freedom","friendship","funny","future","god","good","government","graduation","great","happiness","health","history","home","hope","humor","imagination","inspirational","intelligence","jealousy","knowledge","leadership","learning","legal","life","love","marriage","medical","mom","money","morning","movies","success"],p=()=>{const e=f[Math.floor(Math.random()*f.length)];return["death","fear","failure","jealousy","god","faith","anger","alone","marriage"].includes(e)?p():e},l={};for(const[e,o]of Object.entries(C))for(const[r,t]of Object.entries(o)){const s=t.toLowerCase();l[s]||(l[s]=[]),l[s].push(e)}const T="http://localhost:4000",w=`${T}/api/quotes`,v=e=>{const o=e.toLowerCase(),r=new Set;if(o.split(/\s+/).forEach(s=>{Object.entries(l).forEach(([n,c])=>{n.includes(s)&&c.forEach(d=>r.add(d))})}),r.size>0){const s=Array.from(r),n=Math.floor(Math.random()*s.length);return s[n]}return p()},I=async(e,o)=>{try{const r=v(o),t=await x.get(`${w}/${e}/${r}`);if(t.data.success&&t.data.quote)return t.data.quote[0];throw new Error(t.data.message||"Failed to fetch quote.")}catch(r){throw console.error("Error fetching quote:",r),r}},O=({quote:e,language:o,url:r,title:t})=>{const[s,n]=h.useState(!1),c=h.useRef(null),d=()=>{var u,g;const m=`"${e.quote}" - ${e.author}`;if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(m).then(()=>{n(!0),setTimeout(()=>n(!1),3e3)},i=>{console.error("Failed to copy:",i)});else{const i=document.createElement("textarea");i.value=m,(u=c.current)==null||u.appendChild(i),i.focus(),i.select();try{document.execCommand("copy"),n(!0),setTimeout(()=>n(!1),3e3)}catch(y){console.error("Failed to copy:",y)}(g=c.current)==null||g.removeChild(i)}};return e.quote===""?a.jsx(a.Fragment,{}):a.jsxs(a.Fragment,{children:[a.jsx("p",{ref:c,children:a.jsxs("i",{children:[a.jsxs("big",{style:{display:"inline-block",margin:"0 0 0.5em"},children:['"',e.quote,'"']}),"— ",e.author]})}),a.jsxs("div",{className:"flex gap",children:[a.jsxs("small",{style:{maxWidth:"max-content",margin:"0"},children:["[ ",E[o],": ",e.category," ]"]}),a.jsx("button",{className:"small",style:{maxWidth:"max-content",marginLeft:"1em"},onClick:d,children:s?b[o]:j[o]}),t&&a.jsx("small",{children:r?a.jsx("a",{href:r,target:"_blank",rel:"noreferrer",children:t}):a.jsx(a.Fragment,{children:t})})]})]})};export{O as Q,$ as S,f as V,W,I as g};
