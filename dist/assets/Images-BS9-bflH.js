const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Image-z1BcqqX-.js","assets/react-A9DAvxly.js","assets/hoist-non-react-statics-D5aJipOz.js","assets/index-Bhl207lb.js","assets/react-dom-yh0erWL-.js","assets/scheduler-CzFDRTuY.js","assets/react-redux-CHm9GgGE.js","assets/react-is-DUDD-a5e.js","assets/use-sync-external-store-DEc9BFqZ.js","assets/@reduxjs-DhFEcpJw.js","assets/immer-C0GRqQ_d.js","assets/redux-CE3tqztX.js","assets/@babel-DF5_wy6Y.js","assets/redux-thunk-CY0Q9z1Q.js","assets/axios-CCb-kr4I.js","assets/react-icons-CrVlm7qW.js","assets/react-router-dom-CYs6befe.js","assets/react-router-S1Hdk0kP.js","assets/@remix-run-DTnHqtaE.js","assets/index-DNejkYwN.css","assets/poems-CyKotpPB.js","assets/Video-BcnOOtgf.js"])))=>i.map(i=>d[i]);
import{gm as U,K as Ne,c$ as Je,ae as $e,gn as ge,W as A,go as we,gp as Se,gq as Xe,fl as Te,fW as Ze,gr as Pe,gs as We,gt as et,gu as B,gv as q,gw as P,eV as ce,gx as c,gy as tt,bK as Ce,gz as st,gA as at,bJ as oe,bL as le,gB as it,gC as rt,gD as nt,gE as he,gF as ct,S as I,gG as ot,gH as lt,gI as ht,gJ as dt,gK as pt,gL as ut,gM as xt,gN as mt,gO as ft,gP as yt,gQ as vt,gR as jt,gS as bt,gT as gt,ag as de,gU as pe,gV as ue,gW as xe,gX as Ee,gY as _e,gZ as wt,g_ as St}from"./index-Bhl207lb.js";import{r,j as s}from"./react-A9DAvxly.js";import{a as Ct}from"./axios-CCb-kr4I.js";import{P as Et,aY as _t,aZ as Nt,Q as $t}from"./react-icons-CrVlm7qW.js";const Tt="http://localhost:4000",Mt=`${Tt}/api/images`,kt=async(e,n)=>{var j,m;try{const o=new URLSearchParams;return o.append("q",n.q),n.type?o.append("image_type",n.type):o.append("image_type","all"),n.video_type&&o.append("video_type",n.video_type),n.orientation?o.append("orientation",n.orientation):o.append("orientation",U.All),n.category&&o.append("category",n.category),n.min_width!==void 0&&n.min_width>=0?o.append("min_width",n.min_width.toString()):o.append("min_width","0"),n.min_height!==void 0&&n.min_height>=0?o.append("min_height",n.min_height.toString()):o.append("min_height","0"),n.colors&&n.colors.length>0&&o.append("colors",n.colors.join(",")),o.append("editors_choice",n.editors_choice?"true":"false"),o.append("safesearch",n.safesearch?"true":"false"),n.order?o.append("order",n.order):o.append("order","popular"),o.append("per_page",n.per_page&&n.per_page>=3&&n.per_page<=200?n.per_page.toString():"200"),(await Ct.get(`${Mt}/${e}?${o.toString()}`)).data}catch(o){return console.error("Error fetching images:",o),{success:!1,message:((m=(j=o.response)==null?void 0:j.data)==null?void 0:m.message)||`Error fetching images. ${o.message}`,totalHits:0,hits:[]}}},Ot={searchMedia:kt},At="_cloud_1ami1_1",Lt="_word_1ami1_29",W={"cloud-wrap":"_cloud-wrap_1ami1_1",cloud:At,word:Lt},Rt=({language:e,title:n,onClick:j,words:m,width:o=600,height:b=400})=>{const $=Ne(),[Y,L]=r.useState([]),f=Je(),{windowWidth:g}=$e(),y=r.useRef(null),ee=(a,l)=>{const i=document.createElement("canvas").getContext("2d");if(i){i.font=`${l}px Arial`;const x=i.measureText(a).width+2,_=l*.65,N=l*.2,T=_+N;return{width:x,height:T,ascent:_,descent:N}}return{width:0,height:0,ascent:0,descent:0}},R=(a,l)=>{const{width:h,height:i,ascent:d}=ee(a.text,l);return{width:h,height:i,ascent:d}},te=(a,l)=>{const h=[],i=l.width*Xe(.2,.4),d=l.height*.2;return h.push({x:a.x+i,y:a.y-l.height}),h.push({x:a.x+i,y:a.y+a.height}),h.push({x:a.x+a.width,y:a.y+d}),h.push({x:a.x+a.width-i,y:a.y-l.height}),h.push({x:a.x+a.width-i,y:a.y+a.height}),h.push({x:a.x-l.width,y:a.y+d}),h.push({x:a.x-l.width,y:a.y+a.height}),g<500&&h.push({x:a.x-l.width,y:a.y-l.height}),g<500&&h.push({x:a.x-i,y:a.y+a.height*2}),g<500&&h.push({x:a.x-i,y:a.y-a.height*2}),g<500&&h.push({x:a.x+i,y:a.y+a.height*3}),g<500&&h.push({x:a.x+i,y:a.y-a.height*3}),g<500&&h.push({x:a.x-i,y:a.y+a.height*3}),g<500&&h.push({x:a.x-i,y:a.y-a.height*3}),h},K=(a,l,h,i,d)=>d.some(x=>a<x.x+x.width&&a+h>x.x&&l<x.y+x.height&&l+i>x.y),D=async a=>{var h,i;const l=a;if(j)j(a);else if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(l).then(()=>{$(A(we[e],!1,3))},d=>{$(A(`${Se[e]}`,!0,3)),console.error("Failed to copy:",d)});else{const d=document.createElement("textarea");d.value=l,(h=y.current)==null||h.appendChild(d),d.focus(),d.select();try{document.execCommand("copy"),$(A(we[e],!1,3))}catch(x){console.error("Failed to copy:",x),$(A(`${Se[e]}`,!0,3))}(i=y.current)==null||i.removeChild(d)}};return r.useEffect(()=>{if(m.length===0){L([]);return}const a=[...m].sort((i,d)=>d.weight!==i.weight?d.weight-i.weight:i.text.length-d.text.length),l=[],h=[];a.forEach((i,d)=>{const x=i.weight,{width:_,height:N,ascent:T}=R(i,x);let M=!1;const J=30;let H=0;if(d===0){const w=(o-_)/2,z=(b+T-N)/2;l.push({x:w,y:z,width:_,height:N}),h.push(s.jsx("text",{x:w,y:z+T,fontSize:x,fontFamily:"Arial, sans-serif",fill:`hsl(${d*110%360}, 100%, ${f?"20":"70"}%)`,className:W.word,style:{cursor:"pointer"},onClick:()=>{D(i.text)},tabIndex:0,onKeyDown:k=>{(k.key==="Enter"||k.key===" ")&&D(i.text)},"aria-label":n??`${ge[e]}: ${i.text}`,children:i.text},i.text)),M=!0}for(;!M&&H<J;){for(let w=0;w<l.length&&!M;w++){const z=l[w],k=te(z,{width:_,height:N});for(let X of k){const u={x:X.x,y:X.y,width:_,height:N};if(!(u.x<0||u.y<0||u.x+u.width>o||u.y+u.height>b)&&!K(u.x,u.y,u.width,u.height,l)){l.push(u),h.push(s.jsx("text",{x:u.x,y:u.y+T,fontSize:x,fontFamily:"Arial, sans-serif",fill:`hsl(${d*110%360}, 100%, ${f?"20":"70"}%)`,style:{cursor:"pointer"},className:W.word,onClick:()=>D(i.text),tabIndex:0,onKeyDown:Z=>{(Z.key==="Enter"||Z.key===" ")&&D(i.text)},"aria-label":n??`${ge[e]}: ${i.text}`,children:i.text},i.text)),M=!0;break}}}H++}M||console.warn(`Could not place word after ${H} attempts:: ${i.text}`)}),L(h)},[m,o,b,e,f,$]),s.jsx("div",{ref:y,className:W["cloud-wrap"],children:s.jsx("svg",{width:o,height:b,className:W.cloud,children:Y})})},Ft=()=>{const[e,n]=r.useState({visible:!1,x:0,y:0}),j=r.useCallback((o,b)=>{n({visible:!0,x:o,y:b})},[]),m=r.useCallback(()=>{n(o=>({...o,visible:!1}))},[]);return{tooltip:e,handleMouseMove:j,handleMouseLeave:m}};var Me=(e=>(e.en="Poem",e.es="Poema",e.fr="Poème",e.de="Gedicht",e.pt="Poema",e.cs="Báseň",e.fi="Runo",e))(Me||{});const It=pe.map(e=>({text:e,weight:e==="design"?50:ue.includes(e)?Math.floor(Math.random()*10)+30:xe.includes(e)?Math.floor(Math.random()*5)+15:Math.floor(Math.random()*10)+15})),Dt=pe.map(e=>({text:e,weight:e==="design"?33:ue.includes(e)?Math.floor(Math.random()*10)+16:xe.includes(e)?Math.floor(Math.random()*5)+14:Math.floor(Math.random()*6)+15})),Ht=pe.map(e=>({text:e,weight:e==="design"?28:ue.includes(e)?Math.floor(Math.random()*10)+13:xe.includes(e)?Math.floor(Math.random()*5)+14:Math.floor(Math.random()*5)+15})),zt=r.lazy(()=>Te(()=>import("./Image-z1BcqqX-.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]))),Vt=r.lazy(()=>Te(()=>import("./Video-BcnOOtgf.js"),__vite__mapDeps([21,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]))),Bt=({language:e})=>{const n=Ne(),{show:j}=Ze(),[m,o]=r.useState([]),[b,$]=r.useState(!1),[Y,L]=r.useState(""),[f,g]=r.useState("imagination"),[y,ee]=r.useState("photo"),[R,te]=r.useState("all"),[K,D]=r.useState(U.All),[a,l]=r.useState("all"),h=["all","photo","illustration","vector","video"],i=["all","film","animation"],d=[U.All,U.Horizontal,U.Vertical],x=Object.values(Pe),_=Object.values(We),N=Object.values(et),T=B(i,e),M=B(N,e),J=B(h,e),H=B(d.map(t=>t),e),w=B(x,e);w.unshift({label:q[e],value:""});const z=B(_,e),[k,X]=r.useState(void 0),[u,Z]=r.useState([]),[V,ke]=r.useState([]),[se,Oe]=r.useState(!1),[ae,Ae]=r.useState(!0),[ie,Le]=r.useState("popular"),[G,qt]=r.useState(100),[S,F]=r.useState(1),[O,Re]=r.useState(20),[C,me]=r.useState(1),[Q,Fe]=r.useState(1),[Kt,Ie]=r.useState(0),[De,He]=r.useState(!1),fe=r.useRef(!0),[v,re]=r.useState(1),ye=[{label:"10",value:10},{label:"20",value:20},{label:"50",value:50},{label:"100",value:100}],{windowWidth:E}=$e(),{tooltip:ne,handleMouseMove:ze,handleMouseLeave:Ve}=Ft(),Be=t=>{const p=t.currentTarget.getBoundingClientRect(),Ue=t.clientX-p.left-50,Ye=t.clientY-p.top+30;ze(Ue,Ye)},ve=async t=>{$(!0),L("");const p=await Ot.searchMedia(e,t);p.success?(o(p.hits),Ie(p.totalHits),me(Math.ceil(p.hits.length<O?1:p.hits.length/O)),Fe(Math.ceil(p.totalHits<G?1:p.totalHits/G)),ce("image-container")):(n(A(p.message||"Error fetching images.",!0,6)),L(p.message||"Error fetching images.")),$(!1)};r.useEffect(()=>{const t=u==null?void 0:u.map(p=>p.value);ke(t)},[u]);const qe=t=>{if(t.preventDefault(),f.trim()===""){n(A(P[e],!0,6)),L(P[e]);return}F(1),He(!0);const p={q:f,type:y,video_type:R!=="all"?R:void 0,orientation:K,category:k,colors:V&&V.length>0?V:void 0,editors_choice:se,safesearch:ae,order:ie,per_page:G,page:v};ve(p)};r.useEffect(()=>{if(fe.current){fe.current=!1;return}if(!De)return;if(f.trim()===""){n(A(P[e],!0,6)),L(P[e]);return}F(1),ce("image-container");const t={q:f,type:y,video_type:R!=="all"?R:void 0,orientation:K,category:k,colors:V&&V.length>0?V:void 0,editors_choice:se,safesearch:ae,order:ie,per_page:G,page:v};ve(t)},[v]),r.useEffect(()=>{me(Math.ceil(m.length<O?1:m.length/O))},[m,O]);const Ke=m.slice((S-1)*O,S*O),je=()=>m.length===0?s.jsx(s.Fragment,{}):C===1?s.jsx(s.Fragment,{}):s.jsxs("div",{className:c["pagination-wrap"],children:[s.jsxs("button",{className:"tooltip-wrap",disabled:S===1,onClick:()=>F(1),children:[s.jsx(Et,{}),s.jsx("span",{className:"scr",children:Ee[e]}),s.jsx("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:Ee[e]})]}),s.jsxs("button",{className:"tooltip-wrap",onClick:()=>F(t=>Math.max(t-1,1)),disabled:S===1,children:[s.jsx(_t,{}),s.jsx("span",{className:"scr",children:oe[e]}),s.jsx("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:oe[e]})]}),s.jsxs("span",{children:[Ce[e]," ",S," / ",C]}),s.jsxs("button",{className:"tooltip-wrap",onClick:()=>F(t=>Math.min(t+1,C)),disabled:S===C,children:[s.jsx(Nt,{}),s.jsx("span",{className:"scr",children:le[e]}),s.jsx("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:le[e]})]}),s.jsxs("button",{className:"tooltip-wrap",disabled:S===C,onClick:()=>F(C),children:[s.jsx($t,{}),s.jsxs("span",{className:"scr",children:[_e[e]," (",C,")"]}),s.jsxs("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:[_e[e]," (",C,")"]})]})]}),Ge=Array.from({length:Q},(t,p)=>p+1).map((t,p)=>s.jsx(r.Fragment,{children:s.jsxs("button",{onClick:()=>{F(1),re(t)},className:`tooltip-wrap ${c["fetch-page-button"]} ${t===v?c.active:""}`,"data-current":t===v?tt[e]:"",disabled:p===v-1||t>Q,children:[t,s.jsxs("span",{className:"tooltip above narrow2",children:[Ce[e]," ",t]})]})},t)),be=s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:c["batch-paragraph"],children:[st[e]," ",G," ",at[e],":"]}),s.jsxs("div",{id:`${c["fetch-btn-wrap"]}`,className:c["fetch-page-buttons-wrap"],children:[v!==1&&s.jsxs("button",{className:`reset ${c["fetch-more-btn"]}`,onClick:()=>re(t=>t-1),children:["« ",oe[e]]}),Ge,v!==Q&&s.jsxs("button",{className:`reset ${c["fetch-more-btn"]}`,onClick:()=>re(t=>t+1),children:[le[e]," »"]}),S===C&&v>=Q&&s.jsx("p",{className:`${c["end-message"]}`,children:it[e]})]})]}),Qe=t=>{g(t),ce("search-container","start"),n(A(`${wt[e]}: ${St[e]}: ${t}`,!1,4))};return s.jsxs("div",{id:"search-container",className:c["search-container"],children:[s.jsx("section",{className:`card ${c["settings-section"]}`,children:s.jsxs("div",{children:[s.jsxs("div",{className:`tooltip-wrap ${c["wordcloud-wrap"]}`,onMouseMove:Be,onMouseLeave:Ve,children:[s.jsx(Rt,{language:e,title:rt[e],onClick:Qe,words:E>700?It:E>500?Dt:Ht,width:E<300?E-20:E<600?E-80:E-E/100*30,height:E<300?900:E<500?800:500}),ne.visible&&s.jsx("span",{className:"tooltip narrow",style:{top:ne.y,left:ne.x,right:"unset"},children:nt[e]})]}),s.jsxs("form",{onSubmit:qe,children:[s.jsxs("div",{className:c["search-wrap"],children:[s.jsx("h2",{children:he[e]}),s.jsxs("div",{className:c.column,children:[s.jsx("div",{className:`input-wrap ${c["input-wrap"]}`,children:s.jsxs("label",{children:[s.jsx("input",{name:"search",type:"text",maxLength:100,value:f,onChange:t=>g(t.target.value),placeholder:ct[e]}),s.jsx("span",{children:he[e]})]})}),y!=="video"&&s.jsx(I,{z:7,id:"colors",className:`${c.select} ${c.colors}`,multiple:!0,instructions:ot[e],value:u,onChange:t=>Z(t),options:z,language:e})]}),s.jsxs("div",{className:c["controls-wrap"],children:[s.jsx(I,{z:6,id:"result-type",className:`${c.select} ${c["result-type"]}`,hideDelete:!0,instructions:lt[e],value:J.find(t=>t.value===y)||{label:q[e],value:"all"},onChange:t=>ee(t==null?void 0:t.value),options:J,language:e}),y==="video"?s.jsx(I,{z:6,id:"result-type",className:`${c.select} ${c["result-type"]}`,hideDelete:!0,instructions:ht[e],value:T.find(t=>t.value===R)||{label:q[e],value:"all"},onChange:t=>te(t==null?void 0:t.value),options:T,language:e}):s.jsx(I,{z:5,id:"orientation",className:`${c.select} ${c.orientation}`,instructions:dt[e],hideDelete:!0,value:H.find(t=>t.value===K)||{label:q[e],value:"all"},onChange:t=>D(t==null?void 0:t.value),options:H,language:e}),s.jsx(I,{z:4,id:"category",className:`${c.select} ${c.category}`,hideDelete:!0,instructions:pt[e],value:w.find(t=>t.value===k)||{label:q[e],value:""},onChange:t=>X(t==null?void 0:t.value),options:w,language:e}),s.jsx(I,{z:2,id:"order-by",className:`${c.select} ${c["order-by"]}`,hideDelete:!0,instructions:ut[e],value:M.find(t=>t.value===ie)||{label:"Popular",value:"popular"},onChange:t=>Le(t==null?void 0:t.value),options:M,language:e})]})]}),s.jsxs("div",{className:`${c["checkbox-wrap"]}`,children:[s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:se,onChange:t=>Oe(t.target.checked)}),xt[e]," (Pixabay)"]}),s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:ae,onChange:t=>Ae(t.target.checked)}),mt[e]]})]}),s.jsxs("div",{className:`${c["radio-wrap"]}`,children:[" ",s.jsxs("span",{className:"dblock textcenter margin0auto",children:[ft[e],":"]}),s.jsxs("label",{children:[s.jsx("input",{type:"radio",name:"textType",value:"all",checked:a==="all",onChange:()=>l("all")}),s.jsx("span",{children:q[e]})]}),s.jsxs("label",{children:[s.jsx("input",{type:"radio",name:"textType",value:"quote",checked:a==="quote",onChange:()=>l("quote")}),s.jsx("span",{children:yt[e]})]}),s.jsxs("label",{children:[s.jsx("input",{type:"radio",name:"textType",value:"poem",checked:a==="poem",onChange:()=>l("poem")}),s.jsx("span",{children:Me[e]})]})]}),s.jsxs("div",{className:c["submit-wrap"],children:[s.jsx(I,{z:1,id:"images-per-page",className:`${c.select} ${c["images-per-page"]}`,hideDelete:!0,instructions:vt[e],value:ye.find(t=>t.value===O)||{label:"20",value:20},onChange:t=>{Re(Number(t==null?void 0:t.value))},options:ye,language:e}),s.jsx("button",{type:"submit",disabled:b,children:y==="video"?jt[e]:he[e]})]}),y==="vector"&&s.jsxs("p",{className:`textcenter flex center   ${c.note}`,children:[bt[e]," ",gt[e]]})]})]})}),m.length>0&&s.jsx("section",{className:`card ${c["image-section"]}`,children:s.jsxs("div",{children:[b&&s.jsxs("p",{className:"textcenter flex center margin0auto textcenter",children:[de[e],"..."]}),Y&&s.jsx("p",{className:c.error,children:Y}),je(),s.jsx("div",{id:"image-container",className:c["image-container"],children:Ke.map(t=>s.jsx(r.Fragment,{children:"videos"in t?s.jsx(r.Suspense,{fallback:s.jsxs("div",{className:"flex center margin0auto textcenter",style:{width:"100%",height:"auto",aspectRatio:t.videos.small.width/t.videos.small.height},children:[de[e],"..."]},`key-${t.id}`),children:s.jsx(Vt,{video:t,language:e,show:j,searchTerm:f,textType:a},t.id)}):s.jsx(r.Suspense,{fallback:s.jsxs("div",{className:"flex center margin0auto textcenter",style:{width:"100%",height:`${t.previewHeight}px`,aspectRatio:t.previewWidth/t.previewHeight},children:[de[e],"..."]},`key-${t.id}`),children:s.jsx(zt,{image:t,language:e,show:j,searchTerm:f,textType:a},t.id)})},t.id))}),je(),S===1&&v>1&&be,S===C&&v<=Q&&be]})})]})},Xt=Object.freeze(Object.defineProperty({__proto__:null,default:Bt},Symbol.toStringTag,{value:"Module"}));export{Xt as I,Ft as u};
