const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Image-1cYjn-b7.js","assets/react-A9DAvxly.js","assets/hoist-non-react-statics-D5aJipOz.js","assets/index-BQcww9yM.js","assets/react-dom-CxfJ6lHP.js","assets/scheduler-CzFDRTuY.js","assets/react-redux-C4cSaZU-.js","assets/react-is-DUDD-a5e.js","assets/use-sync-external-store-DEc9BFqZ.js","assets/@reduxjs-DhFEcpJw.js","assets/immer-C0GRqQ_d.js","assets/redux-CE3tqztX.js","assets/@babel-DF5_wy6Y.js","assets/redux-thunk-CY0Q9z1Q.js","assets/axios-CCb-kr4I.js","assets/react-icons-jnmi4x7s.js","assets/react-router-dom-CYs6befe.js","assets/react-router-S1Hdk0kP.js","assets/@remix-run-DTnHqtaE.js","assets/index-DNIztT8J.css","assets/poems-CdeIWlec.js","assets/Video-C_DZFvWK.js"])))=>i.map(i=>d[i]);
import{gK as Y,K as $e,bR as Je,ae as Ne,gL as we,W as R,gM as Se,gN as Ce,gO as Ze,fK as Te,gi as Pe,gP as We,gQ as et,gR as tt,gS as st,gT as q,gU as G,gV as P,fi as ce,gW as r,gX as it,bK as Ee,gY as at,gZ as rt,bJ as oe,bL as he,g_ as nt,g$ as ct,h0 as ot,h1 as le,h2 as ht,S as A,h3 as lt,h4 as dt,h5 as pt,h6 as ut,c7 as xt,h7 as mt,h8 as ft,h9 as yt,ha as vt,hb as bt,hc as jt,cq as wt,hd as St,ag as de,he as pe,hf as ue,hg as xe,hh as ge,hi as _e,cw as Ct,hj as Et}from"./index-BQcww9yM.js";import{r as n,j as s}from"./react-A9DAvxly.js";import{a as gt}from"./axios-CCb-kr4I.js";import{P as _t,b6 as $t,b7 as Nt,Q as Tt}from"./react-icons-jnmi4x7s.js";const Mt="http://localhost:4000",kt=`${Mt}/api/images`,Ot=async(e,c)=>{var b,x;try{const o=new URLSearchParams;return o.append("q",c.q),c.type?o.append("image_type",c.type):o.append("image_type","all"),c.video_type&&o.append("video_type",c.video_type),c.orientation?o.append("orientation",c.orientation):o.append("orientation",Y.All),c.category&&o.append("category",c.category),c.min_width!==void 0&&c.min_width>=0?o.append("min_width",c.min_width.toString()):o.append("min_width","0"),c.min_height!==void 0&&c.min_height>=0?o.append("min_height",c.min_height.toString()):o.append("min_height","0"),c.colors&&c.colors.length>0&&o.append("colors",c.colors.join(",")),o.append("editors_choice",c.editors_choice?"true":"false"),o.append("safesearch",c.safesearch?"true":"false"),c.order?o.append("order",c.order):o.append("order","popular"),o.append("per_page",c.per_page&&c.per_page>=3&&c.per_page<=200?c.per_page.toString():"200"),(await gt.get(`${kt}/${e}?${o.toString()}`)).data}catch(o){return console.error("Error fetching images:",o),{success:!1,message:((x=(b=o.response)==null?void 0:b.data)==null?void 0:x.message)||`Error fetching images. ${o.message}`,totalHits:0,hits:[]}}},At={searchMedia:Ot},Rt="_cloud_1ami1_1",Lt="_word_1ami1_29",W={"cloud-wrap":"_cloud-wrap_1ami1_1",cloud:Rt,word:Lt},Dt=({language:e,title:c,onClick:b,words:x,width:o=600,height:j=400})=>{const N=$e(),[J,L]=n.useState([]),f=Je(),{windowWidth:w}=Ne(),y=n.useRef(null),ee=(i,l)=>{const a=document.createElement("canvas").getContext("2d");if(a){a.font=`${l}px Arial`;const u=a.measureText(i).width+2,g=l*.65,_=l*.2,F=g+_;return{width:u,height:F,ascent:g,descent:_}}return{width:0,height:0,ascent:0,descent:0}},D=(i,l)=>{const{width:h,height:a,ascent:d}=ee(i.text,l);return{width:h,height:a,ascent:d}},te=(i,l)=>{const h=[],a=l.width*Ze(.2,.4),d=l.height*.2;return h.push({x:i.x+a,y:i.y-l.height}),h.push({x:i.x+a,y:i.y+i.height}),h.push({x:i.x+i.width,y:i.y+d}),h.push({x:i.x+i.width-a,y:i.y-l.height}),h.push({x:i.x+i.width-a,y:i.y+i.height}),h.push({x:i.x-l.width,y:i.y+d}),h.push({x:i.x-l.width,y:i.y+i.height}),w<500&&h.push({x:i.x-l.width,y:i.y-l.height}),w<500&&h.push({x:i.x-a,y:i.y+i.height*2}),w<500&&h.push({x:i.x-a,y:i.y-i.height*2}),w<500&&h.push({x:i.x+a,y:i.y+i.height*3}),w<500&&h.push({x:i.x+a,y:i.y-i.height*3}),w<500&&h.push({x:i.x-a,y:i.y+i.height*3}),w<500&&h.push({x:i.x-a,y:i.y-i.height*3}),h},Q=(i,l,h,a,d)=>d.some(u=>i<u.x+u.width&&i+h>u.x&&l<u.y+u.height&&l+a>u.y),H=async i=>{var h,a;const l=i;if(b)b(i);else if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(l).then(()=>{N(R(Se[e],!1,3))},d=>{N(R(`${Ce[e]}`,!0,3)),console.error("Failed to copy:",d)});else{const d=document.createElement("textarea");d.value=l,(h=y.current)==null||h.appendChild(d),d.focus(),d.select();try{document.execCommand("copy"),N(R(Se[e],!1,3))}catch(u){console.error("Failed to copy:",u),N(R(`${Ce[e]}`,!0,3))}(a=y.current)==null||a.removeChild(d)}};return n.useEffect(()=>{if(x.length===0){L([]);return}const i=[...x].sort((a,d)=>d.weight!==a.weight?d.weight-a.weight:a.text.length-d.text.length),l=[],h=[];i.forEach((a,d)=>{const u=a.weight,{width:g,height:_,ascent:F}=D(a,u);let T=!1;const Z=30;let z=0;if(d===0){const $=(o-g)/2,M=(j+F-_)/2;l.push({x:$,y:M,width:g,height:_}),h.push(s.jsx("text",{x:$,y:M+F,fontSize:u,fontFamily:"Arial, sans-serif",fill:`hsl(${d*110%360}, 100%, ${f?"20":"70"}%)`,className:W.word,style:{cursor:"pointer"},onClick:()=>{H(a.text)},tabIndex:0,onKeyDown:V=>{(V.key==="Enter"||V.key===" ")&&H(a.text)},"aria-label":c??`${we[e]}: ${a.text}`,children:a.text},a.text)),T=!0}for(;!T&&z<Z;){for(let $=0;$<l.length&&!T;$++){const M=l[$],V=te(M,{width:g,height:_});for(let B of V){const m={x:B.x,y:B.y,width:g,height:_};if(!(m.x<0||m.y<0||m.x+m.width>o||m.y+m.height>j)&&!Q(m.x,m.y,m.width,m.height,l)){l.push(m),h.push(s.jsx("text",{x:m.x,y:m.y+F,fontSize:u,fontFamily:"Arial, sans-serif",fill:`hsl(${d*110%360}, 100%, ${f?"20":"70"}%)`,style:{cursor:"pointer"},className:W.word,onClick:()=>H(a.text),tabIndex:0,onKeyDown:k=>{(k.key==="Enter"||k.key===" ")&&H(a.text)},"aria-label":c??`${we[e]}: ${a.text}`,children:a.text},a.text)),T=!0;break}}}z++}T||console.warn(`Could not place word after ${z} attempts:: ${a.text}`)}),L(h)},[x,o,j,e,f,N]),s.jsx("div",{ref:y,className:W["cloud-wrap"],children:s.jsx("svg",{width:o,height:j,className:W.cloud,children:J})})},Ft=()=>{const[e,c]=n.useState({visible:!1,x:0,y:0}),b=n.useCallback((o,j)=>{c({visible:!0,x:o,y:j})},[]),x=n.useCallback(()=>{c(o=>({...o,visible:!1}))},[]);return{tooltip:e,handleMouseMove:b,handleMouseLeave:x}};var Me=(e=>(e.en="Poem",e.es="Poema",e.fr="Poème",e.de="Gedicht",e.pt="Poema",e.cs="Báseň",e.fi="Runo",e))(Me||{});const It=pe.map(e=>({text:e,weight:e==="design"?50:ue.includes(e)?Math.floor(Math.random()*10)+30:xe.includes(e)?Math.floor(Math.random()*5)+15:Math.floor(Math.random()*10)+15})),Ht=pe.map(e=>({text:e,weight:e==="design"?33:ue.includes(e)?Math.floor(Math.random()*10)+16:xe.includes(e)?Math.floor(Math.random()*5)+14:Math.floor(Math.random()*6)+15})),zt=pe.map(e=>({text:e,weight:e==="design"?28:ue.includes(e)?Math.floor(Math.random()*10)+13:xe.includes(e)?Math.floor(Math.random()*5)+14:Math.floor(Math.random()*5)+15})),Vt=n.lazy(()=>Te(()=>import("./Image-1cYjn-b7.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]))),Bt=n.lazy(()=>Te(()=>import("./Video-C_DZFvWK.js"),__vite__mapDeps([21,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]))),Kt=({language:e})=>{const c=$e(),{show:b}=Pe(),[x,o]=n.useState([]),[j,N]=n.useState(!1),[J,L]=n.useState(""),[f,w]=n.useState("imagination"),[y,ee]=n.useState("photo"),[D,te]=n.useState("all"),[Q,H]=n.useState(Y.All),[i,l]=n.useState("poem"),h=["all","photo","illustration","vector","video"],a=["all","film","animation"],d=[Y.All,Y.Horizontal,Y.Vertical],u=[{label:Me[e],value:"poem"},{label:We[e],value:"quote"}],g=Object.values(et),_=Object.values(tt),F=Object.values(st),T=q(a,e),Z=q(F,e),z=q(h,e),$=q(d.map(t=>t),e),M=q(g,e);M.unshift({label:G[e],value:""});const V=q(_,e),[B,m]=n.useState(void 0),[k,ke]=n.useState([]),[K,Oe]=n.useState([]),[se,Ae]=n.useState(!1),[ie,Re]=n.useState(!0),[ae,Le]=n.useState("popular"),[U,qt]=n.useState(100),[S,I]=n.useState(1),[O,De]=n.useState(20),[C,me]=n.useState(1),[X,Fe]=n.useState(1),[Gt,Ie]=n.useState(0),[He,ze]=n.useState(!1),fe=n.useRef(!0),[v,re]=n.useState(1),ye=[{label:"10",value:10},{label:"20",value:20},{label:"50",value:50},{label:"100",value:100}],{windowWidth:E}=Ne(),{tooltip:ne,handleMouseMove:Ve,handleMouseLeave:Be}=Ft(),Ke=t=>{const p=t.currentTarget.getBoundingClientRect(),Xe=t.clientX-p.left-50,Ye=t.clientY-p.top+30;Ve(Xe,Ye)},ve=async t=>{N(!0),L("");const p=await At.searchMedia(e,t);p.success?(o(p.hits),Ie(p.totalHits),me(Math.ceil(p.hits.length<O?1:p.hits.length/O)),Fe(Math.ceil(p.totalHits<U?1:p.totalHits/U)),ce("image-container")):(c(R(p.message||"Error fetching images.",!0,6)),L(p.message||"Error fetching images.")),N(!1)};n.useEffect(()=>{const t=k==null?void 0:k.map(p=>p.value);Oe(t)},[k]);const qe=t=>{if(t.preventDefault(),f.trim()===""){c(R(P[e],!0,6)),L(P[e]);return}I(1),ze(!0);const p={q:f,type:y,video_type:D!=="all"?D:void 0,orientation:Q,category:B,colors:K&&K.length>0?K:void 0,editors_choice:se,safesearch:ie,order:ae,per_page:U,page:v};ve(p)};n.useEffect(()=>{if(fe.current){fe.current=!1;return}if(!He)return;if(f.trim()===""){c(R(P[e],!0,6)),L(P[e]);return}I(1),ce("image-container");const t={q:f,type:y,video_type:D!=="all"?D:void 0,orientation:Q,category:B,colors:K&&K.length>0?K:void 0,editors_choice:se,safesearch:ie,order:ae,per_page:U,page:v};ve(t)},[v]),n.useEffect(()=>{me(Math.ceil(x.length<O?1:x.length/O))},[x,O]);const Ge=x.slice((S-1)*O,S*O),be=()=>x.length===0?s.jsx(s.Fragment,{}):C===1?s.jsx(s.Fragment,{}):s.jsxs("div",{className:r["pagination-wrap"],children:[s.jsxs("button",{className:"tooltip-wrap",disabled:S===1,onClick:()=>I(1),children:[s.jsx(_t,{}),s.jsx("span",{className:"scr",children:ge[e]}),s.jsx("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:ge[e]})]}),s.jsxs("button",{className:"tooltip-wrap",onClick:()=>I(t=>Math.max(t-1,1)),disabled:S===1,children:[s.jsx($t,{}),s.jsx("span",{className:"scr",children:oe[e]}),s.jsx("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:oe[e]})]}),s.jsxs("span",{children:[Ee[e]," ",S," / ",C]}),s.jsxs("button",{className:"tooltip-wrap",onClick:()=>I(t=>Math.min(t+1,C)),disabled:S===C,children:[s.jsx(Nt,{}),s.jsx("span",{className:"scr",children:he[e]}),s.jsx("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:he[e]})]}),s.jsxs("button",{className:"tooltip-wrap",disabled:S===C,onClick:()=>I(C),children:[s.jsx(Tt,{}),s.jsxs("span",{className:"scr",children:[_e[e]," (",C,")"]}),s.jsxs("span",{"aria-hidden":"true",className:"tooltip above narrow2",children:[_e[e]," (",C,")"]})]})]}),Qe=Array.from({length:X},(t,p)=>p+1).map((t,p)=>s.jsx(n.Fragment,{children:s.jsxs("button",{onClick:()=>{I(1),re(t)},className:`tooltip-wrap ${r["fetch-page-button"]} ${t===v?r.active:""}`,"data-current":t===v?it[e]:"",disabled:p===v-1||t>X,children:[t,s.jsxs("span",{className:"tooltip above narrow2",children:[Ee[e]," ",t]})]})},t)),je=s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:r["batch-paragraph"],children:[at[e]," ",U," ",rt[e],":"]}),s.jsxs("div",{id:`${r["fetch-btn-wrap"]}`,className:r["fetch-page-buttons-wrap"],children:[v!==1&&s.jsxs("button",{className:`reset ${r["fetch-more-btn"]}`,onClick:()=>re(t=>t-1),children:["« ",oe[e]]}),Qe,v!==X&&s.jsxs("button",{className:`reset ${r["fetch-more-btn"]}`,onClick:()=>re(t=>t+1),children:[he[e]," »"]}),S===C&&v>=X&&s.jsx("p",{className:`${r["end-message"]}`,children:nt[e]})]})]}),Ue=t=>{w(t),ce("search-container","start"),c(R(`${Ct[e]}: ${Et[e]}: ${t}`,!1,4))};return s.jsxs("div",{id:"search-container",className:r["search-container"],children:[s.jsx("section",{className:`card ${r["settings-section"]}`,children:s.jsxs("div",{children:[s.jsxs("div",{className:`tooltip-wrap ${r["wordcloud-wrap"]}`,onMouseMove:Ke,onMouseLeave:Be,children:[s.jsx(Dt,{language:e,title:ct[e],onClick:Ue,words:E>700?It:E>500?Ht:zt,width:E<300?E-20:E<600?E-80:E-E/100*30,height:E<300?900:E<500?800:500}),ne.visible&&s.jsx("span",{className:"tooltip narrow",style:{top:ne.y,left:ne.x,right:"unset"},children:ot[e]})]}),s.jsxs("form",{onSubmit:qe,children:[s.jsxs("div",{className:r["search-wrap"],children:[s.jsx("h2",{children:le[e]}),s.jsxs("div",{className:r.column,children:[s.jsx("div",{className:`input-wrap ${r["input-wrap"]}`,children:s.jsxs("label",{children:[s.jsx("input",{name:"search",type:"text",maxLength:100,value:f,onChange:t=>w(t.target.value),placeholder:ht[e]}),s.jsx("span",{children:le[e]})]})}),y!=="video"&&s.jsx(A,{z:8,id:"colors",className:`${r.select} ${r.colors}`,multiple:!0,instructions:lt[e],value:k,onChange:t=>ke(t),options:V,language:e})]}),s.jsxs("div",{className:r["controls-wrap"],children:[s.jsx(A,{z:7,id:"result-type",className:`${r.select} ${r["result-type"]}`,hideDelete:!0,instructions:dt[e],value:z.find(t=>t.value===y)||{label:G[e],value:"all"},onChange:t=>ee(t==null?void 0:t.value),options:z,language:e}),y==="video"?s.jsx(A,{z:6,id:"result-type",className:`${r.select} ${r["result-type"]}`,hideDelete:!0,instructions:pt[e],value:T.find(t=>t.value===D)||{label:G[e],value:"all"},onChange:t=>te(t==null?void 0:t.value),options:T,language:e}):s.jsx(A,{z:5,id:"orientation",className:`${r.select} ${r.orientation}`,instructions:ut[e],hideDelete:!0,value:$.find(t=>t.value===Q)||{label:G[e],value:"all"},onChange:t=>H(t==null?void 0:t.value),options:$,language:e}),s.jsx(A,{z:4,id:"category",className:`${r.select} ${r.category}`,hideDelete:!0,instructions:xt[e],value:M.find(t=>t.value===B)||{label:G[e],value:""},onChange:t=>m(t==null?void 0:t.value),options:M,language:e}),s.jsx(A,{z:3,id:"order-by",className:`${r.select} ${r["order-by"]}`,hideDelete:!0,instructions:mt[e],value:Z.find(t=>t.value===ae)||{label:"Popular",value:"popular"},onChange:t=>Le(t==null?void 0:t.value),options:Z,language:e})]})]}),s.jsxs("div",{className:`${r["checkbox-wrap"]}`,children:[s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:se,onChange:t=>Ae(t.target.checked)}),ft[e]," (Pixabay)"]}),s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:ie,onChange:t=>Re(t.target.checked)}),yt[e]]})]}),s.jsxs("div",{className:r["submit-wrap"],children:[s.jsx(A,{z:2,id:"text-type",className:`${r.select} ${r["text-type"]}`,hideDelete:!0,instructions:vt[e],value:u.find(t=>t.value===i)||{label:G[e],value:""},onChange:t=>l(t==null?void 0:t.value),options:u,language:e}),s.jsx(A,{z:1,id:"images-per-page",className:`${r.select} ${r["images-per-page"]}`,hideDelete:!0,instructions:bt[e],value:ye.find(t=>t.value===O)||{label:"20",value:20},onChange:t=>{De(Number(t==null?void 0:t.value))},options:ye,language:e}),s.jsx("button",{type:"submit",disabled:j,children:y==="video"?jt[e]:le[e]})]}),y==="vector"&&s.jsxs("p",{className:`textcenter flex center   ${r.note}`,children:[wt[e]," ",St[e]]})]})]})}),x.length>0&&s.jsx("section",{className:`card ${r["image-section"]}`,children:s.jsxs("div",{children:[j&&s.jsxs("p",{className:"textcenter flex center margin0auto textcenter",children:[de[e],"..."]}),J&&s.jsx("p",{className:r.error,children:J}),be(),s.jsx("div",{id:"image-container",className:r["image-container"],children:Ge.map(t=>s.jsx(n.Fragment,{children:"videos"in t?s.jsx(n.Suspense,{fallback:s.jsxs("div",{className:"flex center margin0auto textcenter",style:{width:"100%",height:"auto",aspectRatio:t.videos.small.width/t.videos.small.height},children:[de[e],"..."]},`key-${t.id}`),children:s.jsx(Bt,{video:t,language:e,show:b,searchTerm:f,textType:i},t.id)}):s.jsx(n.Suspense,{fallback:s.jsxs("div",{className:"flex center margin0auto textcenter",style:{width:"100%",height:`${t.previewHeight}px`,aspectRatio:t.previewWidth/t.previewHeight},children:[de[e],"..."]},`key-${t.id}`),children:s.jsx(Vt,{image:t,language:e,show:b,searchTerm:f,textType:i},t.id)})},t.id))}),be(),S===1&&v>1&&je,S===C&&v<=X&&je]})})]})},Zt=Object.freeze(Object.defineProperty({__proto__:null,default:Kt},Symbol.toStringTag,{value:"Module"}));export{Zt as I,Ft as u};
