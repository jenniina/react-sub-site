import{r as f,j as e}from"./react-A9DAvxly.js";import{z as se,D as Te,E as _e}from"./react-icons-DJiaMApb.js";import{aZ as le,aP as je,dw as Ne,dx as be,dy as $e,dz as oe,dA as ne,dB as ie,b0 as b,dC as he,dD as ue,ax as Ce,bS as Ae,dE as ve,dF as ke,bY as ce,dG as Ie,dH as Oe,dI as Le,dJ as We,dK as Me,u as Re,b9 as Fe,dL as me,dM as z,dN as ge,dO as Ee,dP as ye,dQ as Pe,dR as Ye,dS as Be,dT as Ue,c3 as He,bZ as pe,dU as xe,dV as fe,dW as Ke,dX as Ve,dY as ee,dZ as Je,d_ as qe,cg as Ge,H as Ze,au as Qe,cr as Xe,cs as ze,d$ as et,e0 as tt,e1 as rt,e2 as st,e3 as ot,e4 as nt,c$ as it,e5 as ct,e6 as lt,e7 as at,e8 as dt,d7 as ht,e9 as ut,ea as mt,eb as pt,ec as xt,ed as ft,a0 as jt,ee as bt}from"./index-xrT_8w5r.js";import"./react-redux-CHm9GgGE.js";import{u as Ct}from"./useDragAndDrop-CFENP5_-.js";import{E as te}from"./form-C1vuQpLD.js";import"./hoist-non-react-statics-D5aJipOz.js";import"./react-dom-yh0erWL-.js";import"./scheduler-CzFDRTuY.js";import"./@reduxjs-DTZ4pglK.js";import"./immer-BNrqi0cU.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./axios-BimPEqV4.js";import"./react-router-dom-BQMcumiI.js";import"./react-router-344DmMNz.js";import"./@remix-run-DTnHqtaE.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-DEc9BFqZ.js";const vt="_grid_1v3es_1",Et="_light_1v3es_29",yt="_card_1v3es_22",wt="_text_1v3es_155",Dt="_blur_1v3es_187",St="_open_1v3es_190",Tt="_one_1v3es_292",_t="_two_1v3es_295",Nt="_three_1v3es_298",$t="_four_1v3es_301",x={grid:vt,"container-main":"_container-main_1v3es_18","cards-container":"_cards-container_1v3es_22",light:Et,"change-status":"_change-status_1v3es_99","area-dragging":"_area-dragging_1v3es_119",card:yt,text:wt,blur:Dt,open:St,"add-color":"_add-color_1v3es_225","change-status-form":"_change-status-form_1v3es_260",delete:"_delete_1v3es_269",one:Tt,two:_t,three:Nt,four:$t};function At({language:s,status:d,statuses:v,id:n,index:E,data:c,handleDragging:h,handleUpdate:C,handleRemoveColor:P,setTheTarget:y,sanitize:T,focusedCard:_,setFocusedCard:D}){const S=le(),O={backgroundColor:c==null?void 0:c.color,padding:"0.3em 5%",color:(c==null?void 0:c.lightness)=="dark"?"white":"black",borderColor:(c==null?void 0:c.lightness)=="dark"?"var(--color-gray-lighter)":"var(--color-gray-dark)",textShadow:(c==null?void 0:c.lightness)=="dark"?"1px 1px 1px black":"-8px 0 12px rgba(255,255,255,0.5), 8px 0 12px rgba(255,255,255,0.5)"},Y={color:"var(--color-primary-20)",textShadow:"none"},B={margin:"0 auto 0.3em",display:"block",width:"max-content",fontSize:"0.9em"},[L,w]=f.useState(!1);function W(){w(t=>!t)}function U(){w(!1)}const N=f.useRef(null);je({ref:N,onOutsideClick:U});const H=f.useRef(0),M=(t,i)=>{t.preventDefault(),y(i),H.current=i},q=t=>{h(!0),t.preventDefault()},$=(t,i)=>{t.dataTransfer.setData("text/plain",JSON.stringify({type:"item",id:c==null?void 0:c.id}))};function R(t){const i=t.target.closest("a[data-status]"),u=i==null?void 0:i.dataset.status;c&&u&&C(c.id,u)}function K(t){switch(t.code){case"Enter":case"Space":t.stopPropagation(),t.preventDefault();const i=t.target.closest("a[data-status]"),u=(i==null?void 0:i.dataset.status)??d;c&&C(c.id,u),w(j=>!j);break;case"Escape":t.stopPropagation(),t.preventDefault(),w(!1);break}}const F=(t,i)=>{var G,Z;const u=t.target.closest("li");let j;u?j=u:j=t.target;const I=Number((G=j==null?void 0:j.previousElementSibling)==null?void 0:G.dataset.identity),g=Number((Z=j==null?void 0:j.nextElementSibling)==null?void 0:Z.dataset.identity);switch(t.key){case"ArrowUp":c&&I!==null&&(t.preventDefault(),C(i,c.status,I),D(i));break;case"ArrowDown":c&&g!==null&&(t.preventDefault(),C(i,c.status,g),D(i));break;case"Tab":D(null)}};f.useEffect(()=>{var t;_===n&&((t=N.current)==null||t.focus())},[_,n]);const V=t=>{var i;if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(t).then(()=>{S(b(he[s],!1,3))},u=>{S(b(`${ue[s]}`,!0,3))});else{const u=document.createElement("textarea");u.value=t,(i=N.current)==null||i.appendChild(u),u.focus(),u.select();try{document.execCommand("copy"),S(b(he[s],!1,3))}catch{S(b(`${ue[s]}`,!0,3))}document.body.removeChild(u)}};return e.jsx("li",{ref:N,draggable:"true",onDragStart:t=>$(t),onDragEnter:t=>M(t,n),onDragOver:t=>q(t),onDragEnd:()=>h(!1),role:"listitem",title:c==null?void 0:c.status,tabIndex:0,onKeyDown:t=>F(t,n),"data-identity":n,children:e.jsxs("div",{style:O,className:`${x.card}`,children:[e.jsx("span",{className:x.text,children:c==null?void 0:c.content}),e.jsxs("b",{children:[e.jsx("button",{onClick:()=>P(c.content),children:"Ã—"}),e.jsxs("button",{"aria-haspopup":"true",onClick:W,children:[e.jsx(se,{"aria-hidden":"true"}),e.jsx("span",{className:"scr",id:`instructions${n}`,children:Ne[s]})]})]}),e.jsxs("nav",{className:L?`${x.open} ${x.blur}`:`${x.blur}`,style:Y,children:[e.jsxs("span",{style:B,children:[be[s],":"]}),e.jsxs("ul",{role:"listbox","aria-describedby":`instructions${n}`,"aria-expanded":L?"true":"false",className:T(d),children:[e.jsx("li",{role:"option",className:x.copy,children:e.jsxs("a",{className:x.copy,onClick:()=>V(c.content),tabIndex:0,children:[e.jsx(Te,{}),e.jsx("i",{children:$e[s]})]})}),v.map((t,i)=>e.jsx("li",{role:"option",className:T(t),children:e.jsxs("a",{className:T(t),"data-status":t,onClick:u=>R(u),onKeyDown:u=>K(u),tabIndex:0,children:[e.jsx(_e,{}),e.jsx("i",{children:(()=>{switch(t.toLowerCase()){case"good":return ie[s];case"bad":return ne[s];case"neutral":return oe[s];default:return t.replace(/_/g," ")}})()})]})},`${T(t)}-${i}-${E}`))]})]})]})})}const kt=({language:s,status:d,statuses:v,isDragging:n,handleDragging:E,handleUpdate:c,handleRemoveColor:h,itemsByStatus:C,lightTheme:P,sanitize:y,updateStatus:T,reorderStatuses:_,deleteStatus:D,regex:S})=>{const O=le(),[Y,B]=f.useState(0),[L,w]=f.useState(!1),[W,U]=f.useState(""),[N,H]=f.useState(null),M=f.useRef(null),q=t=>{const i=t.target.value;S.test(i)?U(i):O(b(ce[s],!0,6))};je({ref:M,onOutsideClick:()=>w(!1)});const $=t=>{const i=JSON.parse(t.dataTransfer.getData("text/plain"));i.type==="item"&&(c(i.id,d,Y),E(!1))},R=t=>t.preventDefault(),K=(t,i)=>{t.dataTransfer.setData("text/plain",JSON.stringify({type:"span",id:i.toString()})),E(!0)},F=t=>{t.stopPropagation(),t.preventDefault()},V=(t,i)=>{t.preventDefault();const u=JSON.parse(t.dataTransfer.getData("text/plain"));if(u.type==="span"){const j=u.id;if(j!==i){const I=Array.from(v),[g]=I.splice(j,1);I.splice(i,0,g),_(j,i)}E(!1)}};return e.jsxs("div",{className:`${x["cards-container"]} ${n?x["area-dragging"]:""} ${P?x.light:""}`,onDrop:t=>V(t,v.indexOf(d)),onDragEnd:()=>E(!1),children:[e.jsxs("span",{ref:M,id:`label-${y(d)}`,className:x["status-label"],draggable:!0,onDragStart:t=>K(t,v.indexOf(d)),onDragOver:F,children:[e.jsx("b",{children:(()=>{switch(d.toLowerCase()){case"good":return ie[s];case"bad":return ne[s];case"neutral":return oe[s];default:return d.replace(/_/g," ")}})()}),e.jsxs(Ce,{isOpen:L,setIsFormOpen:w,language:s,text:"*",hideBrackets:!0,className:`narrow2 ${x["change-status"]} change-status`,tooltip:Ae[s],x:"left",y:"below",children:[e.jsx("i",{children:(()=>{switch(d.toLowerCase()){case"good":return ie[s];case"bad":return ne[s];case"neutral":return oe[s];default:return d.replace(/_/g," ")}})()}),e.jsxs("form",{className:x["change-status-form"],onSubmit:t=>{t.preventDefault(),T(v.indexOf(d),W)},children:[e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{htmlFor:`${y(d)}-status`,children:[e.jsx("input",{type:"text",required:!0,id:`${y(d)}-status`,value:W,onChange:t=>q(t)}),e.jsx("span",{children:be[s]})]})}),e.jsx("button",{type:"submit",children:ve[s]}),e.jsx("button",{type:"button",className:"danger delete",onClick:()=>{D(d)},children:ke[s]})]})]})]}),e.jsx("ul",{"aria-labelledby":`label-${y(d)}`,id:y(d),className:y(d),role:"list",onDrop:$,onDragOver:R,children:C==null?void 0:C.map((t,i)=>e.jsx(At,{language:s,id:t.id,index:i,data:t,status:d,statuses:v,handleDragging:E,handleUpdate:c,handleRemoveColor:h,setTheTarget:B,sanitize:y,focusedCard:N,setFocusedCard:H},`${y(d)}-item-${t.id}-${i}`))})]})},re=["good","neutral","bad"],It=({language:s})=>{const d=le(),[v,n]=f.useState([]),E=[{content:"orchid",color:"orchid"},{content:"lightgreen",color:"lightgreen"},{content:"lightsalmon",color:"lightsalmon"},{content:"lightblue",color:"lightblue"},{content:"pink",color:"pink"},{content:"turquoise",color:"turquoise"},{content:"blue",color:"blue"},{content:"crimson",color:"crimson"},{content:"yellow",color:"yellow"},{content:Ie[s],color:"purple"},{content:Oe[s],color:"orange"},{content:Le[s],color:"lightgray"},{content:We[s],color:"lightgray"}],c=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",[h,C,P]=Me(`${c?"local-":""}DnD-statuses`,re),[y,T]=f.useState(""),_=f.useRef(null),D=/^[a-zA-Z\u00C0-\u024F\u1E00-\u1EFF- ]*$/,S=h.map(r=>{const o=window.localStorage.getItem(`${c?"local-":""}DnD-${r}`);return o?JSON.parse(o):[]}).flat(),O=r=>r.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_]/g,"-");f.useEffect(()=>{const r=document.createElement("style");r.id="dnd-styles",document.head.appendChild(r);const l=(a=>a.map(m=>{const p=O(m);return`
          ul.${p} li.${p} a.${p}, 
          ul.${p} li.${p} a.${p} i, 
          ul.${p} li.${p} a.${p} svg {
            cursor: auto;
            pointer-events: none;
            color: var(--color-primary-20);
            display: flex;
            justify-content: flex-start;
            align-items: center;
          } 
          ul.${p} li a svg {
            font-size: 0.7rem;
            min-width: 1rem;
            max-width: 1rem;
          }
        `}).join(`
`))(h);return r.innerHTML=l,()=>{document.head.removeChild(r)}},[h]);const Y=r=>{const o=document.createElement("canvas").getContext("2d");if(!o)throw new Error("Canvas context not available");return o.fillStyle=r,o.fillStyle},B=r=>{let o=parseInt(r.slice(1,3),16),l=parseInt(r.slice(3,5),16),a=parseInt(r.slice(5,7),16);return{r:o,g:l,b:a}},L=(r,o,l)=>{const a=[r,o,l].map(m=>(m/=255,m<=.03928?m/12.92:Math.pow((m+.055)/1.055,2.4)));return a[0]*.2126+a[1]*.7152+a[2]*.0722},w=r=>{const o=r.startsWith("#")?r:Y(r),{r:l,g:a,b:m}=B(o);return L(l,a,m)>.179?"light":"dark"},W=()=>{window.confirm(He[s])&&(P(),C(re),$(E),setTimeout(()=>{n(R())},400))},U=r=>{if(D.test(r)){const o=r.trim().replace(/ /g,"_");if(o.length>20){d(b(`${pe[s]}: ${xe[s]}`,!0,9));return}if(r.trim()===""){d(b(te[s],!0,6));return}if(h.includes(o)){d(b(fe[s],!0,6));return}if(h.length===8){d(b(Ke[s],!0,8));return}C(l=>o===""||l.includes(o)?l:[...l,o])}else d(b(ce[s],!0,6))},N=(r,o)=>{C(l=>{const a=[...l],[m]=a.splice(r,1);return a.splice(o,0,m),a})},H=(r,o)=>{if(!D.test(o)){d(b(ce[s],!0,6));return}C(l=>{const a=o.trim().replace(/ /g,"_");if(a.length>20)return d(b(`${pe[s]}: ${xe[s]}`,!0,9)),l;if(a==="")return d(b(te[s],!0,6)),l;if(l.includes(a))return d(b(fe[s],!0,6)),l;const m=[...l],p=m[r];return m[r]=a,n(Q=>Q.map(A=>A.status===p?{...A,status:a}:A)),De(p,a),m})},M=r=>{if(h.length===1){d(b(Ve[s],!0,8));return}else if(v.some(o=>o.status===r))d(b(`${ee[s]} ${Je[s]}`,!0,8)),C(o=>o.filter(l=>l!==r)),n(o=>o.filter(l=>l.status!==r));else if(window.confirm(`${ee[s]} (${r})`))C(o=>o.filter(l=>l!==r)),n(o=>o.filter(l=>l.status!==r));else return};f.useEffect(()=>{n(K)},[]);const[q,$]=f.useState(E),R=()=>{const r=[];let o=re[1],l;for(let a=0;a<E.length;a++){const m=E[a].color||"white",p=E[a].content||"white";l=w(m);const Q=Math.floor(Math.random()*h.length);o=h[Q];const A={id:a,content:p,color:m,status:o,lightness:l};r.push(A)}return r},K=f.useMemo(()=>{if(S.length>0)return S;const r=R();return n(r),r},[]),[F,V]=f.useState(""),[t,i]=f.useState({label:h[0],value:h[0]}),u=(r,o,l)=>{var A,ae;if(r.preventDefault(),o.trim()===""){d(b(te[s],!0,6));return}const a=o.trim().split(" "),m=a.length===1?o:a.slice(0,-1).join(" "),p=a.length===1?o:a[a.length-1];if(I(p)){const X={id:v.reduce((k,J)=>J.id>k?J.id:k,0)+1,content:m,color:p,status:l,lightness:w(o)};n(k=>[...k,X]),$(k=>[...k,{content:m,color:p}]),(A=_.current)==null||A.scrollIntoView({behavior:"smooth"})}else window.confirm(`${qe[s]}: ${Ge[s]}`)&&($(de=>{const X=[...de,{content:o,color:"lightgray"}],k={id:X.length-1,content:o,color:"lightgray",status:l,lightness:"light"};return n(J=>[...J,k]),X}),(ae=_.current)==null||ae.scrollIntoView({behavior:"smooth"}))},j=r=>{if(window.confirm(`${ee[s]} (${r})`))$(o=>{const l=o.filter(a=>a.content!==r);return n(a=>a.filter(m=>m.content!==r)),l});else return},I=r=>{const o=document.createElement("canvas").getContext("2d");if(!o)throw new Error("Canvas context not available");return o.fillStyle=r,o.fillStyle!=="#000000"||r.toLowerCase()==="black"},g=Re(),{isDragging:G,listItemsByStatus:Z,handleDragging:we,handleRenameStatus:De,handleUpdate:Se}=Ct(v,h);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${x.grid} ${h.length<2?x.one:h.length<3?x.two:(h==null?void 0:h.length)<4||(h==null?void 0:h.length)===5||(h==null?void 0:h.length)===6?x.three:x.four}`,ref:_,children:h.map(r=>{var o;return e.jsx(kt,{language:s,itemsByStatus:(o=Z[r])==null?void 0:o.items,status:r,statuses:h,isDragging:G,handleDragging:we,handleUpdate:Se,handleRemoveColor:j,lightTheme:g,sanitize:O,updateStatus:H,reorderStatuses:N,deleteStatus:M,regex:D},r)})}),e.jsx("button",{onClick:W,children:Fe[s]}),e.jsxs("div",{className:x["add-status"],children:[e.jsx("h2",{children:me[s]}),e.jsxs("form",{onSubmit:r=>{r.preventDefault(),U(y)},children:[e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{htmlFor:"dnd-status-add",children:[e.jsx("input",{required:!0,type:"text",id:"dnd-status-add",value:y,onChange:r=>T(r.target.value)}),e.jsx("span",{children:me[s]})]})}),e.jsx("button",{type:"submit",children:ve[s]})]})]}),e.jsxs("div",{className:x["add-color"],children:[e.jsx("h2",{children:z[s]}),e.jsxs("p",{children:[ge[s]," darkblue or lightslategray."," ",Ee[s],"."," ",ye[s]]}),e.jsxs("form",{onSubmit:r=>u(r,F,t.label),children:[e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{htmlFor:"dnd-color-add",children:[e.jsx("input",{required:!0,type:"text",id:"dnd-color-add",value:F,onChange:r=>V(r.target.value)}),e.jsx("span",{children:z[s]})]})}),e.jsx(Pe,{language:s,id:"dnd-color-status",className:"color",instructions:Ye[s],hide:!0,options:h.map(r=>({label:r,value:r})),value:t,onChange:r=>i(r||{label:h[0],value:h[0]})}),e.jsx("button",{type:"submit",children:z[s]})]}),e.jsxs("p",{children:[e.jsxs("span",{children:[Be[s]," "]})," ",e.jsx("a",{href:"https://htmlcolorcodes.com/color-names/",target:"_blank",children:Ue[s]})]})]})]})};function zt({heading:s,text:d,type:v,language:n}){return e.jsxs("div",{className:`draganddrop ${v}`,children:[e.jsx(Ze,{language:n,address:"draganddrop",heading:s,text:d,instructions:Qe[n]}),e.jsx("div",{className:"inner-wrap",children:e.jsx("section",{className:"card",children:e.jsxs("div",{children:[e.jsx("div",{className:"medium",children:e.jsxs(Ce,{language:n,text:Xe[n],className:"features",children:[e.jsx("h2",{children:ze[n]}),e.jsxs("ul",{className:"ul",children:[e.jsx("li",{children:et[n]}),e.jsx("li",{children:tt[n]}),e.jsx("li",{children:rt[n]}),e.jsx("li",{children:st[n]}),e.jsx("li",{children:ot[n]}),e.jsx("li",{children:nt[n]}),e.jsxs("li",{children:[Ee[n],"."," ",ye[n]]})]}),e.jsx("h3",{children:it[n]}),e.jsx("h4",{children:ct[n]}),e.jsxs("ul",{className:"ul",children:[e.jsx("li",{children:lt[n]}),e.jsx("li",{children:at[n]}),e.jsxs("li",{children:[dt[n],":"," ",e.jsx(se,{"aria-hidden":"true",style:{display:"inline-block",marginBottom:"-0.15em"}})," "]})]}),e.jsx("h4",{children:ht[n]}),e.jsxs("ul",{className:"ul",children:[e.jsx("li",{children:ut[n]}),e.jsxs("li",{children:[mt[n],e.jsxs("ul",{children:[e.jsxs("li",{children:[pt[n]," ",e.jsx(se,{"aria-hidden":"true",style:{display:"inline-block",marginBottom:"-0.15em"}})," ",xt[n]]}),e.jsx("li",{children:ft[n]})]})]})]})]})}),e.jsx("h2",{children:jt[n]}),e.jsx("p",{children:bt[n]}),e.jsx(It,{language:n})]})})})]})}export{zt as default};
