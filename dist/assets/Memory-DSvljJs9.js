import{j as e,r as x}from"./react-A9DAvxly.js";import{a5 as qe,a6 as ke,a7 as me,a8 as Z,a9 as Ve,aa as Ye,ab as Je,ac as Xe,ad as Qe,ae as Ze,af as es,ag as ss,ah as as,ai as ts,aj as rs,ak as ns,al as cs,am as is,an as os,ao as ls,ap as ds,aq as hs,ar as ms,as as js,at as ps,au as us,av as xs,aw as fs,ax as vs,ay as _s,az as ws,aA as gs,aB as ys,aC as $s,aD as bs,aE as Ss,aF as Fs,aG as Ns,aH as Es,aI as Cs,aJ as Hs,aK as qs,aL as ks,aM as Ps,aN as Is,aO as Ts,aP as As,aQ as Ds,aR as Os,aS as Ls,aT as Ms,aU as Bs,aV as Gs,y as zs,aW as Rs,aX as Us}from"./react-icons-RHjzyHVQ.js";import{fT as H,fU as de,fV as he,ae as Pe,fW as Ks,fX as ee,fY as W,fZ as Ws,f_ as oe,K as Vs,f$ as Ys,d4 as Js,g0 as we,g1 as ge,g2 as ye,u as le,g3 as Xs,g4 as Qs,g5 as Zs,g6 as ea,g7 as R,g8 as $e,g9 as V,ag as be,ga as Se,W as Y,gb as sa,e_ as aa,gc as ta,gd as ra,ge as na,gf as ca,gg as ia,gh as oa,gi as la,gj as da,cE as ha,gk as ma,dF as Fe,gl as ja,gm as pa,gn as ua,b9 as xa,be as fa,bf as va,go as _a,fj as Ne,gp as wa,gq as ga,cK as ya,bk as $a}from"./index-BM0FeXIF.js";import{a as B}from"./axios-CCb-kr4I.js";import{a as ba}from"./react-redux-C4cSaZU-.js";import"./hoist-non-react-statics-D5aJipOz.js";import"./react-dom-CxfJ6lHP.js";import"./scheduler-CzFDRTuY.js";import"./@reduxjs-DhFEcpJw.js";import"./immer-C0GRqQ_d.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./react-router-dom-CYs6befe.js";import"./react-router-S1Hdk0kP.js";import"./@remix-run-DTnHqtaE.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-DEc9BFqZ.js";const Sa="_sectioncard_sqwjv_21",Fa="_game_sqwjv_53",Na="_container_sqwjv_69",Ea="_modal_sqwjv_71",Ca="_settings_sqwjv_85",Ha="_size8_sqwjv_153",qa="_size10_sqwjv_155",ka="_light_sqwjv_207",Pa="_grid_sqwjv_145",Ia="_card_sqwjv_253",Ta="_flipped_sqwjv_313",Aa="_front_sqwjv_313",Da="_flip_sqwjv_313",Oa="_back_sqwjv_325",La="_header_sqwjv_521",Ma="_time_sqwjv_889",Ba="_select_sqwjv_993",Ga="_active_sqwjv_1137",za="_finish_sqwjv_1279",Ra="_close_sqwjv_1315",Ua="_big_sqwjv_1329",c={"game-container":"_game-container_sqwjv_1",sectioncard:Sa,game:Fa,container:Na,modal:Ea,settings:Ca,"player-names-wrap":"_player-names-wrap_sqwjv_111","grid-wrap":"_grid-wrap_sqwjv_145",size8:Ha,size10:qa,light:ka,grid:Pa,card:Ia,flipped:Ta,front:Aa,flip:Da,back:Oa,"flip-back":"_flip-back_sqwjv_1","flipped-over":"_flipped-over_sqwjv_337",header:La,"game-over":"_game-over_sqwjv_537","high-scores":"_high-scores_sqwjv_549","new-score":"_new-score_sqwjv_661","title-svg":"_title-svg_sqwjv_811","title-icon":"_title-icon_sqwjv_819","time-wrap":"_time-wrap_sqwjv_889",time:Ma,"delete-btn":"_delete-btn_sqwjv_931","delete-name-form":"_delete-name-form_sqwjv_939",select:Ba,"player-names":"_player-names_sqwjv_111","set-card-type":"_set-card-type_sqwjv_1017","set-players":"_set-players_sqwjv_1035","set-grid":"_set-grid_sqwjv_1037",active:Ga,"set-handedness":"_set-handedness_sqwjv_1151",finish:za,"edit-wrap":"_edit-wrap_sqwjv_1285",close:Ra,big:Ua},Ka=({option:s,isActive:l,onClick:i})=>{const b=q=>{switch(q){case H.icons:return e.jsx(me,{});case H.numbers:return e.jsx(ke,{});case H.letters:return e.jsx(qe,{});default:return null}};return e.jsxs("button",{className:`tooltip-wrap ${l?`${c.active} grayer`:""}`,onClick:i,disabled:l,"aria-label":s.label,children:[b(s.value),e.jsx("span",{className:"tooltip above narrow2 space",children:s.label})]})},Wa=({option:s,isActive:l,onClick:i})=>e.jsxs("button",{className:`tooltip-wrap ${l?`${c.active} grayer`:""}`,onClick:i,disabled:l,children:[e.jsx("span",{children:s.icon}),e.jsx("span",{className:"tooltip above narrow2 space",children:s.label})]}),Va=({language:s,value:l,isActive:i,onClick:b})=>e.jsxs("button",{className:`tooltip-wrap ${c["player-button"]} ${i?c.active:""}`,disabled:i,onClick:b,children:[e.jsx("span",{children:l}),e.jsx("span",{className:"tooltip above narrow2",children:Number(l)>1?de[s]:he[s]})]}),Ya=({setGameStarted:s,language:l,gridSize:i,cards:b,flippedCards:q,flippedOverCards:F,matchedCards:v,cardType:z,handleCardClick:I,renderCardContent:y})=>{const{windowHeight:A,windowWidth:D}=Pe(),E=`size${i}`;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${c["grid-wrap"]} ${c[E]}`,children:e.jsx("div",{className:c.grid,style:{gridTemplateColumns:`repeat(${i}, 1fr)`,gridTemplateRows:`repeat(${i}, 1fr)`,"--size":`${A>D?94:85}`,"--amount":`${i}`,"--multiplier":`${A>D?"1vw":"1vh"}`},children:b.map((O,p)=>{const t={"--fontSize":z.value===H.icons?A>D?`${50/i}vw`:`${50/i}vh`:A>D?`${40/i}vw`:`${40/i}vh`};return e.jsxs("div",{style:t,className:`${c.card} ${q.includes(p)||v.includes(p)?c.flipped:""} ${F.includes(p)?c["flipped-over"]:""}`,onClick:()=>I(p),children:[e.jsx("div",{className:c.front,children:y(O)}),e.jsx("div",{className:c.back})]},O.id)})})}),e.jsx("button",{className:c.finish,type:"button",onClick:()=>{s(!1)},children:Ks[l]})]})},Ja=x.memo(Ya),Xa=(s,l)=>{const[i,b]=x.useState(0),q=x.useCallback(()=>{b(0)},[]);return x.useEffect(()=>{let F;if(s){b(0);const v=100,z=.1;F=setInterval(()=>{b(I=>{const y=I+z;return parseFloat(y.toFixed(1))})},v)}return()=>{F&&clearInterval(F)}},[s,l]),{timer:i,resetTimer:q}},Qa="http://localhost:4000",G=`${Qa}/api/highscores`,Za=async(s,l)=>(await B.post(`${G}/${s}/key/${l.levelKey}`,l)).data,et=async(s,l)=>(await B.get(`${G}/${s}/key/${l}`)).data,st=async s=>(await B.get(`${G}/${s}`)).data,at=async(s,l)=>(await B.delete(`${G}/${s}/id/${l}`)).data,tt=async(s,l,i)=>(await B.put(`${G}/${s}/id/${l._id}?userID=${i}`,l)).data,rt=async(s,l,i)=>(await B.delete(`${G}/${s}/player/${l}?userID=${i}`)).data,nt=async(s,l)=>(await B.post(`${G}/${s}/cleanup/${l}`)).data,ct=async(s,l,i,b)=>(await B.put(`${G}/${s}/player?userID=${b}`,{oldName:l,newName:i})).data,U={addHighScore:Za,getHighScoresByLevel:et,getAllHighScores:st,deleteHighScore:at,updateHighScore:tt,deleteHighScoresByPlayerName:rt,changePlayerName:ct,cleanUpHighScores:nt},Ee=localStorage.getItem("AppLanguage"),g=Ee?Ee.replace(/"/g,""):"en",it=()=>{const[s,l]=x.useState({}),[i,b]=x.useState(!0),[q,F]=x.useState(null);x.useEffect(()=>{(async()=>{try{const d=await U.getAllHighScores(g),t={};d.forEach(r=>{const[n,...w]=r.levelKey.split("_"),h=w.join("_");t[n]||(t[n]={}),t[n][h]||(t[n][h]=[]),t[n][h].push(r)}),Object.keys(t).forEach(r=>{Object.keys(t[r]).forEach(n=>{t[r][n]=t[r][n].sort((w,h)=>w.time-h.time).slice(0,5)})}),l(t)}catch(d){console.error(ee[g],d),F(ee[g])}finally{b(!1)}})()},[g]);const v=async p=>{try{const d=await U.addHighScore(g,p);if(d.highScore){const[t,...r]=d.highScore.levelKey.split("_"),n=r.join("_");return l(w=>{const h={...w};h[t]||(h[t]={}),h[t][n]||(h[t][n]=[]);const _=h[t][n]||[],k=_.findIndex(C=>{var T;return C._id===((T=d.highScore)==null?void 0:T._id)});let S;return k!==-1?(S=[..._],d.highScore&&(S[k]=d.highScore)):d.highScore?S=[..._,d.highScore]:S=[..._],S=S.sort((C,T)=>C.time-T.time).slice(0,5),h[t][n]=S,h}),await E(),d.highScore}else return}catch{F("Failed to add high score.");return}},z=async p=>{try{const d=await U.getHighScoresByLevel(g,p);return d.sort((t,r)=>t.time-r.time),d.slice(0,5)}catch(d){return console.error(ee[g],d),F(ee[g]),[]}},I=async p=>{try{const d=await U.deleteHighScore(g,p);d.success?l(t=>{const r={};return Object.keys(t).forEach(n=>{r[n]={...t[n]},Object.keys(r[n]).forEach(w=>{r[n][w]=r[n][w].filter(h=>h._id!==p)})}),r}):console.error(W[g],d.message)}catch(d){console.error(W[g],d),F(W[g])}},y=async(p,d)=>{try{const t=await U.updateHighScore(g,p,d);if(t.success&&t.highScore){const r=t.highScore,[n,...w]=r.levelKey.split("_"),h=w.join("_");l(_=>{_[n]||(_[n]={}),_[n][h]||(_[n][h]=[]);const k=_[n][h]||[],S=k.findIndex(C=>C._id===r._id);if(S!==-1){const C=[...k];C[S]=r;const T=C.sort((se,J)=>se.time-J.time).slice(0,5);return{..._,[n]:{..._[n],[h]:T}}}return _}),console.log(Ws[g])}else console.error(oe[g],t.message)}catch(t){console.error(oe[g],t),F(oe[g])}},A=async(p,d)=>{try{const t=await U.deleteHighScoresByPlayerName(g,p,d);t.success?l(r=>{const n={};return Object.keys(r).forEach(w=>{n[w]={},Object.keys(r[w]).forEach(h=>{n[w][h]=r[w][h].filter(_=>!_.players.some(k=>k.name===p))})}),n}):console.error(W[g],t.message)}catch(t){console.error(W[g],t),F(W[g])}},D=p=>{const t=[...p.players].sort((r,n)=>r.name.localeCompare(n.name)).map(r=>`${r.name}:${r.score}`).join("-");return`${p.levelKey}_${p.time}-${t}`},E=async()=>{const p=Object.values(s).flatMap(t=>Object.values(t)).flat(),d={};p.forEach(t=>{const r=D(t);d[r]||(d[r]=[]),d[r].push(t)});for(const t in d){const r=d[t];if(r.length>1){r.sort((h,_)=>new Date(_.createdAt??0).getTime()-new Date(h.createdAt??0).getTime());const[n,...w]=r;for(const h of w)h._id&&await I(h._id)}}};return{highScores:s,addHighScore:v,getHighScoresByLevel:z,deleteHighScore:I,updateHighScore:y,deleteHighScoresByPlayerName:A,changePlayerName:async(p,d,t)=>{try{await U.changePlayerName(g,p,d,t),l(r=>{const n={};return Object.keys(r).forEach(w=>{n[w]={},Object.keys(r[w]).forEach(h=>{n[w][h]=r[w][h].map(_=>{const k=_.players.map(S=>S.name===p?{...S,name:d}:S);return{..._,players:k}})})}),n})}catch(r){console.error("Failed to change player name.",r)}},loading:i,error:q}},Ce=x.memo(({timer:s})=>e.jsxs("span",{children:[s.toFixed(1),"s"]})),He=[e.jsx(Je,{}),e.jsx(Xe,{}),e.jsx(Qe,{}),e.jsx(Ze,{}),e.jsx(es,{}),e.jsx(ss,{}),e.jsx(as,{}),e.jsx(ts,{}),e.jsx(rs,{}),e.jsx(ns,{}),e.jsx(cs,{}),e.jsx(is,{}),e.jsx(os,{}),e.jsx(ls,{}),e.jsx(ds,{}),e.jsx(hs,{}),e.jsx(ms,{}),e.jsx(js,{}),e.jsx(ps,{}),e.jsx(us,{}),e.jsx(xs,{}),e.jsx(fs,{}),e.jsx(vs,{}),e.jsx(_s,{}),e.jsx(ws,{}),e.jsx(me,{}),e.jsx(gs,{}),e.jsx(ys,{}),e.jsx($s,{}),e.jsx(bs,{}),e.jsx(Ss,{}),e.jsx(Fs,{}),e.jsx(Ns,{}),e.jsx(Es,{}),e.jsx(Cs,{}),e.jsx(Hs,{}),e.jsx(qs,{}),e.jsx(ks,{}),e.jsx(Ps,{}),e.jsx(Is,{}),e.jsx(Ts,{}),e.jsx(As,{}),e.jsx(Ds,{}),e.jsx(Os,{}),e.jsx(Ls,{}),e.jsx(Ms,{}),e.jsx(Bs,{}),e.jsx(Gs,{}),e.jsx(zs,{}),e.jsx(Rs,{}),e.jsx(Us,{})],ot=["solo","duet"],Et=({language:s})=>{const l=Vs(),i=ba(a=>{var o;return(o=a.auth)==null?void 0:o.user}),{show:b}=Ys(),q=Js();x.useEffect(()=>{},[]);const F=[{value:H.icons,label:we[s]},{value:H.numbers,label:ge[s]},{value:H.letters,label:ye[s]}],[v,z]=le("memoryCardType",F[0]),I=[{value:4,icon:"4 × 4",label:`${Xs[s]}`},{value:6,icon:"6 × 6",label:`${Qs[s]}`},{value:8,icon:"8 × 8",label:`${Zs[s]}`},{value:10,icon:"10 × 10",label:`${ea[s]}`}],[y,A]=le("memoryGrid",I[1]),D=[1,2],[E,O]=le("memoryPlayers",[{id:1,name:`${R[s]} 1`,score:0}]),[p,d]=x.useState(""),[t,r]=x.useState(0),[n,w]=x.useState([]),[h,_]=x.useState([]),[k,S]=x.useState([]),[C,T]=x.useState([]),[se,J]=x.useState(!1),[L,ae]=x.useState(!1),[Ie,je]=x.useState(!1),{timer:te,resetTimer:Te}=Xa(Ie,"1ms"),{highScores:X,addHighScore:Ae,deleteHighScore:De,updateHighScore:lt,deleteHighScoresByPlayerName:Oe,changePlayerName:Le,loading:re,error:Q}=it(),[Me,pe]=x.useState(!1),[ne,Be]=x.useState(!1),[ue,Ge]=x.useState(null),{windowWidth:K}=Pe(),xe=()=>{let a=[];const o=y?Number(y.value)*Number(y.value)/2:0;if((v==null?void 0:v.value)===H.letters){const j=Array.from({length:o},(f,u)=>{const N=65+u%26;return Math.floor(u/26)%2===0?String.fromCharCode(N):String.fromCharCode(N+32)});a=[...j,...j]}else if((v==null?void 0:v.value)===H.numbers){const j=Array.from({length:o},(f,u)=>u.toString());a=[...j,...j]}else if((v==null?void 0:v.value)===H.icons){const f=[...He].sort(()=>Math.random()-.5).slice(0,o);a=[...f,...f]}const m=a.map((j,f)=>({value:j,id:f})).sort(()=>Math.random()-.5).slice(0,y?Number(y.value)*Number(y.value):0);w(m),_([]),T([]),ae(!0),je(!0),Te(),O(j=>j.map(f=>({...f,score:0}))),r(0),pe(!1)},fe=(a,o,m)=>`${m}_${a}x${a}_${o}`,ze=async()=>{pe(!0),ae(!1);const a=E.length===1?"solo":"duet",m={levelKey:fe(Number(y.value),v.value,a),time:te,players:E,size:Number(y.value),type:v.value},j=await Ae(m);j&&(Ge(j._id||null),Be(!0)),S([])};x.useEffect(()=>{if(ne){const a=E.length===1?"solo":"duet",o=fe(Number(y.value),v.value,a);setTimeout(()=>{const[m,...j]=o.split("_");j.join("_"),b({title:$e[s],className:"",children:e.jsxs("div",{id:"high-scores",className:`${c.modal} ${q?c.light:""}`,children:[e.jsx("h3",{children:$e[s]}),e.jsx("div",{className:`${c["high-scores"]}`,children:(()=>{const f=E.length===1?V.solo:V.duet;let u="";return f===V.solo?u=he[s]:f===V.duet&&(u=de[s]),e.jsxs(e.Fragment,{children:[e.jsx("h4",{children:u},f),re&&e.jsxs("p",{className:"flex center margin0auto textcenter",children:[be[s],"..."]}),Q&&e.jsxs("p",{children:[Q," — ",Se[s]]}),Object.keys(X[f]||{}).sort().map(N=>{var $,M;return e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("h5",{children:ve(`${N}`)}),e.jsx("ol",{children:(M=($=X[f])==null?void 0:$[N])==null?void 0:M.map((P,ce)=>e.jsx("li",{className:P._id===ue?c["new-score"]:"",children:e.jsxs("div",{children:[e.jsx("span",{children:P.players.map(ie=>e.jsxs("span",{children:[ie.name,": ",ie.score," "]},ie.id))}),e.jsxs("i",{className:c.time,children:[P.time.toFixed(1),"s"]})]})},P._id||`${ce}-${P.time.toFixed(1)}`))})]})},`${f}-${N}`)})]})})()})]})})},0)}else ne||Y(sa[s],!1,5)},[X,ne,ue,re,Q]);const Re=a=>{if(!(se||h.includes(a)||C.includes(a))&&(_(o=>[...o,a]),h.length===1)){J(!0);const o=h[0],m=a,j=n[o],f=n[m];j.value===f.value?(T(u=>[...u,o,m]),O(u=>u.map((N,$)=>$===t?{...N,score:N.score+1}:N)),_([]),J(!1)):setTimeout(()=>{_([]),S(u=>[...u,o,m]),J(!1),r(u=>(u+1)%E.length)},800)}};x.useEffect(()=>{L&&C.length===n.length&&n.length>0&&!Me&&(je(!1),setTimeout(()=>{ze()},1e3))},[L,C,n]);const Ue=a=>(v==null?void 0:v.value)===H.icons?a.value:e.jsx("span",{children:a.value}),Ke=(a,o)=>{if(/[^\p{L}0-9 ]/gu.test(o)){l(Y($a[s],!0,5));return}const f=o.replace(/[^\p{L}0-9 ]/gu,"").trim();O(u=>u.map((N,$)=>$===a?{...N,name:f||`${R[s]} ${$+1}`}:N))},We=a=>{O(o=>Array.from({length:a},(j,f)=>{const u=o[f];return u?{...u,id:f+1}:{id:f+1,name:`${R[s]} ${f+1}`,score:0}})),r(0)};x.useEffect(()=>{const a=He.map(m=>m.type.displayName||m.type.name),o=a.filter((m,j)=>a.indexOf(m)!==j);o.length>0&&console.log("Duplicate Icons Found:",o)},[]);const ve=a=>{const o=a.split("_");let m="",j=e.jsx(e.Fragment,{});return o[1]===H.numbers?(j=e.jsx("span",{className:c["title-svg"],children:e.jsx(ke,{"aria-hidden":"true"})}),m=ge[s]):o[1]===H.letters?(j=e.jsx("span",{className:c["title-svg"],children:e.jsx(qe,{"aria-hidden":"true"})}),m=ye[s]):o[1]===H.icons&&(j=e.jsx("span",{className:c["title-icon"],children:e.jsx(me,{"aria-hidden":"true"})}),m=we[s]),e.jsxs(e.Fragment,{children:[o[0]," ",j," ",e.jsx("br",{}),m]})};x.useEffect(()=>{L&&aa("game")},[L]);const _e=15;return e.jsxs("div",{id:c["game-container"],className:`${c.container} ${q?c.light:""}`,children:[!L&&C.length===n.length&&n.length>0&&e.jsx("section",{className:`card ${c.sectioncard}`,children:e.jsx("div",{children:e.jsxs("div",{className:c["game-over"],children:[e.jsx("h2",{children:ta[s]}),e.jsxs("p",{children:[ra[s],": ",e.jsx(Ce,{timer:te})]}),e.jsxs("div",{children:[e.jsxs("h3",{children:[na[s],":"]}),E.map(a=>e.jsxs("p",{children:[a.name,": ",a.score]},a.id))]}),e.jsx("button",{onClick:xe,children:ca[s]})]})})}),!L&&e.jsx("section",{className:`card ${c.sectioncard}`,children:e.jsx("div",{children:e.jsxs("div",{id:"settings",className:c.settings,children:[e.jsx("h2",{className:"scr",children:ia[s]}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("h3",{children:oa[s]}),e.jsx("div",{className:c["set-card-type"],children:F.map(a=>e.jsx(Ka,{option:a,isActive:(v==null?void 0:v.value)===a.value,onClick:()=>z(a)},a.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{children:la[s]}),e.jsx("div",{className:c["set-grid"],children:I.map(a=>e.jsx(Wa,{option:a,isActive:(y==null?void 0:y.value)===a.value,onClick:()=>A(a)},a.value))})]}),e.jsxs("div",{className:c["player-names-wrap"],children:[e.jsx("h3",{children:da[s]}),e.jsx("div",{className:c["set-players"],children:e.jsx(e.Fragment,{children:D.map(a=>e.jsx(Va,{language:s,value:a,isActive:E.length===a,onClick:()=>We(a)},a))})}),e.jsxs("div",{className:c["player-names"],children:[e.jsxs("small",{children:[ha[s],"."," ",ma[s]]}),E.map((a,o)=>e.jsxs("div",{className:"input-wrap",children:[e.jsxs("label",{children:[e.jsx("input",{type:"text",name:`player-${o}`,value:a.name,onChange:m=>Ke(o,m.target.value),maxLength:_e,placeholder:`${R[s]} ${o+1}`}),e.jsx("span",{children:`${R[s]} ${o+1} ${Fe[s].toLowerCase()}:`})]}),e.jsxs("small",{children:[a.name.length,"/",_e]})]},a.id))]})]})]}),e.jsx("button",{className:c.big,onClick:xe,children:ja[s]})]})})}),!L&&e.jsx("section",{className:`card ${c.sectioncard} ${c["scores-wrap"]}`,children:e.jsx("div",{children:e.jsxs("div",{id:"high-scores",children:[e.jsxs("h2",{children:[K>400&&e.jsx(Z,{"aria-hidden":"true",style:{transform:"scale(0.8, 0.8)"}}),pa[s]," ",K>400&&e.jsx(Z,{"aria-hidden":"true",style:{transform:"scale(-0.8, 0.8)"}})]}),e.jsxs("p",{className:"textcenter margin0auto",children:[K>200&&e.jsx("span",{"aria-hidden":"true",children:"— "}),ua[s],K>200&&e.jsx("span",{"aria-hidden":"true",children:" —"})]}),e.jsx("div",{className:c["high-scores"],children:ot.map(a=>{let o="";return a===V.solo?o=he[s]:a===V.duet&&(o=de[s]),e.jsxs(x.Fragment,{children:[e.jsxs("h3",{children:[K>200&&e.jsx(Z,{"aria-hidden":"true",style:{transform:"scale(0.8)"}}),o,K>200&&e.jsx(Z,{"aria-hidden":"true",style:{transform:"scale(-0.8)"}})]}),re&&e.jsxs("p",{className:"flex center margin0auto textcenter",children:[be[s],"..."]}),Q&&e.jsxs("p",{children:[Q," — ",Se[s]]}),Object.keys(X[a]||{}).sort().map(m=>{var j,f;return e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("h4",{children:ve(`${m}`)}),e.jsx("ol",{children:(f=(j=X[a])==null?void 0:j[m])==null?void 0:f.map((u,N)=>e.jsx("li",{children:e.jsxs("div",{children:[e.jsx("span",{children:u.players.map($=>e.jsxs(x.Fragment,{children:[e.jsxs("span",{children:[$.name," ",u.players.length>1?`: ${$.score}`:""," "]}),i&&i.role&&i.role>1&&e.jsx(xa,{hideBrackets:!0,language:s,id:`edit-${u._id}`,className:"edit",wrapperClass:`${c["edit-wrap"]}`,text:e.jsx(e.Fragment,{children:e.jsx(Ve,{"aria-hidden":"true"})}),isOpen:!1,closeClass:c.close,setIsFormOpen:()=>{},tooltip:fa[s],y:"above",children:e.jsx("form",{onSubmit:M=>{M.preventDefault();const P=$.name,ce=M.target.name;Le(P,ce,i==null?void 0:i._id)},children:e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{children:[e.jsx("input",{type:"text",name:"name",required:!0}),e.jsxs("span",{children:[va[s]," (",$.name,"):"]})]})})})})]},$.id))}),e.jsxs("span",{className:`flex ${c["time-wrap"]}`,children:[e.jsxs("i",{className:c.time,children:[u.time.toFixed(1),"s"]}),i&&i.role&&i.role>1&&e.jsx(e.Fragment,{children:e.jsxs("button",{type:"button",className:`danger small tooltip-wrap ${c["delete-btn"]}`,onClick:()=>{u._id&&window.confirm(_a[s])&&De(u._id).catch($=>{var M,P;console.error($),(P=(M=$.response)==null?void 0:M.data)!=null&&P.message?l(Y($.response.data.message,!0,8)):l(Y($.message,!0,5))})},children:[e.jsx("span",{"aria-hidden":"true",children:e.jsx(Ye,{"aria-hidden":"true"})}),e.jsx("span",{className:"tooltip above narrow2",children:Ne[s]})]})})]})]})},`${a}-${m}-${N}-${u.time.toFixed(1)}`))})]})},`${a}-${m}`)})]},a)})}),i&&i.role&&i.role>1&&e.jsxs("form",{className:`${c["delete-name-form"]}`,onSubmit:a=>{a.preventDefault(),window.confirm(wa[s])&&Oe(p,i==null?void 0:i._id).then(()=>{d("")}).catch(o=>{var m,j;console.error(o),(j=(m=o.response)==null?void 0:m.data)!=null&&j.message?l(Y(o.response.data.message,!0,8)):l(Y(o.message,!0,5))})},children:[e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{children:[e.jsx("input",{type:"text",name:"name",value:p,required:!0,onChange:a=>d(a.target.value)}),e.jsxs("span",{children:[Fe[s]," (",R[s],"):"]})]})}),e.jsx("button",{type:"submit",className:"danger",children:Ne[s]})]})]})})}),L&&e.jsx("section",{className:`card ${c.sectioncard} ${c.game}`,children:e.jsx("div",{children:e.jsxs("div",{id:"game",children:[e.jsxs("div",{className:c.header,children:[e.jsxs("div",{children:[ga[s],": ",e.jsx(Ce,{timer:te})]}),e.jsxs("div",{children:[R[s],": ",E[t].name," | ",ya[s],":"," ",E[t].score]})]}),e.jsx(Ja,{language:s,setGameStarted:ae,gridSize:y.value,cards:n,cardType:v,flippedCards:h,flippedOverCards:k,matchedCards:C,handleCardClick:Re,renderCardContent:Ue})]})})})]})};export{Et as default};
