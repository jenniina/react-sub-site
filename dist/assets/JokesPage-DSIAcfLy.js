import{j as e,r as n}from"./react-A9DAvxly.js";import{f$ as $s,g0 as Ct,g1 as gt,g2 as Qs,g3 as A,at as D,g4 as qt,u as Rt,dO as ve,g5 as Dt,g6 as St,g7 as Et,g8 as wt,g9 as et,ga as st,gb as tt,gc as Ws,gd as ks,ge as Ut,gf as Ks,gg as Vt,aZ as it,gh as ms,c6 as He,c5 as Nt,gi as pe,gj as ze,aE as ft,gk as Ys,gl as Hs,gm as Yt,gn as Ht,go as zt,gp as Qt,gq as Wt,gr as Kt,gs as zs,gt as Xt,gu as ut,gv as Zt,gw as Gt,gx as ei,b9 as $t,gy as si,gz as ti,gA as ii,gB as ai,gC as ri,gD as ni,gE as li,gF as fs,gG as ci,gH as I,gI as at,gJ as kt,gK as Tt,gL as oi,gM as di,gN as hi,bO as Lt,gO as fi,gP as ui,ax as rt,bS as pi,gQ as Xs,gR as Zs,gS as nt,gT as mi,gU as At,gV as xi,gW as lt,dP as vi,gX as It,gY as Se,gZ as yi,b0 as L,g_ as ji,g$ as Jt,h0 as Os,h1 as Ns,h2 as bi,h3 as Ci,h4 as gi,h5 as Si,h6 as Ei,h7 as pt,h8 as ge,h9 as wi,ha as Ni,aD as $i,hb as ki,hc as Ti,hd as Li,he as mt,fU as Ai,hf as Ii,hg as Ji,hh as Mi,hi as Pi,hj as Fi,hk as Oi,f3 as _i,hl as Gs,fQ as us,bR as xe,hm as xt,hn as Ae,ho as Ie,hp as Je,hq as Me,hr as Pe,hs as Fe,ht as Ps,hu as Fs,U as Mt,hv as Bi,bV as qi,bX as Ri,hw as Di,hx as Ui,hy as ts,hz as Vi,hA as Yi,hB as Hi,hC as ws,hD as zi,hE as Qi,hF as Wi,hG as Ki,hH as Xi,hI as Zi,hJ as Gi,hK as ea,hL as sa,hM as ta,hN as ia,hO as vt,H as aa,hP as ra,hQ as na,hR as la,cr as ca,cs as oa,hS as da,hT as ha,hU as fa,hV as ua,hW as pa,hX as ma,hY as xa}from"./index-nWW9Io9b.js";import{J as va,K as ya,N as ja,O as ba,P as Ca,Q as ga,S as Sa,U as Ea,V as wa,W as Na,X as $a,Y as ka,Z as Ta,u as yt,t as jt,_ as La,$ as Aa,a0 as Ia,a1 as Ja,x as bt}from"./react-icons-CMyplLKx.js";import{a as xs}from"./react-redux-CHm9GgGE.js";import{a as rs}from"./axios-BimPEqV4.js";import{v as Ma}from"./uuid-Dv1xt2bl.js";import{c as Pa}from"./react-router-344DmMNz.js";import"./hoist-non-react-statics-D5aJipOz.js";import"./react-dom-yh0erWL-.js";import"./scheduler-CzFDRTuY.js";import"./@reduxjs-DTZ4pglK.js";import"./immer-BNrqi0cU.js";import"./redux-CE3tqztX.js";import"./@babel-DF5_wy6Y.js";import"./redux-thunk-CY0Q9z1Q.js";import"./react-router-dom-BQMcumiI.js";import"./@remix-run-DTnHqtaE.js";import"./react-is-DUDD-a5e.js";import"./use-sync-external-store-DEc9BFqZ.js";const Fa=({joke:a,delivery:c,author:O,jokeCategory:t,reveal:E,setReveal:h,handleJokeSave:se,language:Y,visibleJoke:R,getCategoryInLanguage:J,subCategoryResults:x,jokeId:B,handleBlacklistUpdate:re})=>e.jsxs("form",{onSubmit:se,className:`joke-form-save ${a&&R?"fadeIn":""}`,children:[e.jsxs("article",{"aria-live":"polite",className:`joke ${R?"fadeIn":""}`,children:[e.jsx("p",{className:`${R?"fadeIn":""} ${c?"":"no-delivery"}`,children:e.jsxs("small",{children:[$s[Y],": ",J(t,Y)]})}),e.jsx("p",{className:`${R?"fadeIn":""} ${c?"":"no-delivery"}`,children:a}),e.jsx("button",{type:"button",onClick:()=>h(!E),className:`delivery ${c?"has-delivery":"no-delivery"} ${c&&!E?"reveal":""} ${R?"fadeIn":""}`,children:e.jsxs(e.Fragment,{children:[e.jsx("span",{...E?{"aria-hidden":!1}:{"aria-hidden":!0},children:Ct[Y]}),c?e.jsx("p",{"aria-live":"assertive",className:`${R?"fadeIn":""}`,children:E?"":c}):""]})}),O?e.jsx("p",{className:`author ${R?"fadeIn":""}`,children:e.jsxs("small",{children:[gt[Y],": ",O]})}):"",x.length>0?e.jsx("p",{className:`sub-categories ${R?"fadeIn":""}`,children:e.jsxs("small",{children:[$s[Y],":"," ",x.map(oe=>oe).join(", ")]})}):""]}),a||c?e.jsxs("div",{className:"save-delete-wrap",children:[e.jsx("button",{type:"submit",className:`submit ${R?"fadeIn":""}`,children:Qs[Y]}),e.jsx("button",{type:"button",className:`delete danger narrow ${R?"fadeIn":""}`,onClick:()=>re(B,Y,t===A.ChuckNorris&&Y===D.English?a:void 0),children:qt[Y]})]}):""]}),Oa="_toggle_1v4em_1",_a="_slider_1v4em_67",Ba="_light_1v4em_107",qa="_labels_1v4em_263",Ra="_equal_1v4em_411",hs={"toggle-container":"_toggle-container_1v4em_1",toggle:Oa,slider:_a,light:Ba,labels:qa,equal:Ra},as=({id:a,on:c,off:O,name:t,className:E,isChecked:h,handleToggleChange:se,equal:Y,label:R,hideLabel:J})=>{const x=Rt();return e.jsxs("div",{className:`${hs["toggle-container"]} toggle-container ${E}-container`,children:[e.jsx("span",{className:`label ${J?"scr":""}`,"aria-live":"polite",onClick:se,children:R}),e.jsxs("label",{htmlFor:`toggle-${a}`,className:`${hs.toggle} toggle ${E} focus-within ${x?hs.light:""} ${Y?hs.equal:""}`,children:[e.jsx("input",{type:"checkbox",name:t,id:`toggle-${a}`,checked:h,onChange:se,className:"scr"}),e.jsx("span",{className:`${hs.slider} slider`}),e.jsx("span",{className:`${hs.labels} labels`,"data-on":c,"data-off":O})]})]})},Da=({handleFormSubmit:a,jokeCategory:c,categoryValues:O,setCategoryValues:t,setJokeCategory:E,setQueryValue:h,getKeyByValue:se,setLanguage:Y,setQuery:R,joke:J,language:x,query:B,delivery:re,jokeId:oe,author:Ue,options:Qe,submitted:Oe,isCheckedSafemode:Ee,isCheckedJokeType:ne,handleToggleChangeSafemode:$,handleToggleChangeEJokeType:w,reveal:G,setReveal:de,handleJokeSave:_e,optionsCategory:N,categoryByLanguages:H,visibleJoke:M,setVisibleJoke:ye,norrisCategories:Z,selectedNorrisCategory:z,setSelectedNorrisCategory:X,hasNorris:$e,getCategoryInLanguage:Be,subCategoryResults:le,handleBlacklistUpdate:Q})=>(n.useEffect(()=>{setTimeout(()=>{const _=document.querySelectorAll(".select-container"),we=(_==null?void 0:_.length)+2;_==null||_.forEach((te,W)=>{const P=we-W;te.style.zIndex=`${P}`})},500)},[]),e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:_=>{_.preventDefault(),ye(!1),setTimeout(()=>{a(_)},400)},className:"joke",children:[e.jsxs("div",{className:"controls-wrap",children:[e.jsx(ve,{language:x,id:"language-joke",className:"language full",instructions:`${Dt[x]}:`,options:Qe(D),value:x?{value:x,label:se(D,x)}:void 0,onChange:_=>{Y(_==null?void 0:_.value),E(A.Misc)}}),e.jsxs("div",{className:"toggle-wrap",children:[e.jsx(as,{isChecked:Ee,name:"safemode",id:"safemode",className:`${x} ${Ee?"":"unsafe"} safemode`,label:`${St[x]}: `,on:Et[x],off:wt[x],handleToggleChange:$}),e.jsx(as,{isChecked:ne,name:"joketype",id:"joketype",className:`${x} joketype`,label:`${et[x]}: `,on:st[x],off:tt[x],handleToggleChange:w,equal:!0})]})]}),H?e.jsx(ve,{language:x,multiple:!0,id:"jokeCategory",className:"category",instructions:`${Ws[x]}:`,selectAnOption:ks[x],value:O,options:N(H),onChange:_=>{t(_),E(_==null?void 0:_.map(we=>we.value).join(","))}}):"",e.jsx(ve,{language:x,id:"jokeCategoryNorrisCategories",className:`category extras ${$e?"":"hidden"}`,instructions:`${Ut[x]}:`,selectAnOption:ks[x],value:z,options:Z,onChange:_=>{X(_)}}),e.jsxs("div",{className:"flex column center",children:[e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{htmlFor:"queryValue",children:[e.jsx("input",{type:"text",id:"queryValue",name:"queryValue",value:B,onChange:_=>{R(_.target.value),h(encodeURIComponent(_.target.value)+"&")}}),e.jsx("span",{children:Ks[x]})]})}),e.jsx("button",{id:"generate-joke",type:"submit",children:Vt[x]})]})]}),e.jsx("div",{className:`downwards-arrow ${Oe?"play":""}`,children:"⟱"}),e.jsx(Fa,{joke:J,delivery:re,author:Ue,jokeId:oe,reveal:G,jokeCategory:c,setReveal:de,handleJokeSave:_e,language:x,visibleJoke:M,getCategoryInLanguage:Be,subCategoryResults:le,handleBlacklistUpdate:Q})]})),_s="https://api.chucknorris.io/jokes",Ua=async()=>(await rs.get(`${_s}/categories`)).data,Va=async()=>(await rs.get(`${_s}/random`)).data,Ya=async a=>(await rs.get(`${_s}/random?category=${a}`)).data,Ha=async a=>{const c=await rs.get(`${_s}/search?query=${a}`);if(!c.data.result||c.data.result.length===0)return;const O=Math.floor(Math.random()*c.data.result.length);return c.data.result[O]},is={getNorrisCategories:Ua,getFullyRandomNorrisJoke:Va,getRandomJokeFromNorrisCategory:Ya,searchNorrisJoke:Ha},ct="https://icanhazdadjoke.com/",za=async()=>(await rs.get(ct,{headers:{Accept:"application/json"}})).data,Qa=async a=>{const c=await rs.get(`${ct}/search?term=${a}&limit=100`,{headers:{Accept:"application/json"}});if(!c.data||c.data.results.length===0)return;const O=Math.floor(Math.random()*c.data.results.length);return c.data.results[O]},Wa=async a=>(await rs.get(`${ct}/j/${a}`,{headers:{Accept:"application/json"}})).data,ps={getRandomDadJoke:za,searchDadJokes:Qa,getDadJokeById:Wa},Ka=({user:a,handleDelete:c,handleUpdate:O,language:t,isCheckedSafemode:E,setIsCheckedSafemode:h,handleToggleChangeSafemode:se,translateWordLanguage:Y,optionsSortBy:R,getKeyofEnum:J,options:x,norrisCategories:B,getCategoryInLanguage:re,setIsEditOpen:oe,editId:Ue,setEditId:Qe,handleRemoveJokeFromBlacklisted:Oe,handleBlacklistUpdate:Ee})=>{var Ms;const ne=xs(s=>s.users),$=a==null?void 0:a._id,w=xs(s=>{var p;return(p=s.jokes)==null?void 0:p.jokes}),[G,de]=n.useState([]),[_e,N]=n.useState({}),[H,M]=n.useState(!1),[ye,Z]=n.useState(G),[z,X]=n.useState(!1),[$e,Be]=n.useState([]),[le,Q]=n.useState(!1),[_,we]=n.useState(0),[te,W]=n.useState("popularity"),[P,ns]=n.useState(""),[je,Ve]=n.useState(""),[be,g]=n.useState(""),[qe,fe]=n.useState(!1),[F,We]=n.useState(B[0]),[vs,ce]=n.useState(void 0),[Ke,Ts]=n.useState(D.English),[ys,js]=n.useState(A.Misc),[ls,Bs]=n.useState("newest"),[Xe,qs]=n.useState(!0),[he,ue]=n.useState(3),[Ne,Ze]=n.useState(!1),Ce=it();n.useEffect(()=>{if(Array.isArray(w)&&w.length>0&&Array.isArray(ne)&&(ne==null?void 0:ne.length)>0){let s=w==null?void 0:w.map(p=>{const v=a==null?void 0:a.name,b=ms[t][J(D,p.language)];return{...p,visible:!1,translatedLanguage:b??"",name:p.anonymous?"ÖÖÖ_Anonymous":v??""}});s=E?E?s.filter(p=>p.safe).sort((p,v)=>{var b,T;return((b=v.user)==null?void 0:b.length)-((T=p.user)==null?void 0:T.length)}):[]:s.filter(p=>p.safe===!1).sort((p,v)=>{var b,T;return((b=v.user)==null?void 0:b.length)-((T=p.user)==null?void 0:T.length)}),de(s)}},[w,ne,t,E,te,ls,Xe]),n.useEffect(()=>{Bs(Xe?"newest":"oldest")},[Xe]);const ie=()=>{qs(s=>!s)};n.useEffect(()=>{Ce(He()),Ce(Nt()),Ce(pe())},[]),n.useEffect(()=>{const s=je===A.ChuckNorris;fe(s)},[je]);const bs=s=>{Te(1),ns(s.target.value)},m=()=>{Ve(""),g(""),We(Re[0]),ns(""),Q(!1),we(s=>s+1),W("popularity"),Te(1),h(!0)},Ls=s=>{Ve(s.value)};n.useEffect(()=>{setTimeout(()=>{const s=document.querySelectorAll(".select-container"),p=(s==null?void 0:s.length)+2;s==null||s.forEach((v,b)=>{const T=p-b;v.style.zIndex=`${T}`})},500)},[z]),n.useEffect(()=>{M(!$)},[$]);const Rs=s=>{N(p=>({...p,[s]:!p[s]}))};n.useEffect(()=>{Te(1);let s=[...G];te==="age"&&(s=[...G].sort((v,b)=>{const T=v.createdAt?new Date(v.createdAt).getTime():0,q=b.createdAt?new Date(b.createdAt).getTime():0;return ls==="newest"?q-T:T-q})),s=s==null?void 0:s.filter(v=>{var b,T,q,ae,i,r,l,u,o;if(v){const S=("joke"in v?(b=v.joke)==null?void 0:b.toLowerCase().includes(P.toLowerCase()):!1)||("setup"in v?(T=v.setup)==null?void 0:T.toLowerCase().includes(P.toLowerCase()):!1)||("delivery"in v?(q=v.delivery)==null?void 0:q.toLowerCase().includes(P.toLowerCase()):!1)||((ae=v.name)==null?void 0:ae.toLowerCase().includes(P.toLowerCase()))||((i=v.category)==null?void 0:i.toLowerCase().includes(P.toLowerCase()))||((r=v.subCategories)==null?void 0:r.includes(P==null?void 0:P.toLowerCase()))||((l=v.translatedLanguage)==null?void 0:l.toLowerCase().includes(P.toLowerCase())),k=je?v.category===je:!0,U=be!==""?v.language===be:!0,y=(F==null?void 0:F.value)!==""&&(F==null?void 0:F.value)!=="any"?(u=v.subCategories)==null?void 0:u.includes(F==null?void 0:F.value):!0;return H&&v.private===!1&&v.verified===!0||H&&v.private===void 0||!H&&((o=v.user)!=null&&o.includes($))?U&&k&&y&&S:!1}}),s=s==null?void 0:s.filter(v=>{var T;return!((T=a==null?void 0:a.blacklistedJokes)==null?void 0:T.some(q=>q.jokeId===v.jokeId&&q.language===v.language))}),te==="popularity"&&(s=s==null?void 0:s.sort((v,b)=>{var T,q;return((T=b.user)==null?void 0:T.length)-((q=v.user)==null?void 0:q.length)})),te==="category"&&(s=s==null?void 0:s.sort((v,b)=>v.category>b.category?1:-1)),te==="language"&&(s=s==null?void 0:s.sort((v,b)=>v.translatedLanguage>b.translatedLanguage?1:-1)),te==="name"&&(s=s==null?void 0:s.sort((v,b)=>v.name>b.name?1:-1));const p=s.slice(0,he);if(le&&s.length>0){const v=s[Math.floor(Math.random()*s.length)];Z([v])}else Z(Ne?p:s)},[H,G,je,be,F,P,le,_,ls,te,Ne,he]);const Ds=s=>{let p=s;s==="Chuck Norris"?p="ChuckNorris":s==="Dad Joke"&&(p="DadJoke"),Ve(p)},Us=s=>{var v;const p=w==null?void 0:w.find(b=>b._id===s);if(!p){Ce(L(`${ji[t]}`,!0,8));return}if(p){if((v=p.user)!=null&&v.includes($==null?void 0:$.toString())){Ce(L(`${Jt[t]}`,!1,8));return}Ce(Os({...p,user:[...p.user,$]})).then(()=>{Ce(pe()),Ce(L(`${Ns[t]}`,!1,8))})}};let Re=Array.from(new Set((Ms=G==null?void 0:G.filter(s=>s.private===!1&&s.verified===!0||s.private===void 0))==null?void 0:Ms.flatMap(s=>s.subCategories))).map(s=>{const p=s?ze[s][t]||s:"",v=(p==null?void 0:p.charAt(0).toUpperCase())??s??"",b=(p==null?void 0:p.slice(1))??s??"";return{label:v+b,value:s}});Re=Re.filter(s=>s.value!=="any"),Re.unshift({label:ze.any[t].charAt(0).toUpperCase()+ze.any[t].slice(1),value:"any"}),n.useEffect(()=>{We(Re[0])},[t]),n.useEffect(()=>{(async()=>{var p;if(Array.isArray(w)&&w.length>0&&a&&(a!=null&&a.blacklistedJokes)){const v=await Promise.all(((p=a==null?void 0:a.blacklistedJokes)==null?void 0:p.map(async b=>{let T=b.value;return(w==null?void 0:w.find(ae=>{var i,r;return((i=ae.jokeId)==null?void 0:i.toString())===((r=b.jokeId)==null?void 0:r.toString())&&ae.language===b.language}))??await As(b.jokeId,b.language,T??void 0)}))||[]);Be(v)}})()},[a==null?void 0:a.blacklistedJokes,w]);const ke=$e==null?void 0:$e.filter(s=>{var p,v,b,T,q;if(s)return("joke"in s?(p=s.joke)==null?void 0:p.toLowerCase().includes(P.toLowerCase()):!1)||("setup"in s?(v=s.setup)==null?void 0:v.toLowerCase().includes(P.toLowerCase()):!1)||("delivery"in s?(b=s.delivery)==null?void 0:b.toLowerCase().includes(P.toLowerCase()):!1)||((T=s.category)==null?void 0:T.toLowerCase().includes(P.toLowerCase()))||((q=s.subCategories)==null?void 0:q.includes(P==null?void 0:P.toLowerCase()))}),As=async(s,p,v)=>{var b,T,q,ae,i,r,l,u,o,S,k,U,y,C,K;try{if(v){let f;try{f=await is.searchNorrisJoke(v)}catch(d){return console.error(d),null}finally{return{jokeId:f.id,joke:f.value,category:A.ChuckNorris,language:D.English,type:I.single,safe:!((b=f.categories)!=null&&b.includes("explicit")||(T=f.categories)!=null&&T.includes("political")||(q=f.categories)!=null&&q.includes("religion"))}}}else{const d=await(await fetch(`https://v2.jokeapi.dev/joke/Any?idRange=${s}&lang=${p}&format=json`)).json();if(d.error){const V=await ps.getDadJokeById(s);return{jokeId:V.id,joke:V.joke,category:A.DadJoke,language:D.English,type:I.single,safe:!0}}else return d.type==="twopart"?{jokeId:d.id,setup:d.setup,delivery:d.delivery,category:d.category,language:d.lang,type:I.twopart,safe:!((ae=d.flags)!=null&&ae.nsfw||(i=d.flags)!=null&&i.religious||(r=d.flags)!=null&&r.political||(l=d.flags)!=null&&l.racist||(u=d.flags)!=null&&u.sexist||(o=d.flags)!=null&&o.explicit||!d.safe)}:{jokeId:d.id,joke:d.joke,category:d.category,language:d.lang,type:I.single,safe:!((S=d.flags)!=null&&S.nsfw||(k=d.flags)!=null&&k.religious||(U=d.flags)!=null&&U.political||(y=d.flags)!=null&&y.racist||(C=d.flags)!=null&&C.sexist||(K=d.flags)!=null&&K.explicit||!d.safe)}}}catch(f){return console.error(f),null}};n.useEffect(()=>{$||X(!1)},[$]);const[ee,Te]=n.useState(1),[Ge,Is]=n.useState(10),[cs,Cs]=n.useState(1),[Js,gs]=n.useState(3),es=s=>{Te(s),s<=2?(Cs(1),gs(3)):s>=j.length-1?(Cs(j.length-2),gs(j.length)):(Cs(s-1),gs(s+1))};n.useEffect(()=>{ee||Te(1)},[ee]);const os=ee*Ge,Vs=os-Ge,me=ye==null?void 0:ye.slice(Vs,os),j=[];for(let s=1;s<=Math.ceil((ye==null?void 0:ye.length)/Ge);s++)j==null||j.push(s);const Ye=j==null?void 0:j.slice(cs-1,Js);n.useEffect(()=>{ee>j.length&&Te(1)},[j]);const ss=s=>{navigator.clipboard.writeText(s).then(function(){Ce(L(`${bi[t]}`,!1,3))},function(){Ce(L(`${Ci[t]}`,!0,3))})},ds=s=>e.jsxs("div",{className:"pagination",children:[(j==null?void 0:j.length)>1&&e.jsx("div",{children:e.jsxs("span",{children:[ee," / ",j==null?void 0:j.length]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"chevrons-wrap back",children:[e.jsxs("button",{className:`inner-nav-btn first ${ee===1?"disabled":""} ${(j==null?void 0:j.length)<=3?"hidden":""}`,disabled:ee===1,onClick:()=>es(1),children:[e.jsx(jt,{})," ",e.jsx("span",{className:"scr",children:gi[t]})]}),e.jsx("button",{className:`inner-nav-btn back ${ee===1?"disabled":""} ${(j==null?void 0:j.length)<=3?"hidden":""}`,disabled:ee===1,onClick:()=>es(ee-1),children:e.jsx(Ia,{})})]}),e.jsx("div",{className:`numbers${(j==null?void 0:j.length)===1?" hidden":""}`,children:Ye==null?void 0:Ye.map(p=>e.jsx("button",{className:`${p>9?"over9":p>99?"over99":p>999?"over999":""} ${p===ee?"active":""}`,onClick:()=>es(p),children:p},p))}),e.jsxs("div",{className:"chevrons-wrap forward",children:[e.jsx("button",{className:`inner-nav-btn forward ${ee===(j==null?void 0:j.length)?"disabled":""} ${(j==null?void 0:j.length)<=3?"hidden":""}`,disabled:ee===(j==null?void 0:j.length),onClick:()=>es(ee+1),children:e.jsx(Ja,{})}),e.jsxs("button",{className:`inner-nav-btn last tooltip-wrap ${ee===(j==null?void 0:j.length)?"disabled":""} ${(j==null?void 0:j.length)<=3?"hidden":""}`,disabled:ee===(j==null?void 0:j.length),onClick:()=>es(j==null?void 0:j.length),children:[e.jsx(yt,{}),e.jsxs("span",{className:"tooltip narrow left below",children:[Si[t],": ",j==null?void 0:j.length]})]})]})]}),e.jsxs("div",{children:[e.jsx("input",{"aria-labelledby":"items-per-page",className:"items-per-page narrow",name:"items-per-page",id:`items-per-page-input-${s}`,type:"number",min:"1",max:"100",defaultValue:Ge,onChange:p=>Is(p.target.valueAsNumber>0?p.target.valueAsNumber:1)})," ",e.jsx("span",{id:"items-per-page",children:Ei[t]})," "]})]});return e.jsxs("div",{className:"saved",id:"saved",children:[$&&e.jsxs("div",{className:"local-saved-wrap",children:[e.jsx("button",{className:`btn${H&&!z?" active":""}`,onClick:()=>{M(!0),X(!1)},children:H?Ys[t]:ft[t]}),e.jsx("button",{className:`btn${!H&&!z?" active":""}`,onClick:()=>{M(!1),X(!1)},children:Hs[t]})]}),e.jsxs("div",{className:"saved-inner",children:[e.jsx("div",{className:"filler"}),e.jsxs("div",{children:[!z&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{children:H?Ys[t]:Hs[t]}),H&&e.jsxs("p",{className:"mb3 flex center textcenter",children:[" ",Yt[t]]}),e.jsxs("div",{className:"toggle-wrap",children:[e.jsxs("div",{className:"toggle-inner-wrap",children:[e.jsxs("div",{className:"safemode-wrap",children:[e.jsx(as,{isChecked:E,name:"safemode",id:"safemode2",className:`${t} ${E?"":"unsafe"} userjokes safemode`,label:`${Ht[t]}: `,hideLabel:!1,on:Et[t],off:wt[t],handleToggleChange:se}),te==="age"&&e.jsx(as,{isChecked:Xe,name:"age",id:"age",className:`${t} age`,label:`${zt[t]}: `,hideLabel:!1,on:Qt[t],off:Wt[t],handleToggleChange:()=>{ie()},equal:!0})]}),e.jsx("div",{className:"sortby-wrap",children:e.jsx(ve,{language:t,id:"sortby",className:"sortby",instructions:`${Kt[t]}:`,options:R(zs),value:{label:zs[te][D[J(D,t)]],value:zs[te][D[J(D,t)]]},onChange:s=>{W(s==null?void 0:s.value)}})})]}),e.jsxs("div",{className:"toggle-inner-wrap",children:[e.jsx("div",{children:e.jsx(ve,{language:t,id:"joke-languages",className:"language-filter",instructions:`${Xt[t]}:`,options:[{label:ut[t],value:""},...Array.from(new Set(G==null?void 0:G.map(s=>s.language))).map(s=>({label:ms[s][J(D,s)],value:s}))],value:be?{label:ms[be][J(D,be)],value:be}:{label:ut[t],value:""},onChange:s=>{g(s==null?void 0:s.value)}})}),e.jsx("div",{children:e.jsx(ve,{language:t,id:"single-category-select",className:"single-category-select",instructions:`${Zt[t]}:`,options:[{label:Ws[t],value:""},...Object.values(A).map(s=>({label:re(s,t),value:s}))],value:je?{label:re(je,t),value:je}:{label:Ws[t],value:""},onChange:s=>{Ve(s==null?void 0:s.value),Ls(s),Ds(s==null?void 0:s.value)}})})]}),e.jsxs("div",{className:"toggle-inner-wrap",children:[e.jsx("div",{children:e.jsx(ve,{language:t,id:"userNorrisCategories",className:`category extras ${qe?"":"hidden"}`,instructions:`${Gt[t]}:`,selectAnOption:Re[0].label,value:F,options:Re,onChange:s=>{We(s)}})}),e.jsx("div",{className:qe?"search-jokes-wrap":"full search-jokes-wrap",children:e.jsx("div",{className:"search-jokes input-wrap",children:e.jsxs("label",{htmlFor:"search-jokes",children:[e.jsx("input",{type:"text",id:"search-jokes",value:P,onChange:bs,placeholder:ei[t]}),e.jsx("span",{children:Ks[t]})]})})})]})]}),e.jsx("div",{className:"reset-btn-wrap mb3",children:e.jsxs("button",{className:"reset-btn delete danger",onClick:()=>m(),children:[e.jsx(va,{})," ",e.jsx("span",{children:$t[t]})]})})]}),e.jsxs("div",{className:"button-wrap",children:[!z&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:`icontext random-btn ${le?"active":""}`,onClick:()=>{Te(1),X(!1),Q(!0),we(s=>s+1),Ze(!1)},children:[si[t]," ",e.jsx(ya,{})]})," ",e.jsxs("button",{className:`icontext all-or-latest-btn ${!le&&!Ne?"active":""}`,onClick:()=>{Q(!1),X(!1),Ze(!1)},children:[ti[t]," ",e.jsx(ja,{})]}),e.jsxs("div",{className:"flex center",children:[e.jsxs("button",{className:`icontext all-or-latest-btn ${Ne?"active":""}`,onClick:()=>{Q(!1),X(!1),Bs("newest"),W("age"),Ze(!0)},children:[ii[t],e.jsx("span",{className:"scr",children:he})," ",he===3&&e.jsx(ba,{}),he===4&&e.jsx(Ca,{}),he===5&&e.jsx(ga,{}),he===6&&e.jsx(Sa,{}),he===7&&e.jsx(Ea,{}),he===8&&e.jsx(wa,{}),he===9&&e.jsx(Na,{}),he>9&&e.jsx($a,{})]}),e.jsxs("div",{children:[e.jsx("input",{type:"number",min:3,max:100,id:"number-of-latest",defaultValue:he,className:"narrow",onChange:s=>{ue(s.target.valueAsNumber)}}),e.jsx("label",{htmlFor:"number-of-latest",className:"scr",children:e.jsx("span",{children:ai[t]})})]})]})]}),a&&e.jsx("button",{className:`blocked-btn danger ${z?"active":""}`,onClick:()=>X(s=>!s),children:z?e.jsxs(e.Fragment,{children:[ri[t]," ",e.jsx(ka,{})]}):e.jsxs(e.Fragment,{children:[ni[t]," ",e.jsx(Ta,{})]})})]}),!le&&!z&&ds(1),a&&z&&(ke==null?void 0:ke.length)>0?e.jsx("div",{className:"blocked-controls-wrap",children:e.jsx("div",{className:"input-wrap search-blacklist",children:e.jsxs("label",{htmlFor:"searchBlacklistedJokes",children:[e.jsx("input",{id:"searchBlacklistedJokes",type:"text",onChange:bs}),e.jsx("span",{children:Ks[t]})]})})}):z?e.jsx("p",{className:"textcenter",children:li[t]}):"",e.jsx("ul",{className:`userjokeslist ${z?"blockedJokes":""}`,children:a&&z?ke==null?void 0:ke.map((s,p)=>{var v,b;return e.jsxs("li",{children:[e.jsx("form",{onSubmit:T=>{var q,ae;Ce(fs(s)),Oe(T,s,(ae=(q=a==null?void 0:a.blacklistedJokes)==null?void 0:q[p])==null?void 0:ae._id)},children:e.jsx("button",{className:"",type:"submit",children:ci[t]})}),s?s.type===I.single?e.jsx("p",{children:s.joke}):e.jsxs("div",{children:[e.jsx("p",{children:s.setup}),e.jsx("p",{children:s.delivery})]}):""]},((b=(v=a==null?void 0:a.blacklistedJokes)==null?void 0:v[p])==null?void 0:b.jokeId)??p)}):me&&(me==null?void 0:me.length)>0?me==null?void 0:me.map(s=>{var T,q,ae,i,r,l,u,o,S,k,U;const{visible:p,translatedLanguage:v,...b}=s;return e.jsxs("li",{children:[e.jsx("div",{className:"primary-wrap",children:s.type===I.single?e.jsx("p",{className:"",children:s.joke}):e.jsxs("div",{children:[e.jsx("p",{className:"",children:s.setup}),e.jsx("p",{children:s.delivery?e.jsxs("button",{type:"button",onClick:()=>Rs(s.jokeId),className:`${_e[s.jokeId]?"reveal":""} delivery`,children:[e.jsxs("span",{..._e[s.jokeId]?{"aria-hidden":!0}:{"aria-hidden":!1},children:[e.jsx(yt,{})," ",Ct[t]," ",e.jsx(jt,{})]}),e.jsx("p",{"aria-live":"assertive",children:_e[s.jokeId]?s.delivery:""})]}):""})]})}),e.jsxs("div",{className:"secondary-wrap",children:[e.jsxs("div",{children:[e.jsxs("span",{children:[$s[t],":"," ",re(s.category,t)," ",s.subCategories&&((T=s.subCategories)==null?void 0:T.length)>0&&((q=s.subCategories)!=null&&q.find(y=>y!=="any"))?e.jsxs(e.Fragment,{children:["(",(i=(ae=s.subCategories)==null?void 0:ae.filter(y=>y!=="any"))==null?void 0:i.map(y=>ze[y][t].toLowerCase()??y).join(", "),")"]}):""]}),e.jsxs("span",{children:[Y,": ",s.translatedLanguage]}),s.anonymous?e.jsxs("span",{children:[at[t]," "]}):s.anonymous===!1?e.jsxs("span",{children:[gt[t],": ",s.name??""]}):"",!H&&$&&s.private?e.jsx("span",{children:kt[t]}):!H&&$&&s.private===!1?e.jsx("span",{children:Tt[t]}):"",s.private===!1&&s.verified===!1&&e.jsx("span",{children:oi[t]}),((r=s.user)==null?void 0:r.length)>1&&e.jsxs("span",{children:[di[t]," ",(l=s.user)==null?void 0:l.length]})]}),e.jsxs("div",{children:[$&&((u=s.user)==null?void 0:u.includes($))&&e.jsx("form",{onSubmit:s.type===I.single?c(s==null?void 0:s._id,s==null?void 0:s.joke):c(s==null?void 0:s._id,s==null?void 0:s.setup),className:"button-wrap",children:e.jsx("button",{type:"submit",className:"delete danger",children:((o=s.user)==null?void 0:o.length)>1?hi[t]:Lt[t]})}),s.author!==$&&!((S=s.user)!=null&&S.includes($))&&e.jsx("button",{onClick:()=>Ee(s.jokeId,s.language,s.category===A.ChuckNorris&&s.type===I.single?s.joke:void 0),className:"delete danger",children:fi[t]}),!((k=s.user)!=null&&k.includes($))&&e.jsxs("button",{onClick:()=>Us(s._id),className:"save",children:[Qs[t]," ",e.jsx(La,{})]}),e.jsxs("button",{onClick:()=>ss(s.type===I.single?s.joke:s.setup+` 
`+s.delivery),children:[ui[t]," ",e.jsx(Aa,{})]}),$&&((U=s.user)==null?void 0:U.includes($))&&s.author===$&&e.jsx(rt,{language:t,id:`joke-edit-${s.jokeId}`,className:"joke-edit",text:pi[t],onClick:()=>{Ts(s.language),js(s.category),ce(b),Qe(s.jokeId)},isOpen:Ue===s.jokeId,setIsFormOpen:oe,children:e.jsxs("form",{onSubmit:O(s==null?void 0:s._id,vs??s),className:"joke-edit",children:[e.jsx("div",{className:"edit-wrap",children:s.private===!0&&s.type===I.twopart?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{htmlFor:"edit-setup",children:[e.jsx("input",{required:!0,type:"text",name:"edit-setup",id:"setup",defaultValue:s.setup,onChange:y=>{ce(C=>({...C,setup:y.target.value}))}}),e.jsx("span",{children:Xs[t]})]})}),e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{htmlFor:"edit-delivery",children:[e.jsx("input",{required:!0,type:"text",name:"delivery",id:"edit-delivery",defaultValue:s.delivery,onChange:y=>{ce(C=>({...C,delivery:y.target.value}))}}),e.jsx("span",{children:Zs[t]})," "]})})]}):s.private===!0&&s.type===I.single?e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{htmlFor:"edit-joke",children:[e.jsx("input",{required:!0,type:"text",name:"joke",id:"edit-joke",defaultValue:s.joke,onChange:y=>{ce(C=>({...C,joke:y.target.value}))}}),e.jsx("span",{children:nt[t]})]})}):e.jsxs("div",{children:[mi[t],"."," ",At[t]," ",xi[t]]})}),s.private===!0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex column center gap",children:[e.jsx(ve,{language:t,id:"edit-language",className:"edit-language",instructions:`${lt[t]}:`,hide:!0,options:x(D),value:{label:ms[Ke][J(D,Ke)],value:Ke},onChange:y=>{Ts(y==null?void 0:y.value),ce(C=>({...C,language:y==null?void 0:y.value}))}}),e.jsx(ve,{language:t,id:"edit-category",className:"edit-category",instructions:`${vi[t]}:`,hide:!0,options:[{label:ks[t],value:""},...Object.values(A).map(y=>({label:re(y,t),value:y}))],value:{label:re(ys,t),value:ys},onChange:y=>{const{visible:C,translatedLanguage:K,...f}=s;js(y==null?void 0:y.value),ce(()=>({...f,category:y==null?void 0:y.value}))}})]}),e.jsxs("fieldset",{children:[e.jsx("legend",{children:It[t]}),e.jsxs("div",{className:"checkbox-wrap",children:[e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",id:"flag-nsfw",name:"nsfw",value:"nsfw",onChange:()=>{ce(()=>({...b,nsfw:!s.flags.nsfw}))}}),e.jsx("label",{htmlFor:"flag-nsfw",children:Se[t].nsfw})]}),e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",id:"flag-religious",name:"religious",value:"religious",onChange:()=>{ce(()=>({...b,religious:!s.flags.religious}))}}),e.jsx("label",{htmlFor:"flag-religious",children:Se[t].religious})]}),e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",id:"flag-political",name:"political",value:"political",onChange:()=>{ce(()=>({...b,political:!s.flags.political}))}}),e.jsx("label",{htmlFor:"flag-political",children:Se[t].political})]}),e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",id:"flag-racist",name:"racist",value:"racist",onChange:()=>{ce(()=>({...b,racist:!s.flags.racist}))}}),e.jsx("label",{htmlFor:"flag-racist",children:Se[t].racist})]}),e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",id:"flag-sexist",name:"sexist",value:"sexist",onChange:()=>{ce(()=>({...b,sexist:!s.flags.sexist}))}}),e.jsx("label",{htmlFor:"flag-sexist",children:Se[t].sexist})]}),e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",id:"flag-explicit",name:"explicit",value:"explicit",onChange:()=>{ce(()=>({...b,explicit:!s.flags.explicit}))}}),e.jsx("label",{htmlFor:"flag-explicit",children:Se[t].explicit})]})]})]})]}),e.jsxs("fieldset",{className:"flex center gap margin0auto",children:[e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",name:"anonymous",id:"edit-anonymous",defaultChecked:s.anonymous,onChange:()=>{const{visible:y,translatedLanguage:C,...K}=s;ce(()=>({...K,anonymous:!s.anonymous}))}}),e.jsx("label",{htmlFor:"edit-anonymous",children:"Anonymous:"})]}),e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",name:"private",id:"edit-private",defaultChecked:s.private,onChange:()=>{const{visible:y,translatedLanguage:C,...K}=s;ce(()=>({...K,private:!s.private}))}}),e.jsx("label",{htmlFor:"edit-private",children:"Private:"})]})]}),e.jsx("button",{type:"submit",className:"save",children:Qs[t]})]})})]})]})]},s._id)}):e.jsx("li",{children:yi[t]})}),!le&&!z&&ds(2)]}),e.jsx("div",{className:"filler below"})]}),$&&e.jsxs("div",{className:"local-saved-wrap below",children:[e.jsx("button",{className:`btn${H&&!z?" active":""}`,onClick:()=>{M(!0),X(!1)},children:H?Ys[t]:ft[t]}),e.jsx("button",{className:`btn${!H&&!z?" active":""}`,onClick:()=>{M(!1),X(!1)},children:Hs[t]})]})]})},Xa=({userId:a,language:c,optionsCategory:O,categoryByLanguages:t,jokeCategoryByLanguage:E,options:h,getKeyByValue:se,norrisCategories:Y})=>{const[R,J]=n.useState(D[pt[c]]),[x,B]=n.useState(I.single),[re,oe]=n.useState(Xs.en),[Ue,Qe]=n.useState(Zs.en),[Oe,Ee]=n.useState(""),[ne,$]=n.useState(""),[w,G]=n.useState(""),[de,_e]=n.useState(!0),[N,H]=n.useState(!0),[M,ye]=n.useState(!1),[Z,z]=n.useState({label:E[c].Misc,value:ge.Misc}),X=wi[c],[$e,Be]=n.useState(""),[le,Q]=n.useState(Y[0]),[_,we]=n.useState(!1),[te,W]=n.useState(!1);n.useEffect(()=>{const g=$e===A.ChuckNorris;we(g)},[$e]);const P=it(),ns=g=>{g.preventDefault(),W(!0);const qe=g.currentTarget.nsfw.checked||g.currentTarget.religious.checked||g.currentTarget.political.checked||g.currentTarget.racist.checked||g.currentTarget.sexist.checked||g.currentTarget.explicit.checked;let fe;fe={jokeId:Ma(),category:(Z==null?void 0:Z.value)??A.Misc,subCategories:(Z==null?void 0:Z.label)===A.ChuckNorris?[le==null?void 0:le.value]:[],language:R,type:I.single,user:[a],private:N,verified:!!N,anonymous:M,author:a,safe:!((Z==null?void 0:Z.value)===ge.Dark||qe),flags:{nsfw:g.currentTarget.nsfw.checked,religious:g.currentTarget.religious.checked,political:g.currentTarget.political.checked,racist:g.currentTarget.racist.checked,sexist:g.currentTarget.sexist.checked,explicit:g.currentTarget.explicit.checked}},x===I.single?fe={...fe,joke:Oe,type:I.single}:fe={...fe,setup:ne,delivery:w,type:I.twopart},P(Gs(fe)).then(F=>{P(us(a)).then(()=>P(He())).then(()=>{P(pe()),Ee(""),$(""),G(""),W(!1)}),P(L(`${Ns[c]}. ${F.message??""}`,!1,8))}).catch(F=>{console.error(F),W(!1),F.code==="ERR_BAD_RESPONSE"?P(L(`${xe[c]}: ${F.response.data.message}. ${xt[c]}`,!0,8)):(W(!1),P(L(`${xe[c]}: ${F.message}. ${xt[c]}`,!0,8)))})};n.useEffect(()=>{B(de?I.twopart:I.single)},[de]);const je=()=>{_e(!de)},Ve=()=>{H(!N)},be=()=>{ye(!M)};return n.useEffect(()=>{oe(Xs[c]),Qe(Zs[c])},[c]),n.useEffect(()=>{setTimeout(()=>{const g=document.querySelectorAll(".select-container"),qe=(g==null?void 0:g.length)+2;g==null||g.forEach((fe,F)=>{const We=qe-F;fe.style.zIndex=`${We}`})},500)},[]),e.jsx(rt,{language:c,text:Ni[c],className:"submit",children:e.jsxs("div",{className:"submit-inner",children:[e.jsx("h3",{children:$i[c]}),e.jsxs("p",{className:"textcenter",children:[ki[c]," jenniina.fi"]}),e.jsx("p",{className:"textcenter mb3",children:Ti[c]}),e.jsxs("form",{onSubmit:ns,className:"form-submit-new",children:[e.jsxs("div",{className:"toggle-wrap",children:[e.jsx(as,{isChecked:de,name:"submit-joketype",id:"submit-joketype",hideLabel:!1,label:`${et[c]}: `,className:`${c} submit joketype`,on:st[c],off:tt[c],handleToggleChange:je,equal:!0}),e.jsx(as,{isChecked:N,name:"submit-private",id:"submit-private",hideLabel:!1,label:`${Li[c]}: `,className:`${c} submit private`,on:kt[c],off:Tt[c],handleToggleChange:Ve,equal:!1}),e.jsx(as,{isChecked:M,name:"submit-anonymous",id:"submit-anonymous",hideLabel:!1,label:`${mt[c]}: `,className:`${c} submit anonymous`,on:at[c],off:Ai[c],handleToggleChange:be,equal:!1})]}),x===I.single?e.jsxs("label",{htmlFor:"submit-joke-single-input",className:"textarea-wrap",children:[e.jsx("span",{children:nt[c]}),e.jsx("textarea",{name:"joke",id:"submit-joke-single-input",required:!0,value:Oe,onChange:g=>{Ee(g.target.value)}})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{htmlFor:"submit-setup-input",children:[e.jsx("input",{type:"text",id:"submit-setup-input",name:"setup",required:!0,value:ne,onChange:g=>{$(g.target.value)}}),e.jsx("span",{children:re})]})}),e.jsx("div",{className:"input-wrap",children:e.jsxs("label",{htmlFor:"submit-delivery-input",children:[e.jsx("input",{type:"text",id:"submit-delivery-input",name:"delivery",value:w,onChange:g=>{G(g.target.value)},required:!0}),e.jsx("span",{children:Ue})]})})]}),t?e.jsxs(e.Fragment,{children:[e.jsx(ve,{language:c,id:"submit-category-select",className:"submit",instructions:`${$s[c]}:`,selectAnOption:X,value:Z,options:O(t),onChange:g=>{z(g),Be(g==null?void 0:g.label)}}),e.jsx(ve,{language:c,id:"jokeCategoryNorrisCategories-submit",className:`category extras narrow ${_?"":"hidden"}`,instructions:"Chuck Norris Category:",selectAnOption:ks[c],value:le,options:Y,onChange:g=>{Q(g)}})]}):"",e.jsx(ve,{language:c,id:"submit-language",className:"submit narrow",instructions:`${Ii[c]}:`,options:h(D),value:c?{value:D[pt[R]],label:se(D,R)}:void 0,onChange:g=>{J(g==null?void 0:g.value)}}),e.jsxs("fieldset",{children:[e.jsx("legend",{children:It[c]}),e.jsxs("div",{className:"checkbox-wrap",children:[e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",id:"flag-nsfw",name:"nsfw",value:"nsfw"}),e.jsx("label",{htmlFor:"flag-nsfw",children:Se[c].nsfw})]}),e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",id:"flag-religious",name:"religious",value:"religious"}),e.jsx("label",{htmlFor:"flag-religious",children:Se[c].religious})]}),e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",id:"flag-political",name:"political",value:"political"}),e.jsx("label",{htmlFor:"flag-political",children:Se[c].political})]}),e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",id:"flag-racist",name:"racist",value:"racist"}),e.jsx("label",{htmlFor:"flag-racist",children:Se[c].racist})]}),e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",id:"flag-sexist",name:"sexist",value:"sexist"}),e.jsx("label",{htmlFor:"flag-sexist",children:Se[c].sexist})]}),e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",id:"flag-explicit",name:"explicit",value:"explicit"}),e.jsx("label",{htmlFor:"flag-explicit",children:Se[c].explicit})]})]})]}),e.jsxs("p",{children:[N?Ji[c]:Mi[c],e.jsx("br",{}),e.jsx("br",{}),M?Pi[c]:mt[c]]}),e.jsx("button",{type:"submit",className:"small",id:"submit-new-joke",children:te?Fi[c]:N?Oi[c]:_i[c]})]})]})})},Pt={en:{Programming:ge.Programming,Misc:ge.Misc,Dark:ge.Dark,Pun:ge.Pun,Spooky:ge.Spooky,Christmas:ge.Christmas,ChuckNorris:ge.ChuckNorris,DadJoke:ge.DadJoke},es:{Programming:Ae.Programming,Misc:Ae.Misc,Dark:Ae.Dark,Pun:Ae.Pun,Spooky:Ae.Spooky,Christmas:Ae.Christmas,ChuckNorris:Ae.ChuckNorris,DadJoke:Ae.DadJoke},fr:{Programming:Ie.Programming,Misc:Ie.Misc,Dark:Ie.Dark,Pun:Ie.Pun,Spooky:Ie.Spooky,Christmas:Ie.Christmas,ChuckNorris:Ie.ChuckNorris,DadJoke:Ie.DadJoke},de:{Programming:Je.Programming,Misc:Je.Misc,Dark:Je.Dark,Pun:Je.Pun,Spooky:Je.Spooky,Christmas:Je.Christmas,ChuckNorris:Je.ChuckNorris,DadJoke:Je.DadJoke},pt:{Programming:Me.Programming,Misc:Me.Misc,Dark:Me.Dark,Pun:Me.Pun,Spooky:Me.Spooky,Christmas:Me.Christmas,ChuckNorris:Me.ChuckNorris,DadJoke:Me.DadJoke},cs:{Programming:Pe.Programming,Misc:Pe.Misc,Dark:Pe.Dark,Pun:Pe.Pun,Spooky:Pe.Spooky,Christmas:Pe.Christmas,ChuckNorris:Pe.ChuckNorris,DadJoke:Pe.DadJoke},fi:{Programming:Fe.Programming,Misc:Fe.Misc,Dark:Fe.Dark,Pun:Fe.Pun,Spooky:Fe.Spooky,Christmas:Fe.Christmas,ChuckNorris:Fe.ChuckNorris,DadJoke:Fe.DadJoke}},Za={en:"Any",es:"Cualquiera",fr:"N'importe quel",de:"Irgendein",pt:"Qualquer",cs:"Jakýkoliv",fi:"Mikä tahansa"};function Ga({language:a,setLanguage:c}){const O=xs(i=>{var r;return(r=i.jokes)==null?void 0:r.jokes}),t=xs(i=>{var r;return(r=i.jokes)==null?void 0:r.joke}),E=xs(i=>i.users),h=xs(i=>{var r;return(r=i.auth)==null?void 0:r.user}),se={en:ge,es:Ae,fr:Ie,de:Je,pt:Me,cs:Pe,fi:Fe},Y=lt[a],[R,J]=n.useState(""),[x,B]=n.useState(""),[re,oe]=n.useState(""),[Ue,Qe]=n.useState(se.en),[Oe,Ee]=n.useState(a),[ne,$]=n.useState(A.Misc),[w,G]=n.useState([]),[de,_e]=n.useState([{value:"any",label:"Any"}]),[N,H]=n.useState(de[0]),[M,ye]=n.useState([]),[Z,z]=n.useState(I.twopart),[X,$e]=n.useState(!1),[Be,le]=n.useState(Ps.Safe),[Q,_]=n.useState(!0),[we,te]=n.useState(Fs.None),[W,P]=n.useState(""),[ns,je]=n.useState(""),[Ve,be]=n.useState(!1),[g,qe]=n.useState(!0),[fe,F]=n.useState(""),[We,vs]=n.useState(!1),[ce,Ke]=n.useState(!1),[Ts,ys]=n.useState(!1),[js,ls]=n.useState(!1),[Bs,Xe]=n.useState(!1),[qs,he]=n.useState(null),[ue,Ne]=n.useState([]),[Ze,Ce]=n.useState(6),[ie,bs]=n.useState({nsfw:!1,religious:!1,political:!1,racist:!1,sexist:!1,explicit:!1}),m=it();n.useEffect(()=>{const i=!!(w!=null&&w.find(r=>r.value==="ChuckNorris"));ls(W===""?i:!1)},[W,w,js]),n.useEffect(()=>{m(Nt())},[]),n.useEffect(()=>{m(He())},[]),n.useEffect(()=>{m(pe())},[]),n.useEffect(()=>{a&&(Qe(se[a]),G(w.map(i=>({...i,label:se[a][i.value]}))))},[a]);const Ls=()=>{_(!Q)},Rs=()=>{$e(!X)};n.useEffect(()=>{le(Q?Ps.Safe:Ps.Unsafe)},[Q]),n.useEffect(()=>{z(X?I.twopart:I.single)},[X]);const Ds=i=>{i.preventDefault(),setTimeout(()=>{ys(!0)},400),qe(!0),setTimeout(()=>{me(),be(!0),setTimeout(()=>{be(!1)},5500);const r=document.querySelector("#queryValue");r&&r.scrollIntoView({behavior:"smooth"})},600)},Us=(i,r)=>async l=>{if(l.preventDefault(),window.confirm(`${Lt[a]} ${nt[a].toLowerCase()} "${r}"?`))try{m(Ui(i,h==null?void 0:h._id)).then(()=>{m(pe())})}catch(u){console.error(ts[a],u)}else return},Re=(i,r)=>async l=>{l.preventDefault();const u=O.find(k=>k._id===i);if(!u){m(L(`${xe[a]}!`,!0,8));return}const o=async k=>{var U,y;try{await m(Os(k)),await m(pe());const C=await m(Os({...k,verified:!1,_id:i}));m(L(`${Ns[a]}. ${C.message??""}`,!1,8)),he(null),Xe(!1)}catch(C){console.error(C);const K=(C==null?void 0:C.code)==="ERR_BAD_RESPONSE"?(y=(U=C==null?void 0:C.response)==null?void 0:U.data)==null?void 0:y.message:(C==null?void 0:C.message)??"";m(L(`${xe[a]}: ${K}`,!0,8))}},S=()=>{u.private===!0&&r.private===!1?r.category===A.Dark||Object.values(r.flags).some(k=>k)?o({...r,private:!0,verified:!1,safe:!1}):o({...r,private:!0,verified:!1,_id:i}):r.category!=A.Dark&&!Object.values(r.flags).some(k=>k)?o({...r,safe:!0,_id:i}):r.category===A.Dark||Object.values(r.flags).some(k=>k)?o({...r,safe:!1,_id:i}):o(r)};u.private===!0&&r.private===!1?window.confirm(Vi[a])&&S():u.private===!1&&r.private===!0?window.confirm(Yi[a])&&S():S()},ke=i=>Object.keys(i).map(r=>({value:i[r],label:r})),As=i=>Object.entries(i).map(([r,l])=>({value:r,label:l})),ee=i=>Object.entries(i).map(([r,l])=>({value:r,label:l[a]}));function Te(i,r){for(const l in i)if(i[l]===r)return l}function Ge(i,r){return Object.keys(i).find(l=>i[l]===r)}function Is(i,r){return Math.random()*(r-i)+i}const[cs,Cs]=n.useState(void 0);n.useEffect(()=>{const i=O==null?void 0:O.find(r=>r.jokeId.toString()===(t==null?void 0:t.jokeId.toString())&&r.language===(t==null?void 0:t.language)&&r.category===(t==null?void 0:t.category));i&&Cs(i)},[t,O]);const Js=i=>{var r;if(i.preventDefault(),h){if(cs){if(cs.user.includes((r=h==null?void 0:h._id)==null?void 0:r.toString())){m(L(`${Jt[a]}`,!1,8));return}m(Os({...cs,user:[...cs.user,h==null?void 0:h._id]})).then(()=>pe()).catch(l=>{m(L(`${xe[a]}:: ${(l==null?void 0:l.message)??""}`,!0,8))})}else t&&(t==null?void 0:t.type)===I.single?m(Gs({jokeId:(t==null?void 0:t.jokeId.toString())??fe.toString(),joke:R,type:I.single,category:(t==null?void 0:t.category)??ne??A.Misc,subCategories:(t==null?void 0:t.subCategories)??(M==null?void 0:M.length)>0?M:void 0,language:(t==null?void 0:t.language)??Oe,safe:!Object.values(ie).some(l=>l),user:[h._id],flags:{nsfw:t==null?void 0:t.flags.nsfw,religious:t==null?void 0:t.flags.religious,political:t==null?void 0:t.flags.political,racist:t==null?void 0:t.flags.racist,sexist:t==null?void 0:t.flags.sexist,explicit:t==null?void 0:t.flags.explicit}})).then(()=>{m(pe())}).catch(l=>{m(L(`${xe[a]}*: ${(l==null?void 0:l.message)??""}`,!0,8))}):t&&(t==null?void 0:t.type)===I.twopart&&m(Gs({jokeId:(t==null?void 0:t.jokeId.toString())??fe.toString(),setup:R,delivery:x,type:I.twopart,category:(t==null?void 0:t.category)??ne??A.Misc,subCategories:(M==null?void 0:M.length)>0?M:void 0,language:(t==null?void 0:t.language)??Oe,safe:!Object.values(t==null?void 0:t.flags).some(l=>l),user:[h._id],flags:{nsfw:t==null?void 0:t.flags.nsfw,religious:t==null?void 0:t.flags.religious,political:t==null?void 0:t.flags.political,racist:t==null?void 0:t.flags.racist,sexist:t==null?void 0:t.flags.sexist,explicit:t==null?void 0:t.flags.explicit}})).then(()=>{m(pe())}).catch(l=>{m(L(`${xe[a]}: ${(l==null?void 0:l.message)??""}`,!0,8))});m(L(`${Ns[a]}`,!1,8))}else{m(L(`${Hi[a]}`,!1,8));return}},gs=async(i,r,l,u)=>{var o,S,k,U,y,C,K,f,d,V,Le,Ss,Es;if(ds(i.id)){me();return}if(u&&ue.some(De=>De.jokeId===i.jokeId&&De.language===a)){me();return}Ne(De=>[...De,{jokeId:i.id,language:a}]),(ue==null?void 0:ue.length)>Ze&&Ne(De=>De.slice(1)),$(r),ye(l??[]),m(fs({jokeId:i.id.toString(),joke:i.joke||i.value,type:I.single,category:r,subCategories:l&&(l==null?void 0:l.length)>0?l:void 0,language:D.English,safe:!((o=i==null?void 0:i.categories)!=null&&o.includes("explicit")||(S=i==null?void 0:i.categories)!=null&&S.includes("political")||(k=i==null?void 0:i.categories)!=null&&k.includes("religion")),user:i.user,flags:{nsfw:((U=i.categories)==null?void 0:U.nsfw)??!1,religious:((y=i.categories)==null?void 0:y.religion)??!1,political:((C=i.categories)==null?void 0:C.political)??!1,racist:((K=i.categories)==null?void 0:K.racist)??!1,sexist:((f=i.categories)==null?void 0:f.sexist)??!1,explicit:((d=i.categories)==null?void 0:d.explicit)??!1}})),bs({explicit:((V=i==null?void 0:i.categories)==null?void 0:V.includes("explicit"))??!1,religious:((Le=i==null?void 0:i.categories)==null?void 0:Le.includes("religious"))??!1,political:((Ss=i==null?void 0:i.categories)==null?void 0:Ss.includes("political"))??!1,racist:!1,sexist:!1,nsfw:((Es=i==null?void 0:i.categories)==null?void 0:Es.includes("explicit"))??!1}),J(i.joke||i.value),B(""),F(i.id),Ee(D.English),J(i.joke||i.value)},es=()=>{const i=Be===Ps.Unsafe?de.filter(u=>u.value!=="any"):de.filter(u=>u.value!=="any"&&u.value!=="explicit"&&u.value!=="religion"&&u.value!=="political"),r=Math.floor(Math.random()*(i==null?void 0:i.length));return i[r]},[os,Vs]=n.useState([]);n.useEffect(()=>{if(Array.isArray(O)&&(O==null?void 0:O.length)>0&&Array.isArray(E)&&(E==null?void 0:E.length)>0){let i=O==null?void 0:O.map(r=>{const l=E==null?void 0:E.find(o=>o._id==r.author),u=ms[a][Ge(D,r.language)];return{...r,translatedLanguage:u??"",name:r.anonymous?at[a]:(l==null?void 0:l.name)??""}});i=Q?Q?i.filter(r=>r.safe).sort((r,l)=>{var u,o;return((u=l.user)==null?void 0:u.length)-((o=r.user)==null?void 0:o.length)}):[]:i.filter(r=>r.safe===!1).sort((r,l)=>{var u,o;return((u=l.user)==null?void 0:u.length)-((o=r.user)==null?void 0:o.length)}),Vs(i)}},[O,E,a,Q]);const me=async(i=0)=>{const r=w.map(f=>f.value);if(i>5)return;const l=f=>{if(f&&(f==null?void 0:f.length)>0&&Array.isArray(E)&&(E==null?void 0:E.length)>0){const d=f[Math.floor(Math.random()*(f==null?void 0:f.length))];if(ue.some(V=>V.jokeId===d.jokeId&&V.language===a)){me();return}if(Ne(V=>[...V,{jokeId:d.jokeId,language:a}]),(ue==null?void 0:ue.length)>Ze&&Ne(V=>V.slice(1)),d){if(F(d.jokeId),Ee(a),$(d.category),"joke"in d?J(d.joke):"setup"in d&&J(d.setup),B("delivery"in d?d==null?void 0:d.delivery:""),(d.private===!1||d.private===void 0)&&d.anonymous===!1){const V=E==null?void 0:E.find(Le=>Le._id==d.author);oe((V==null?void 0:V.name)??"")}else oe("");m(fs(d));return}else{m(L(`${xe[a]}! ${ws[a]}. ${vt[a]}`,!0,8)),J(""),B(""),oe("");return}}else{m(L(`${xe[a]}! ${ws[a]}. ${vt[a]}`,!0,8)),J(""),B(""),oe("");return}},u=X?I.twopart:I.single,o=os==null?void 0:os.filter(f=>f.language===a&&((r==null?void 0:r.length)===0||r.includes(f.category))&&(f.private===!1&&f.verified===!0||f.private===void 0)&&f.safe===Q&&f.type===u),S=(w==null?void 0:w.length)<1,k=w.some(f=>f.value==="ChuckNorris"),U=w.some(f=>f.value==="DadJoke"),y=W.trim()!==""||W!=="&";Ee(a);let C=o;if(y){const f=W.replace(/&$/,"");C=o==null?void 0:o.filter(d=>{var V,Le,Ss,Es,De,ot,dt,ht;if(d){const Ft=("joke"in d?(V=d.joke)==null?void 0:V.toLowerCase().includes(f.toLowerCase()):!1)||("setup"in d?(Le=d.setup)==null?void 0:Le.toLowerCase().includes(f.toLowerCase()):!1)||("delivery"in d?(Ss=d.delivery)==null?void 0:Ss.toLowerCase().includes(f.toLowerCase()):!1)||((Es=d.name)==null?void 0:Es.toLowerCase().includes(f.toLowerCase()))||((De=d.category)==null?void 0:De.toLowerCase().includes(f.toLowerCase()))||((ot=d.subCategories)==null?void 0:ot.includes(f==null?void 0:f.toLowerCase()))||((dt=d.translatedLanguage)==null?void 0:dt.toLowerCase().includes(f.toLowerCase())),Ot=(r==null?void 0:r.length)>0?r.includes(d.category):!0,_t=d.language===a,Bt=(N==null?void 0:N.value)!==""&&(N==null?void 0:N.value)!=="any"?(ht=d.subCategories)==null?void 0:ht.includes(N==null?void 0:N.value):!0;return d.safe===Q&&d.type===u&&(d.private===!1&&d.verified===!0||d.private===void 0)?_t&&Ot&&Bt&&Ft:!1}})}if(C=C==null?void 0:C.filter(f=>{var V;return!((V=h==null?void 0:h.blacklistedJokes)==null?void 0:V.some(Le=>Le.jokeId===f.jokeId&&Le.language===f.language))}),C&&(C==null?void 0:C.length)>0&&a===D.Suomi){l(C);return}else if(C&&(C==null?void 0:C.length)>0&&Math.random()<.1){l(C);return}const K=W.replace(/&$/,"");if(k||U){if(a!==D.English){l(C);return}else if(k&&U){const f=Math.floor(Is(1,2.999));if(f===1&&k){if(!await j(is,y?K:null,A.ChuckNorris,!y)){Ye();return}}else if(f>1&&U&&!await j(ps,y?K:null,A.DadJoke,!y)){Ye();return}}else if(k){if(!await j(is,y?K:null,A.ChuckNorris,!y)){Ye();return}}else if(U&&!await j(ps,y?K:null,A.DadJoke,!y)){Ye();return}}else if(S&&!X){const f=Math.floor(Is(1,10.999)),d=y?K:null;f===1?await j(is,d,A.ChuckNorris,!y)||await j(ps,d,A.DadJoke,!1):f===2?await j(ps,d,A.DadJoke,!1)||await j(is,d,A.ChuckNorris,!y):f>2&&ss()}else ss()};async function j(i,r,l,u){let o;try{if(l===A.ChuckNorris&&i===is)if(!Q&&(!(N!=null&&N.value)||(N==null?void 0:N.value)==="any"))o=await i.getFullyRandomNorrisJoke();else if(N!=null&&N.value&&(N==null?void 0:N.value)!=="any")o=await i.getRandomJokeFromNorrisCategory(N==null?void 0:N.value);else{const S=es();o=r?await i.searchNorrisJoke(r):await i.getRandomJokeFromNorrisCategory(S.value)}else l===A.DadJoke&&i===ps&&(o=r?await i.searchDadJokes(r):await i.getRandomDadJoke());if(!o)ss();else{if(ds(o.id)){me();return}$(l),F(o.id),await gs(o,l,(o==null?void 0:o.subCategories)??[],u)}}catch(S){console.error(S),ss()}finally{}return!!o}const Ye=()=>{m(L(`${xe[a]}! ${ws[a]}`,!0,8)),J(""),B("")};n.useEffect(()=>{(w==null?void 0:w.length)<1&&$(null)},[w]);const ss=(i=0)=>{const l=w.map(o=>o.value).filter(o=>o!=="ChuckNorris"&&o!=="DadJoke"),u=(l==null?void 0:l.length)>0?l.join(","):"Any";fetch(`https://v2.jokeapi.dev/joke/${u}?${we}${W}lang=${a}&format=json${Be}&type=${Z}`).then(o=>o.json()).then(o=>{var S,k,U,y,C,K;if(!(i>5)){if(ds(o.id)||we===Fs.None&&ue.some(f=>f.jokeId===o.jokeId&&f.language===a)){ss(i+1);return}if(Ne(f=>[...f,{jokeId:o.id,language:a}]),(ue==null?void 0:ue.length)>Ze&&Ne(f=>f.slice(1)),bs({nsfw:((S=o.flags)==null?void 0:S.nsfw)??!1,religious:((k=o.flags)==null?void 0:k.religious)??!1,political:((U=o.flags)==null?void 0:U.political)??!1,racist:((y=o.flags)==null?void 0:y.racist)??!1,sexist:((C=o.flags)==null?void 0:C.sexist)??!1,explicit:((K=o.flags)==null?void 0:K.explicit)??!1}),$(o.category),o.error)if(u==="Any"){m(L(`${xe[a]}! ${ws[a]}. ${zi[a]}`,!0,10)),J(""),B(""),F("");return}else{J(""),B(""),m(L(`${xe[a]}! ${ws[a]}`,!0,8)),F("");return}Z===I.twopart?(m(fs({jokeId:o.id.toString(),setup:o.setup,delivery:o.delivery,type:I.twopart,category:o.category,subCategories:(M==null?void 0:M.length)>0?M:void 0,language:a,safe:!(ne===A.Dark||!Object.values(ie).some(f=>f)),user:h?[h._id]:[],flags:{nsfw:ie.nsfw,religious:ie.religious,political:ie.political,racist:ie.racist,sexist:ie.sexist,explicit:ie.explicit}})),$(o.category),J(o.setup),B(o.delivery),F(o.id)):(m(fs({jokeId:o.id.toString(),joke:o.joke,type:I.single,category:o.category,subCategories:(M==null?void 0:M.length)>0?M:void 0,language:a,safe:!(ne===A.Dark||!Object.values(ie).some(f=>f)),user:h?[h._id]:[],flags:{nsfw:ie.nsfw,religious:ie.religious,political:ie.political,racist:ie.racist,sexist:ie.sexist,explicit:ie.explicit}})),$(o.category),J(o.joke),B(""),F(o.id))}}).catch(o=>{console.error(o),m(L(`${xe[a]}! ${o.response.data.message}`,!0,8))})};function ds(i){var r;return((r=h==null?void 0:h.blacklistedJokes)==null?void 0:r.some(l=>l.jokeId===i&&l.language===a))??!1}const Ms=async()=>{const i=await is.getNorrisCategories(),r=s(i),l=Q?r.filter(u=>u.value!=="explicit"&&u.value!=="religion"&&u.value!=="political"):r;Q&&H(r[0]),_e(l)};n.useEffect(()=>{Ms()},[Be]),n.useEffect(()=>{W.trim()===""||W==="&"?te(Fs.None):te(Fs.Contains),W==="&"&&P("")},[W]),n.useEffect(()=>{const i=document.querySelector(".login-container.closed button.open"),r=document.querySelector(".login-container.open button.close"),l=document.querySelector(".register-container.closed button.open"),u=document.querySelector(".register-container.open button.close");i==null||i.addEventListener("click",()=>{ce===!0&&(u==null||u.click()),vs(!0),Ke(!1)}),l==null||l.addEventListener("click",()=>{We===!0&&(r==null||r.click()),Ke(!0),vs(!1)}),r==null||r.addEventListener("click",()=>{vs(!1)}),u==null||u.addEventListener("click",()=>{Ke(!1)})},[]);const s=(i,r)=>{var u;const l=(u=Object.entries(i))==null?void 0:u.map(([o,S])=>({value:S,label:ze[S]&&ze[S][a]?ze[S][a]:S.charAt(0).toUpperCase()+S.slice(1)}));return l.unshift({value:"any",label:ze.any[a]||ks[a]}),l},p=(i,r)=>{const l={en:ge,es:Ae,fr:Ie,de:Je,pt:Me,cs:Pe,fi:Fe};let u=i;return i===A.ChuckNorris&&(u="ChuckNorris"),i===A.DadJoke&&(u="DadJoke"),l[r][u]},v=Pa(),b=()=>{v("/portfolio/jokes?register=register")},T=()=>{v("/portfolio/jokes?login=login")},q=(i,r,l)=>{var u;if(window.confirm(`${Qi[r]}`))if((u=h==null?void 0:h.blacklistedJokes)==null?void 0:u.some(S=>S.jokeId===i&&S.language===r)){m(L(Wi[r],!0,3)),m(us(h==null?void 0:h._id)).then(()=>m(He())),J(""),B(""),oe(""),F("");return}else Array.isArray(E)&&h?m(Ki(h==null?void 0:h._id)).then(S=>{const k=S==null?void 0:S.find(U=>{var y;return((y=U.jokeId)==null?void 0:y.toString())===(i==null?void 0:i.toString())&&U.language===r});k&&m(Xi(k==null?void 0:k._id)).then(()=>m(pe()))}).then(()=>{m(Zi(h==null?void 0:h._id,i,r,l)).then(()=>{m(L(`${Gi[r]}`,!1,3)),m(pe()).then(()=>m(us(h==null?void 0:h._id))).then(()=>m(He())).then(()=>{J(""),B(""),oe(""),F("")})}).catch(S=>{console.error(S),m(pe()).then(()=>m(us(h==null?void 0:h._id))).then(()=>m(He())),m(L(`${ts[r]}`,!1,3)),J(""),B(""),oe(""),F("")})}):m(L(`${ts[r]}`,!1,3))},ae=(i,r,l)=>{i.preventDefault(),m(fs(r)),window.confirm(`${ea[a]}`)&&(h?m(sa(h==null?void 0:h._id,l,r==null?void 0:r.language)).then(u=>{m(pe()).then(()=>m(us(h==null?void 0:h._id))).then(()=>m(He())).then(()=>m(L(`${ta[a]}`,!1,3)))}).catch(u=>{console.error(u),m(L(`${ts[a]}`,!1,3))}):m(L(`${ts[a]}`,!1,3))),setTimeout(()=>{window.confirm(`${ia[a]}`)&&(h?(Js(i),m(pe()).then(()=>m(us(h==null?void 0:h._id))).then(()=>m(He())).then(()=>m(L(`${Ns[a]}`,!1,8))).catch(u=>{console.error(u),m(L(`${ts[a]}`,!1,3))})):m(L(`${ts[a]}`,!1,3)))},600)};return e.jsxs(e.Fragment,{children:[e.jsx("section",{className:`joke-container card ${a}`,id:"jokeform",children:e.jsx("div",{children:e.jsxs("div",{className:"jokes-wrap",children:[e.jsx("h2",{children:Mt[a]}),e.jsx("p",{className:"center textcenter mb3",children:Bi[a]}),e.jsx(Da,{handleFormSubmit:Ds,jokeCategory:ne,setJokeCategory:$,categoryValues:w,setCategoryValues:G,setQueryValue:P,setLanguage:c,language:a,joke:R,delivery:x,jokeId:fe,author:re,options:ke,getKeyByValue:Te,query:ns,setQuery:je,isCheckedSafemode:Q,isCheckedJokeType:X,handleToggleChangeSafemode:Ls,handleToggleChangeEJokeType:Rs,submitted:Ve,reveal:g,setReveal:qe,handleJokeSave:Js,optionsCategory:As,categoryByLanguages:Ue,visibleJoke:Ts,setVisibleJoke:ys,norrisCategories:de,selectedNorrisCategory:N,setSelectedNorrisCategory:H,hasNorris:js,getCategoryInLanguage:p,subCategoryResults:M,handleBlacklistUpdate:q})]})})}),e.jsx("section",{className:`joke-container ${a}`,children:e.jsxs("div",{children:[h?e.jsxs("p",{className:"textcenter",children:[Di[a]," ",h==null?void 0:h.name]}):e.jsxs("div",{className:"register-login-wrap",children:[e.jsx("button",{onClick:T,children:qi[a]}),e.jsx("button",{onClick:b,children:Ri[a]})]}),h&&e.jsx(Xa,{userId:h==null?void 0:h._id,language:a,categoryByLanguages:Ue,getKeyByValue:Te,options:ke,optionsCategory:As,jokeCategoryByLanguage:Pt,norrisCategories:de})]})}),e.jsx("section",{className:`joke-container card ${a}`,children:e.jsx("div",{children:e.jsx(Ka,{user:h,handleDelete:Us,language:a,isCheckedSafemode:Q,setIsCheckedSafemode:_,handleToggleChangeSafemode:Ls,translateWordLanguage:Y,getKeyofEnum:Ge,options:ke,optionsSortBy:ee,norrisCategories:de,getCategoryInLanguage:p,handleUpdate:Re,setIsEditOpen:Xe,editId:qs,setEditId:he,handleRemoveJokeFromBlacklisted:ae,handleBlacklistUpdate:q})})})]})}function jr({heading:a,text:c,type:O,language:t,setLanguage:E}){const h=Mt[t],se=lt[t],Y=x=>Object.keys(x).map(B=>({value:x[B],label:B}));function R(x,B){for(const re in x)if(x[re]===B)return re}n.useEffect(()=>{const x=localStorage.getItem("JokeAppLanguage");x&&E(JSON.parse(x))},[]),n.useEffect(()=>{const x=document.createElement("script");return x.type="text/javascript",x.innerHTML=`document.documentElement.lang = '${t}';`,document.head.appendChild(x),document.title=h,()=>{document.head.removeChild(x)}},[t]);const J=x=>{x.preventDefault();const B=document.querySelector("#saved");B&&B.scrollIntoView({behavior:"smooth"})};return e.jsxs("div",{className:`${a.replace(/\s+/g,"-").toLowerCase().replace(/[^a-zA-Z]/g,"")} ${O} ${t}`,children:[e.jsx(aa,{language:t,address:"jokes",heading:h,text:c,reset:$t[t],instructions:ra[t]}),e.jsxs("div",{className:"inner-wrap",children:[e.jsx("section",{className:"joke-container card introduction",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex center gap",children:[e.jsxs("a",{href:"#jokeform",className:"svg-wrap newline",children:[e.jsx("span",{children:na[t]}),e.jsx(bt,{className:"down"})]}),e.jsxs("a",{href:"#",className:"svg-wrap newline",onClick:x=>J(x),children:[e.jsx("span",{children:la[t]}),e.jsx(bt,{className:"down"})]})]}),e.jsx("div",{children:e.jsx(ve,{language:t,id:"main-language",className:"language main",instructions:`${se}:`,options:Y(D),value:t?{value:t,label:R(D,t)}:void 0,onChange:x=>{E(x==null?void 0:x.value)}})}),e.jsx(rt,{language:t,text:ca[t],className:"features",children:e.jsxs("div",{className:"medium",children:[e.jsx("h2",{children:oa[t]}),e.jsxs("ul",{className:"ul",children:[e.jsxs("li",{children:[da[t]," ",e.jsx("a",{href:"https://sv443.net/jokeapi/v2/",children:"JokeAPI"})]}),e.jsx("li",{children:ha[t]}),e.jsxs("li",{children:[fa[t],e.jsx("ul",{children:Object.values(ms[t]).map(x=>e.jsx("li",{children:x},x))})]}),e.jsxs("li",{children:[ua[t],":",e.jsxs("ul",{children:[e.jsx("li",{children:se}),e.jsxs("li",{children:[et[t],e.jsxs("ul",{children:[e.jsx("li",{children:st[t]}),e.jsx("li",{children:tt[t]})]})]}),e.jsxs("li",{children:[St[t]," ",pa[t]]}),e.jsx("li",{children:ma[t]}),e.jsxs("li",{children:[$s[t],e.jsxs("ul",{children:[e.jsx("li",{children:Za[t]}),Object.values(Pt[t]).map(x=>e.jsx("li",{children:x},x))]})]})]})]}),e.jsxs("li",{children:[At[t],e.jsx("ul",{children:e.jsx("li",{children:xa[t]})})]})]})]})})]})}),e.jsx(Ga,{language:t,setLanguage:E})]})]})}export{jr as default};
